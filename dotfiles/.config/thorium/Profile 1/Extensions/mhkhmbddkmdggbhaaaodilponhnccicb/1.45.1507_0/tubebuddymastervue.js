!function(e,t,o){"use strict";var n=document.createElement("style");n.textContent='.tb-btn-gray{@apply tb-bg-gray-100 hover:tb-bg-gray-200 tb-text-gray-600 tb-font-medium;}.tb-btn-green{@apply tb-bg-green-500 hover:tb-bg-green-600 tb-text-white;}@tailwind components;@tailwind utilities;.tb-studio-tabs{@apply tb-w-1/4 tb-flex tb-h-full tb-items-center tb-justify-center tb-border-b-2 tb-border-gray-100 tb-border-solid tb-pt-1;}.tb-studio-tabs span{@apply tb-font-bold tb-mr-2;}.tb-studio-tag{max-height:22px}.tb-studio-tag:hover{background-color:#b7b7b7}.tb-studio-tag-exact{background-color:#6cc861}.tb-studio-tag-exact:hover{background-color:#4cb640}#tb-seo-studio-optimization-saved-message{background-color:#7cb342;padding:3px 0;border-radius:4px;position:absolute;width:350px;margin-left:30px;top:200px}#tb-seo-studio-message--success #tb-seo-studio-close-done{position:relative;top:12px}.tb-seo-studio-message-text{color:#fff;margin-top:-10px;padding:0 20px 10px}.fade-enter-active,.fade-leave-active{transition:opacity .5s ease}.fade-enter-from,.fade-leave-to{opacity:0}.tb-seo-studio-message-close{text-decoration:none;color:#fff}#learn-module{max-height:450px}.learn-video-container-text{max-width:250px}.learn-modal-backdrop{position:absolute;z-index:99999999999;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);content:""}#tb-learn-container{position:absolute;top:50%;left:50%;margin-right:-50%;margin-left:0;transform:translate(-50%,-50%)}.introjs-tooltiptext{color:#000}.introjs-tooltip-title{color:#424242}.introjs-tooltiptext{padding-top:0!important}.introjs-button{border:none;background-color:#e7e7e7!important;font-family:Roboto-Bold,sans-serif}.introjs-tooltipbuttons{border-top:none}.buddy-tutorial{box-shadow:2px 3px 9px #c8c8c8bf;border-radius:50%}.tab-tutorial-img{box-shadow:1px 1px 5px 3px #c8c8c8bf}.tab-tutorial-msg{font-size:14px;padding:5px 5px 0 15px}.tab-tutorial-container{display:flex;flex-direction:column;align-items:center}.img-msg-container,.img-playlist-container,.img-msg-container-sm{display:flex;align-items:center;padding-bottom:16px}.img-msg-container-sm{padding-bottom:0}#tb-tutorial-video{padding:10px}.tb-tutorial-1>.introjs-tooltiptext{padding-top:20px!important}.tb-tutorial-container{display:flex;flex-direction:column;align-items:center}.tb-tutorial-1.introjs-tooltip{padding-bottom:45px;height:540px;width:650px!important;max-width:675px!important}.tb-tutorial-1>.introjs-tooltipbuttons{display:flex;justify-content:center}#tutorial-step1-msg{font-size:32px}#tutorial-step2-msg{font-size:16px}#tutorial-step2-img{padding-top:10px}.tb-tutorial-3.introjs-tooltip,.tb-tutorial-4.introjs-tooltip,.tb-tutorial-5.introjs-tooltip{height:485px;width:450px!important;max-width:450px!important}.tb-tutorial-6.introjs-tooltip,.tb-tutorial-7.introjs-tooltip{width:350px!important;max-width:400px!important}.tb-tutorial-8.introjs-tooltip{width:530px!important;max-width:550px!important}.tutorial-playlist-container{display:flex;flex-direction:column}.tutorial-playlist-msg{font-size:14px;padding:15px 0}.img-playlist-container{align-items:flex-start}.tutorial-thumbnail-img{box-shadow:1px 1px 5px 3px #c8c8c8bf}.confirm-modal-backdrop{position:absolute;z-index:99999999999;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);content:""}#tb-toxicity-container{position:absolute;top:25%;left:50%;margin-right:-50%;margin-left:0;transform:translate(-50%,-50%)}#tb-toxic-button{background-color:#f9f5f5;z-index:100;position:fixed;outline:none;right:0px;cursor:pointer;transition:all .3s;-webkit-transition:all .3s;animation-timing-function:1s ease-in}#tb-toolbox{color:#1e1e1e}#tb-toolbox #tb-header{display:flex;align-items:center;padding:18px 32px 0}#tb-toolbox #tb-header img{display:inline-block;vertical-align:top;border-radius:9999px}#tb-toolbox #tb-header h2{display:inline-block;vertical-align:top;padding-left:10px}#tb-toolbox #tb-body{padding:16px 32px 32px}#tb-toolbox #tb-workarea{margin:0;padding:7px 0 13px;background-color:#fff;border-radius:10px;overflow-x:hidden;overflow-y:auto;box-shadow:-1px 3px 5px #ddd}.tb-beta-loader{width:10px;height:10px;margin-right:3px;border:2px solid #FFF;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.tb-beta-experience-cta-error-text{color:#da0800;margin-bottom:7px;font-family:Roboto-Medium,sans-serif}.tb-beta-cta-toolbox-wrapper{margin:0 24px}.tb-toolbox-back-btn{color:#1156ee;text-decoration:none;border:none;background:none;margin:20px 0 0 32px;font-size:16px;font-family:Roboto,sans-serif;font-weight:500}.tb-toolbox-back-btn:hover{background:#eaeaea;opacity:.5;border-radius:3px;cursor:pointer}.tb-title-generator-launch{font-family:Roboto-Bold,sans-serif;font-weight:600;margin-bottom:25px;margin-top:-17px}.tb-beta-badge{background-color:#054bff;color:#fff;font-size:10px;font-weight:400;padding:2px 8px;border-radius:15px;position:relative;top:-5px}main #tb-editvideo-nav-video{top:230px;transition:all .3s;-webkit-transition:all .3s}main #tb-editvideo-nav-video.is-open{transform:translate3d(-516px,0,0);animation-timing-function:1s ease-in}main #tb-editvideo-nav-list-menu{transition:all .3s;-webkit-transition:all .3s}main #tb-editvideo-nav-list-menu.is-open{transform:translate3d(-516px,0,0);animation-timing-function:1s ease-in}html[dark] #tb-video-optimization-testing #tb-optimization-button{color:#fff;border-color:#606060}html[dark] #tb-video-optimization-testing #tb-optimization-button:hover{background-color:#e023271a;border-color:#e02327;cursor:pointer}html[dark] #tb-video-optimization-testing .tb-optimization-copy{color:#fff}html[dark] #tb-video-optimization-testing #tb-optimization-completed-list{background-color:#353232;border:1px solid #312E2E;box-shadow:-1px 3px 8px #00000040}html[dark] #tb-video-optimization-testing #tb-optimization-completed-list li{color:#fff}html[dark] #tb-video-optimization-testing #tb-optimization-completed-list li:hover{background-color:#494646}html[dark] #tb-video-optimization-testing .tb-optimization-confidence-level{color:#adcfa1;background-color:#3e453b}#video-modal-backdrop{position:absolute;z-index:99999999999;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);content:""}.buttons.ytcp-video-details-section{position:relative}#tb-video-optimization-testing-modal-container{top:50%;left:50%;margin-right:-50%;margin-left:0;transform:translate(-50%,-50%)}#tb-video-optimization-testing{display:block;width:auto;height:auto;margin:0;padding:0 16px}#tb-video-optimization-testing .tb-optimization-logo{display:inline-block;vertical-align:initial;width:12px;height:10px;margin:0 4px 0 0;padding:0}#tb-video-optimization-testing #tb-optimization-button{display:inline-block;position:relative;vertical-align:initial;max-height:28px;width:auto;height:auto;margin:0;padding:6px 12px 5px;background-color:transparent;border:none;box-shadow:none;border:solid 1px #CCCCCC;border-radius:2px;font-size:12px;font-family:Roboto;font-weight:500;color:#000}#tb-video-optimization-testing #tb-optimization-button:hover{background-color:#e023271a;border-radius:2px;border-color:#e02327;cursor:pointer}#tb-video-optimization-testing #tb-optimization-button.open #tb-optimization-arrow{transform:rotate(180deg)}#tb-video-optimization-testing #tb-optimization-button.open #tb-optimization-completed-list{display:block}#tb-video-optimization-testing .tb-optimization-copy{display:inline-block;vertical-align:initial;margin:0;padding:0;font-size:12px;font-family:Roboto;font-weight:500;line-height:12px;color:#000}#tb-video-optimization-testing #tb-optimization-arrow{display:inline-block;vertical-align:middle}#tb-video-optimization-testing #tb-optimization-arrow polygon{fill:#7a7a7a}#tb-video-optimization-testing #tb-optimization-completed-list{display:none;position:absolute;top:23px;list-style:none;margin:3px 0 0 -4px;padding:4px 0;background-color:#fff;border:1px solid #E6E6E6;border-radius:2px;box-shadow:-1px 3px 8px #ddd}#tb-video-optimization-testing #tb-optimization-completed-list li{padding:8px;text-align:left;font-size:12px;font-family:Roboto;font-weight:400;line-height:12px;color:#000}#tb-video-optimization-testing #tb-optimization-completed-list li:hover{background-color:#f2f2f2}#tb-video-optimization-testing .tb-optimization-confidence-level{display:inline-block;vertical-align:initial;margin:0 0 0 8px;padding:4px 8px 3px;font-size:10px;font-family:Roboto;font-weight:500;line-height:10px;color:#265215;background-color:#d8efd0;border-radius:27px}#tb-video-optimization-testing.disabled #tb-optimization-button:hover{background-color:transparent;cursor:default}#tb-video-optimization-testing.disabled .tb-optimization-copy{color:#c7c7c7}#tb-video-optimization-testing-modal-container{font-size:0}#tb-video-optimization-testing-modal-container .tb-body{display:block;vertical-align:top;min-height:515px;background-color:#fff}#tb-video-optimization-testing-modal-container .tb-video-thumbnail{display:inline-block;vertical-align:top;width:36%;height:auto;margin:0;padding:32px 0}#tb-video-optimization-testing-modal-container .tb-video-thumbnail-image{display:block;max-height:300px;width:240px;height:auto;margin:0 auto;padding:0}#tb-video-optimization-testing-modal-container #tb-video-thumbnail-message{display:none;vertical-align:top;max-width:240px;height:auto;margin:24px auto;padding:16px 0;font-size:12px;font-family:Roboto;font-style:normal;line-height:16px;color:#fff;background-color:#303031;border-radius:10px}#tb-video-optimization-testing-modal-container #tb-video-thumbnail-message p{margin:0;padding:0 16px}#tb-video-optimization-testing-modal-container #tb-video-thumbnail-message.show{display:block}#tb-video-optimization-testing-modal-container .tb-component{display:inline-block;vertical-align:top;width:64%;height:auto;margin:0;padding:32px 0}#tb-video-optimization-testing-modal-container .tb-input-type-list .tb-input-type-list-form{margin-left:16px}#tb-video-optimization-testing-modal-container .tb-input-type-list .tb-input-type-list-item{width:87%}#tb-video-optimization-testing-modal-container .tb-tags h3{display:block;vertical-align:top;margin:0 0 8px;padding:0;font-size:14px;font-family:Roboto;font-weight:600;font-style:normal;line-height:14px;color:#47494a}#tb-video-optimization-testing-modal-container .tb-tags .tb-tags-title{display:block;vertical-align:top;margin:0 56px 6px 16px;padding:0;font-size:12px;font-family:Roboto;font-weight:400;font-style:normal;line-height:12px;color:#606060}#tb-video-optimization-testing-modal-container .tb-tags .tb-tags-container{display:flex;flex-wrap:wrap;align-content:flex-start;vertical-align:top;max-height:88px;width:auto;height:108px;margin:0 56px 3px 16px;padding:9px 8px;border:1px solid #ccc;border-radius:4px;overflow-y:scroll}#tb-video-optimization-testing-modal-container .tb-tags .tb-tags-container.tb-tag-recommendations{max-height:108px;padding:0;border:none}#tb-video-optimization-testing-modal-container .tb-tags .tb-tags-container .tb-tag-icon{margin:0 0 0 8px;font-size:16px}#tb-video-optimization-testing-modal-container .tb-tags .tb-tags-character-count{display:block;vertical-align:top;margin:0 56px 11px 16px;padding:0;font-size:10px;font-family:Roboto;font-weight:400;font-style:normal;line-height:10px;color:#959595;text-align:right}#tb-video-optimization-testing-modal-container .tb-tags .tb-character-count-counter{display:inline-block;vertical-align:top}#tb-video-optimization-testing-modal-container .tb-tags .tb-tag-count-limit-exceeded{color:red}#tb-video-optimization-testing-modal-container .tb-tags .tb-video-tag{display:inline-block;vertical-align:top;min-height:24px;width:auto;height:24px;margin:2px;padding:0 8px;background-color:#f0f0f0;border-radius:17px}#tb-video-optimization-testing-modal-container .tb-tags .tb-video-tag p{margin:0;padding:0;font-size:12px;font-family:Roboto;font-weight:400;font-style:normal;line-height:12px;color:#606060}#tb-video-optimization-testing-modal-container .tb-tags .tb-video-tag.tb-tag-selected{min-height:22px;padding:0 7px;background-color:#fff;border:1px solid #BDBDBD;opacity:.6}#tb-video-optimization-testing-modal-container #tb-tag-edit-input{display:flex;align-items:center;width:auto;height:24px;margin:0;padding:0;font-size:12px;font-family:Roboto;font-weight:400;font-style:normal;line-height:12px;color:#606060;white-space:pre;outline:none;border:initial none initial;border-image:initial;background:transparent}#tb-video-optimization-testing-modal-container #tb-tag-input{vertical-align:top;min-height:24px;width:auto;height:24px;margin:2px;padding:0 8px}#tb-video-optimization-testing-modal-container #tb-tag-input p{display:block;transform:translateY(50%);margin:0;padding:0;font-size:12px;font-family:Roboto;font-weight:400;font-style:normal;line-height:12px;color:#606060;white-space:pre;outline:none;border:initial none initial;border-image:initial;background:transparent}#tb-video-optimization-testing-modal-container .tb-next-button-dim{background-color:#9cb8f8;cursor:not-allowed!important;pointer-events:none}.tb-title-suggestions{position:relative;margin:0 0 6px}.tb-title-suggestions .tb-title-suggestions-title{display:inline-block;margin:0 0 8px;padding:0;font-size:12px;font-family:Roboto;font-weight:400;font-style:normal;line-height:12px;color:#606060}.tb-title-suggestions .tb-title-suggestions-help{display:inline-block;float:right;margin:0;padding:0;font-size:12px;font-family:Roboto;font-weight:500;font-style:italic;line-height:12px;color:#1156ee;cursor:pointer}.tb-title-suggestions .tb-title-suggestions-icon{display:inline-block;vertical-align:middle;width:16px;height:16px;margin:0}.tb-title-suggestions .tb-title-suggestions-help-copy{display:inline-block;vertical-align:middle;margin:0;padding:0 0 0 5px}.tb-title-suggestions .tb-title-suggestions-main{display:block;vertical-align:top;min-height:185px;margin:0 0 13px;padding:0}.tb-title-suggestions .tb-title-suggestions-message-container{display:block;position:relative;vertical-align:top;min-height:185px;text-align:center;background-color:#f5f5f5;border-radius:8px}.tb-title-suggestions .tb-title-suggestions-message-container .tb-title-suggestions-message{position:absolute;top:50%;right:50%;transform:translate(50%,-50%);width:70%}.tb-title-suggestions .tb-title-suggestions-message-container h4{margin:0;padding:0;font-family:Roboto;font-weight:600;font-style:normal;color:#707070}.tb-title-suggestions .tb-title-suggestions-message-container p{margin:0;padding:0;font-family:Roboto;font-weight:400;font-style:normal;color:#8f8f8f}.tb-title-suggestions .tb-title-suggestions-message-container .tb-loading-image{display:block;vertical-align:top;margin:0 auto 12px;padding:0}.tb-title-suggestions .tb-title-suggestions-message-container .tb-loading-p{font-size:18px;line-height:18px}.tb-title-suggestions .tb-title-suggestions-message-container .tb-error-image{display:block;vertical-align:top;margin:0 auto 13px}.tb-title-suggestions .tb-title-suggestions-message-container .tb-error-h4{margin:0 0 5px;font-size:16px;line-height:16px}.tb-title-suggestions .tb-title-suggestions-message-container .tb-error-p{font-size:14px;line-height:16px}.tb-title-suggestions .tb-title-suggestions-container .tb-suggested-title{padding:10px}.tb-title-suggestions .tb-title-suggestions-container .tb-suggested-title:hover{background-color:#f3f3f3;border-radius:8px;cursor:default}.tb-title-suggestions .tb-title-suggestions-container .tb-suggested-title:hover .tb-title-suggestions-plus{background-color:#1156ee40;cursor:pointer}.tb-title-suggestions .tb-title-suggestions-container .tb-title-suggestions-image{display:inline-block;vertical-align:top;width:5%;margin:0;padding:0}.tb-title-suggestions .tb-title-suggestions-container .tb-title-suggestions-plus{display:block;vertical-align:top;width:20px;height:20px;margin:0;padding:0;text-align:center;font-size:24px;font-weight:400;font-style:normal;line-height:19px;color:#1156ee;border:2px solid #1156EE;border-radius:20px;background-color:#1156ee14}.tb-title-suggestions .tb-title-suggestions-container .tb-title-suggestion{display:inline-block;vertical-align:-webkit-baseline-middle;width:93%;margin:0;padding:0 0 0 10px;font-size:14px;font-family:Roboto;font-weight:400;font-style:normal;line-height:18px;color:#1c1b1b}.tb-title-suggestions .tb-popup{position:absolute;top:-178px;right:0;font-size:0}.tb-title-suggestions .tb-popup .tb-popup-bubble{width:300px;margin:0;padding:16px;background-color:#272729;border:1px solid #606067;border-radius:8px}.tb-title-suggestions .tb-popup .tb-close-icon{position:absolute;top:10px;right:10px;margin:0;padding:0;font-size:12px;color:#fff;cursor:pointer}.tb-title-suggestions .tb-popup .tb-popup-p{margin:0 0 20px;padding:0;font-size:12px;font-family:Roboto;font-weight:400;font-style:normal;line-height:16px;color:#fff}.tb-title-suggestions .tb-popup .tb-popup-p:last-child{margin-bottom:0}.tb-title-suggestions .tb-popup .tb-popup-point{position:absolute;right:39%;bottom:-9px;width:12px;height:10px;fill:#272729}.tb-title-suggestions .tb-title-refresh-container{height:17px}.tb-title-suggestions .tb-title-refresh-container #tb-title-refresh{display:block;float:right;vertical-align:top;width:77px;cursor:pointer}.tb-title-suggestions .tb-title-refresh-container #tb-title-refresh .tb-refresh-icon{display:inline-block;vertical-align:middle}.tb-title-suggestions .tb-title-refresh-container #tb-title-refresh .tb-refresh-copy{display:inline-block;vertical-align:middle;margin:0;padding:0 0 0 6px;font-size:14px;font-family:Roboto;font-weight:500;font-style:normal;line-height:14px;color:#282828}.tb-image-spin{-webkit-animation-name:spin;-webkit-animation-duration:1s;-webkit-animation-iteration-count:infinite;-webkit-animation-timing-function:linear;-moz-animation-name:spin;-moz-animation-duration:1s;-moz-animation-iteration-count:infinite;-moz-animation-timing-function:linear;-ms-animation-name:spin;-ms-animation-duration:1s;-ms-animation-iteration-count:infinite;-ms-animation-timing-function:linear;animation-name:spin;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear}@-ms-keyframes spin{0%{-ms-transform:rotate(0deg)}to{-ms-transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(360deg)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hide{display:none!important}.tb-thumbnail-analyzer-beta-disclaimer{background-color:#fbc6384d;border:1px solid rgb(251,198,56);margin-bottom:20px;border-radius:4px;padding:8px;font-size:12px;display:flex}.tb-thumbnail-analyzer-beta-disclaimer p{display:inline;padding-left:15px;color:#25262f}.tb-thumbnail-analyzer-beta-disclaimer svg{display:inline;width:55px;height:25px;position:relative;padding-left:6px;top:8px}.tb-thumbnail-analyzer-upload-area{background:#FFFFFF;border:3px dashed #C0C0C0;border-radius:8px;height:85px!important;width:98%;display:grid}.tb-thumbnail-analyzer-drop-area{margin:auto;display:inline-block}.tb-thumbnail-analyzer-drop-area svg{fill:none;width:38px;display:inline-block;margin:0 10px;vertical-align:text-bottom}.tb-thumbnail-analyzer-drop-area p{color:#8a8a8a;display:inline-block;font-weight:500;font-size:16px;text-align:left;margin-left:10px;cursor:pointer}.tb-thumbnail-analyzer-drop-area label{font-size:14px;font-weight:400;text-decoration-line:underline;color:#8a8a8a;text-align:center}.tb-thumbnail-analyzer-drop-area input{display:none}.tb-thumbnail-analyzer-upload-processing{display:grid;margin-top:0;text-align:center;color:#424242}.tb-thumbnail-analyzer-upload-processing svg{width:18px;height:22px;fill:none;margin:12px auto 0}.tb-thumbnail-analyzer-upload-processing p{display:grid;margin-top:0}.tb-thumbnail-analyzer-loading-bar{width:45%;height:8px;background-color:#f3f3f3;margin:5px auto 10px;border-radius:4px}.tb-thumbnail-analyzer-loading-bar #tb-progress{background-color:#1156ee;width:1%;height:8px;border-radius:4px}.tb-thumbnail-analyzer-cancel{margin-top:25px}.tb-thumbnail-analyzer-loading-existing-images{margin:30px 0 0}.tb-thumbnail-analyzer-loading-existing-images p{color:#8c8c8c;font-weight:500;font-size:14px}.tb-thumbnail-analyzer-placeholder{margin-left:30px;margin-top:10px}.tb-thumbnail-analyzer-placeholder-item1{display:inline-block}.tb-thumbnail-analyzer-placeholder-item2{display:inline-block;position:relative;margin-left:15px;top:-58px}.tb-thumbnail-analyzer-hide-heatmap{margin-top:20px;text-align:right}.tb-thumbnail-analyzer-hide-heatmap-btn{background:none;border-radius:25px;border:solid 1px #1156ee;color:#1156ee;text-decoration:none;font-size:12px;font-weight:600;margin-bottom:5px}.tb-thumbnail-analyzer-hide-heatmap-btn:hover{cursor:pointer;background-color:#1156ee1a}.tb-thumbnail-analyzer-list-container{overflow-y:scroll;overflow-x:hidden;padding:0;margin:0;position:relative;width:460px}.tb-thumbnail-analyzer-apply-container{position:absolute;bottom:30px;width:89%}.tb-thumbnail-analyzer-apply-selected{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:8px 32px;gap:8px;width:98%;height:48px;top:calc(50% + 488px);color:#fff;background-color:#1156ee;border-radius:4px;border:none;font-size:14px}.tb-thumbnail-analyzer-apply-selected:hover{opacity:.8;cursor:pointer}.tb-thumbnail-analyzer-apply-selected:disabled{background:#9CB8F7;opacity:1!important;cursor:default!important}.tb-thumbnail-analyzer-ab-test{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:8px 32px;margin-bottom:16px;gap:8px;width:98%;height:48px;top:calc(50% + 488px);color:#1156ee;background-color:#fff;border-radius:4px;border:solid 1px #114BEE;font-size:14px}.tb-thumbnail-analyzer-ab-test:hover{opacity:.8;cursor:pointer}.tb-thumbnail-analyzer-ab-test:disabled{color:#9cb8f7;border-color:#fff;opacity:.3;cursor:default!important}.tb-thumbnail-analyzer-list-item{padding:0;margin:0}.tb-thumbnail-analyzer-current-thumbnail{display:block;padding-top:15px;align-items:center;box-sizing:border-box;background-color:transparent;border:1px solid rgba(175,175,175,0);border-radius:8px;width:100%;height:135px!important;margin-top:5px;margin-bottom:8px}.tb-thumbnail-analyzer-sync-btn{margin-top:25px;padding:5px 0}.tb-thumbnail-analyzer-sync-btn:hover{background-color:#1156ee1a;border-radius:4px;cursor:pointer}.tb-thumbnail-analyzer-sync-btn svg{margin-right:5px;vertical-align:bottom}.tb-thumbnail-analyzer-sync-btn span{color:#1156ee;font-weight:500}.tb-thumbnail-analyzer-empty-list{color:#1156ee;background-color:#1156ee1a;border:1px solid rgb(117,138,240);border-radius:4px;padding:5px;letter-spacing:normal;position:relative;width:185px;top:23px}.tb-thumbnail-analyzer-uploaded-item{display:block;padding-top:15px;align-items:center;box-sizing:border-box;background-color:transparent;border:1px solid rgba(175,175,175,0);border-radius:8px;width:100%;height:135px!important;margin-top:5px;margin-bottom:8px}.tb-thumbnail-analyzer-uploaded-item:hover{background-color:#c7c7c71a;border:1px solid rgba(175,175,175,.4);cursor:pointer}.tb-thumbnail-analyzer-thumbnail{display:inline-block}.tb-thumbnail-analyzer-thumbnail input{position:relative;top:-40px;left:4px;margin-right:4px!important}.tb-thumbnail-analyzer-thumbnail input:hover{cursor:pointer}.tb-thumbnail-analyzer-heatmap{border-radius:4px;position:absolute;height:100px;left:33px;width:180px}.tb-thumbnail-analyzer-image{width:180px;height:100px;border-radius:3px;margin-left:10px!important;box-shadow:5px 5px 5px #0000001a}.tb-thumbnail-analyzer-processed-thumbnail-info{font-family:Roboto,sans-serif;font-style:normal;font-weight:400;font-size:12px;line-height:14px;letter-spacing:.05em;color:#8c8c8c;display:inline-block;margin-left:20px;position:absolute}.tb-thumbnail-analyzer-score-container{margin-top:20px}.tb-thumbnail-analyzer-score-container svg{position:relative;top:-13px;margin-right:10px}.tb-thumbnail-analyzer-score{font-size:45px;color:#4e515a}.tb-thumbnail-analyzer-score span{font-size:36px}.tb-thumbnail-analyzer-delete{top:-4px;left:175px;position:absolute;padding:5px 6px 3px}.tb-thumbnail-analyzer-delete:hover{background-color:#dcdcdc;border-radius:3px;cursor:pointer}.tb-thumbnail-analyzer-delete-invisible{top:-4px;left:175px;position:absolute;padding:5px 6px 3px;opacity:0}.tb-thumbnail-analyzer-recommended-tag{background-color:#2fa00b33;border:1px solid rgb(47,160,11);border-radius:15px;padding:4px 16px;text-align:center;color:#2fa00b;position:relative;bottom:-20px;max-width:130px}.tb-thumbnail-analyzer-processing-state{display:inline-block;vertical-align:top}.tb-thumbnail-analyzer-processing-state span{position:relative;left:20px;top:30px;width:15px;height:15px}.tb-thumbnail-analyzer-survey-link{margin-bottom:20px;line-height:20px;text-align:center}.tb-thumbnail-analyzer-survey-link a{color:#1156ee;font-weight:500}.tb-thumbnail-analyzer-free-uploads-messaging{margin:25px 0}.tb-thumbnail-analyzer-free-uploads-remaining{padding:0 11px 0 14px;margin-top:24px;margin-bottom:28px;background:rgba(17,86,238,.1);border:1px solid #758AF0;border-radius:4px;height:48px;font-family:Roboto,sans-serif;font-style:normal;font-weight:400;font-size:12px;line-height:16px;color:#25262f;display:flex;align-items:center;justify-content:space-between}.tb-thumbnail-analyzer-free-uploads-remaining i{color:#1156ee;font-weight:600;font-size:large;margin-right:14px}.tb-thumbnail-analyzer-free-uploads-remaining span{font-weight:500}.tb-thumbnail-analyzer-free-uploads-remaining a{color:#1156ee;text-decoration:none;font-weight:500}.tb-thumbnail-analyzer-free-uploads-all-used{display:block;width:100%}.tb-thumbnail-analyzer-free-uploads-all-used img{display:inline-block;width:35%}.tb-thumbnail-analyzer-free-uploads-all-used div{display:inline-block;width:62%;vertical-align:top;padding-left:10px}.tb-thumbnail-analyzer-upgrade-btn{border:solid 1px rgb(17,75,238);border-radius:3px;background:transparent;padding:8px 0;font-size:13px;width:100%;color:#1156ee;font-family:Roboto-Bold,sans-serif}.tb-thumbnail-analyzer-upgrade-btn:hover{cursor:pointer;background-color:#114bee1a}.is-selected{background-color:#1156ee1a!important;border:1px solid rgba(17,86,238,.4)!important}#tb-sidebar{position:fixed;background-color:#f9f5f5;box-shadow:5px 0 10px 5px #888;border-radius:10px 0 0 10px;z-index:100;transition:all .3s;-webkit-transition:all .3s}#tb-sidebar #tb-header h2{font-family:Roboto;font-size:32px;color:#1e1e1e}#entity-page{flex-direction:row}#tb-sidebar-tab{background-color:#f9f5f5;box-shadow:-7px 0 10px -3px #888;z-index:100;position:fixed;outline:none;right:0px;cursor:pointer;transition:all .3s;-webkit-transition:all .3s;padding:0;width:48px;height:76px;border-radius:10px 0 0 10px;animation-timing-function:1s ease-in}#tb-sidebar-tab .tb-module-logo{display:block;position:absolute;top:50%;right:50%;transform:translate(60%,-50%);width:19px;height:auto;transition:all .2s ease-in-out}#tb-sidebar-tab:before{display:block;content:"";background-color:#e02325;width:7px;height:100%;border-radius:10px 0 0 10px}#tb-sidebar-tab:hover .tb-module-logo{transform:translate(60%,-50%) scale(1.4)}.tb-sidebar-list-item{padding:16px 24px}.tb-sidebar-list-item .tb-sidebar-header{margin:0 0 14px}.tb-sidebar-list-item .tb-sidebar-header .tb-sidebar-header-image{display:block;position:absolute;top:50%;right:50%;transform:translate(50%,-50%);width:65%;height:auto}.tb-sidebar-list-item .tb-sidebar-header .left{display:inline-block;position:relative;vertical-align:top;max-width:32px;max-height:32px;width:9%;height:32px;margin:0 12px 0 0;border-radius:16px}.tb-sidebar-list-item .tb-sidebar-header .right{display:inline-block;vertical-align:top;width:87%}.tb-sidebar-list-item h2{display:block;margin:0 0 4px;padding:0;font-size:24px;font-family:Roboto;font-weight:700;line-height:24px}.tb-sidebar-list-item h3{display:block;margin:0;padding:0;font-size:14px;font-family:Roboto;font-weight:500;line-height:14px}.tb-sidebar-list-item .tb-sidebar-sub-item{margin:0 0 6px;padding:16px 24px;border:1px solid #EAE9E9;border-radius:5px}.tb-sidebar-list-item .tb-sidebar-sub-item h4{display:inline-block;margin:0 0 3px;padding:0;font-size:16px;font-family:Roboto;font-weight:700;color:#2c2a2a;line-height:16px}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-sub-item-span{display:inline-block;vertical-align:top;margin:0 0 0 6px;padding:5px 12px 4px;font-size:10px;font-family:Roboto;font-weight:400;color:#fff;line-height:10px;border-radius:41px;text-transform:uppercase}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-sub-item-span.red{background-color:#e02325}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-sub-item-span.blue{background-color:#232be0}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-sub-item-span.ab-test-in-progress{background-color:#9de6f6;color:#000}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-sub-item-span.ab-test-complete{background-color:#a0f3c5;color:#000}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-sub-item-p{display:block;margin:0;padding:0;color:#474444;font-size:14px;font-family:Roboto;font-weight:400;line-height:20px}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-permission-copy{margin:8px 0 0;padding:12px;font-size:12px;font-family:Roboto;font-weight:700;color:#474444;line-height:12px;background-color:#fff;border:1px solid #EAE9E9;border-radius:6px}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-permission-copy .tb-permission-anchor{color:#1156ee}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-permission-copy .tb-permission-anchor:hover{text-decoration:underline}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-permission-access{display:inline-block;vertical-align:initial;margin:0 8px 0 0;padding:4px 6px;font-size:10px;font-family:Roboto;font-weight:500;color:#fff;letter-spacing:1px;line-height:10px;border-radius:6px}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-permission-access.yellow{background-color:#efb037}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-permission-access.orange{background-color:#e6512a}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-permission-access.purple{background-color:#4c2b88}.tb-sidebar-list-item .tb-sidebar-sub-item .tb-lock-icon{display:inline-block;width:14px;height:14px;margin:0 0 0 7px;padding:0}.tb-sidebar-list-item .tb-sidebar-sub-item:last-child{margin-bottom:0}.tb-sidebar-list-item .tb-sidebar-sub-item-a{display:block;margin-bottom:6px;border:1px solid rgba(255,255,255,.1)}.tb-sidebar-list-item .tb-sidebar-sub-item-a .tb-sidebar-sub-item{margin-bottom:0}.tb-sidebar-list-item .tb-sidebar-sub-item-a:hover{background-color:#1156ee14;border:1px solid #1156EE;border-radius:5px}.tb-sidebar-list-item .tb-sidebar-sub-item-a:last-child{margin-bottom:0}.tb-sidebar-list-item .tb-sub-item-locked{background-color:#fcfbfb}#tb-sidebar-footer{padding:16px 24px}#tb-sidebar-footer h4{margin:0 0 12px;padding:0 0 8px;font-size:16px;font-family:Roboto;font-weight:700;color:#2c2a2a;line-height:16px;border-bottom:1px solid #E9E9E9}.tb-sidebar-list{list-style:none;margin:0;padding:0 0 0 16px}.tb-sidebar-list a{display:block;padding:6px 0}.tb-sidebar-list a:first-child{padding-top:0}.tb-sidebar-list a:last-child{padding-bottom:0}.tb-sidebar-list li{margin:0;padding:0}.tb-sidebar-list .tb-list-image{display:inline-block;vertical-align:top;width:20px;height:20px;margin:0 8px 0 0;padding:0}.tb-sidebar-list .tb-list-copy{display:inline-block;vertical-align:middle;margin:0;padding:0;font-size:14px;font-family:Roboto;font-weight:500;color:#474444;line-height:14px}.tb-input-type-list{padding-right:56px}.tb-input-type-list .tb-input-type-list-header{display:block;margin:0 0 16px;padding:0;font-size:14px;font-family:Roboto;font-style:normal;font-weight:500;line-height:14px;color:#47494a}.tb-input-type-list .tb-input-type-list-form{list-style:none;width:100%}.tb-input-type-list .tb-input-type-list-item{display:inline-block;width:90%;height:auto;margin:8px 0;padding:30px 24px;border:1px solid #EAE9E9;border-radius:10px;cursor:pointer}.tb-input-type-list .tb-input-type-list-item.selected{border:2px solid #1156EE;box-shadow:0 8px 12px -8px #0003}.tb-input-type-list .tb-input-type-list-item.selected .tb-input-type-list-copy{font-weight:500}.tb-input-type-list .tb-input-type-list-item.selected:hover{border:2px solid #1156EE;border-radius:10px}.tb-input-type-list .tb-input-type-list-item:first-child{margin-top:0}.tb-input-type-list .tb-input-type-list-item:last-child{margin-bottom:0}.tb-input-type-list .tb-input-type-list-item:hover:not(.disabled){border:1px solid #1156EE;background-color:#1156ee1a}.tb-input-type-list .tb-input-type-list-item.disabled{cursor:not-allowed}.tb-input-type-list .tb-input-type-list-image{display:inline-block;vertical-align:top;width:20px;height:20px;margin:0 0 0 12px;padding:0}.tb-input-type-list .tb-input-type-list-copy{display:inline-block;vertical-align:initial;margin:0 0 0 10px;padding:0;font-size:16px;font-family:Roboto;font-style:normal;font-weight:400;line-height:16px;color:#242427}.tb-step-crumb{background:#CDCFD1;border-radius:50%;width:10px;height:10px}.tb-step-crumb.is-completed-step{background:#1156EE}.tb-step-chevron{color:#dbdee5}.tb-step-chevron.is-completed-step{color:#bbbdc5}#tb-footer-back{background:none;color:#175dc9;border:none;padding:5px 10px 5px 5px;cursor:pointer;outline:inherit}.tb-video-opt-btn{text-transform:none!important;background:#175DC9}.tb-seo-studio-tab-navigation-container{max-height:40px}#tb-seo-studio-vue-score-chart{height:145px;width:145px}.tb-mat-icon-sm{font-size:13px!important}.tb-mat-icon-md{font-size:18px!important}.footer[data-v-80942414]{margin:0 0 15px;display:flex;justify-content:center;align-items:center;font-family:Montserrat,sans-serif}.footer a[data-v-80942414]{color:#1d2327;font-size:16px;font-style:normal;font-weight:600;line-height:normal}.footer a[data-v-80942414]:hover{text-decoration:underline}.header[data-v-57760039]{width:100%;height:48px;border-radius:8px 8px 0 0;background:#1D2327;display:flex;justify-content:space-between;align-items:center;color:#fafaff;font-family:Montserrat,sans-serif}.left-header[data-v-57760039]{padding:0 16px;font-size:14px;font-style:normal;font-weight:700;line-height:22px;margin-right:auto;display:flex;align-items:center;text-align:left}.left-header img[data-v-57760039]{height:auto;width:24px;border-radius:50%;margin-right:8px}.x-close[data-v-57760039]{padding:0 16px;margin-left:auto}.x-close[data-v-57760039]:hover{cursor:pointer}.x-close-i[data-v-57760039]{font-weight:500;font-size:25px;color:#fafaff}.x-close-i[data-v-57760039]:hover{color:#ce4260}.wrapper[data-v-62051646]{padding:10px 25px;background:#fff;font-family:Montserrat,sans-serif;font-size:14px;font-weight:400;color:#fff;text-align:center;font-style:normal}.content[data-v-62051646]{filter:drop-shadow(0px 4px 18px rgba(12,25,66,.12)) drop-shadow(0px 10px 14px rgba(12,25,66,.14)) drop-shadow(0px 6px 6px rgba(12,25,66,.2));border-radius:8px;background:var(--3c680fb2) right bottom;background-size:cover;padding:20px}.usesLeft[data-v-62051646]{color:#68efda;font-size:20px;font-weight:700}.bold[data-v-62051646]{font-weight:700}.secondary-text[data-v-62051646]{margin-top:20px}.upgradedLicense[data-v-62051646]{background:linear-gradient(103deg,#D92145 56.38%,#F89B29 76.53%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:15px;font-style:normal;font-weight:700;line-height:180%}.upgrade-btn[data-v-62051646]{display:inline-flex;padding:13px 20px;justify-content:center;align-items:center;gap:12px;border-radius:62px;background:#3DD8BE;box-shadow:0 5px 30px #00000017;margin:20px 0 0;font-size:16px;font-weight:600;color:#0c1942;font-family:Montserrat,sans-serif;line-height:normal}.upgrade-btn i[data-v-62051646]{color:#0c1942;display:block;font-size:30px;margin-right:12px;width:21px;height:21px;margin-top:-7px}.upgrade-btn[data-v-62051646]:hover{background:#08A78C;cursor:pointer}#tb-seo-studio-thumbnail-preview{width:412px}.tb-seo-studio-drafts-container,#tb-seo-studio-suggested-keywords-container{height:270px}.learn-more{background:#FAFAFF;padding:10px;border-radius:0 0 8px 8px;border-top:1px solid #ddd;text-align:center;text-decoration:underline}.learn-more a{color:#1d2327;text-decoration:underline}#tb-select-target-kw-container{height:325px}#tb-select-target-kw-left-menu{max-width:360px}.gate-component-container{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5)}.gate-component{position:absolute;top:5px;left:50%;transform:translate(-50%);width:100%;max-width:330px;background:white;border-radius:8px}.tb-seo-studio-description-font{height:300px;font-size:15px;font-family:Roboto,Arial,sans-serif}#tb-seo-studio-description-textarea{color:#444;background-color:transparent;resize:none}#tb-seo-studio-description-bg{padding:2px;line-height:normal}#tb-seo-studio-title-description-container{height:471px}.material-icons{font-size:22px}.tb-studio-tag-input{outline:none;border:none;background:transparent;white-space:pre}#tb-suggested-tags-options .tb-material-radio-label{color:#3d3d3d}#tb-seo-studio-vue-tag-container{height:460px}.tb-seo-studio-image{max-width:200px;max-height:113px;object-fit:cover}.tb-seo-studio-search-results{max-height:none;height:377px}#tb-seo-studio-serp-loading-container{top:34px;width:94%;height:380px}#tb-seo-studio-serp-loading-container .tb-spinner{position:absolute;top:50%;left:41%;transform:translate(-50%)}#tb-seo-studio-serp-loading-container .tb-loading-text{position:absolute;top:50%;left:50%;transform:translate(-50%)}.tb-seo-studio-apply-hr{width:90%;border:solid .5px #dadada;margin:0 auto 10px}.tb-seo-studio-apply-nav{width:fit-content;margin:0 auto}#tb-seo-studio-left-preview{width:130px}#tb-seo-studio-left-preview img{width:118px;height:80px}#tb-seo-studio-main-panel{width:850px}#tb-video-player-component{width:58%;min-height:390px;padding:22px 22px 14px}.tb-chapter-marker{position:absolute;left:-3px;bottom:3px;width:7px;height:10px;cursor:pointer}.tb-chapter-marker .body{display:block;width:7px;height:7px;background-color:#000}.tb-chapter-marker .body-point{display:block;fill:#000}.tb-tooltip-vue{padding:.25rem .5rem;line-height:1.25;border-radius:.375rem;color:#fff;background-color:#000000f2;max-width:200px}.tb-tooltip-slot-container{display:inline-block}.tb-tooltip-arrow-up{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:5px solid rgba(0,0,0,.9)}.tb-tooltip-arrow-down{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgba(0,0,0,.9)}.tb-tooltip-arrow-left{width:0;height:0;border-top:5px solid transparent;border-bottom:5px solid transparent;border-right:5px solid rgba(0,0,0,.9)}.tb-tooltip-arrow-right{width:0;height:0;border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid rgba(0,0,0,.9)}.v-enter-active,.v-leave-active{transition:opacity .3s ease}.tb-timestamp-input-container{width:64px;padding:0 10px;height:28px;background-color:#fff;border:2px solid #DEDEDE;display:flex;align-items:center;justify-content:center}.tb-timestamp-input-container input{width:15px;outline:none;border:none;background-color:transparent;font-family:Roboto,sans-serif;font-variant-numeric:tabular-nums;font-style:normal;font-weight:500;font-size:13px;line-height:10px;color:#424242}.tb-timestamp-input-container:focus-within{border-color:#4285f4}.tb-timestamp-input-container[tb-inline=true]{background-color:#1b1a1d;border:2px solid transparent;width:198px;height:16px;justify-content:flex-start;padding:0}.tb-timestamp-input-container[tb-inline=true] input{color:#fff}.tb-timestamp-active{border-color:#4285f4}.tb-timestamp-disabled{background-color:#f5f5f5;border-color:#dedede;color:#424242;cursor:not-allowed}.timestamp-divider{font-size:13px}.tb-inline-editor-container{display:flex;position:absolute;top:80px;right:50%;transform:translate(50%,-50%);width:236px;height:58px;background:#2D2F31;box-shadow:0 4px 4px #00000040;backdrop-filter:blur(4px);border-radius:7px}.tb-inline-editor-container .tb-inline-chapter-title{background:#1B1A1D;border-radius:3px;font-family:Roboto,sans-serif;font-style:normal;font-weight:500;font-size:13px;line-height:10px;width:100%;height:16px;margin-top:.5rem;outline:none;border:2px solid transparent;color:#fff}.tb-inline-editor-container .tb-timestamp-input-container{width:181px}.tb-inline-editor-chapter-number{font-family:Roboto,sans-serif;font-variant-numeric:tabular-nums;font-style:normal;font-weight:700;font-size:24px;line-height:11px;text-align:center;color:#fff}.tb-inline-lock{top:50%;transform:translate(-50%,50%);margin:5px;width:20px;height:20px;color:#fff;cursor:pointer}.tb-close-modal{cursor:pointer}.tb-chapter-editor-progress-bar-container{display:block;width:640px;margin:20px auto 0}.tb-chapter-editor-progress-bar{position:relative;width:616px;height:6px;margin:0 auto;background-color:#e3e3e3;z-index:2}#tb-progress-bar-elapsed{background-color:#e02325;height:100%;z-index:10}#tb-chapter-editor-playhead{position:absolute;bottom:0;width:13px;height:auto;font-size:0}#tb-chapter-editor-playhead:before{position:absolute;content:"";top:30px;left:5.5px;width:1px;height:40px;background-color:red}#tb-chapter-editor-playhead .button{position:relative;display:block;width:13px;height:12px;margin:0 0 1px;background-color:#e02325;color:#fff;cursor:pointer;box-shadow:-1px 0 4px gray}#tb-chapter-editor-playhead .body{display:block;width:13px;height:12px;background-color:#e02325;box-shadow:-1px 1px 4px gray}#tb-chapter-editor-playhead .body-point{display:block;fill:#e02325}#tb-chapter-editor-playhead .button:before{position:absolute;top:50%;right:50%;transform:translate(50%,-50%)}#tb-chapter-editor-playhead .button.plus:before{content:"+"}#tb-chapter-editor-playhead .button.minus:before{content:"\\2013"}#tb-chapter-editor-playhead .button.plus.within-ten-seconds{opacity:.25;cursor:not-allowed}.v-enter-active{transition:opacity .8s ease}.v-leave-active{transition:opacity .2s ease}.v-enter-from,.v-leave-to{opacity:0}.buttonStyle{text-decoration:none;color:#a0a0a0}.disabledButtonStyle{text-decoration:none;color:#a0a0a0;opacity:.5;cursor:not-allowed}.requirementsRect{background:#FFFFFF;box-shadow:0 4px 8px #0000001f;border-radius:8px;text-align:match-parent;padding-bottom:12px;width:368px;font-family:Roboto;font-weight:500}.reqListCheckboxContainer{padding-top:14px;padding-left:10px;margin-left:6px;margin-top:8px;background:white;border-radius:8px;user-select:none;-moz-user-select:none}.chaptersProgress{display:flex;align-items:flex-end;justify-content:flex-end;width:169px}.titlesProgress{display:flex;align-items:flex-end;justify-content:flex-end;width:162px}.durationsProgress{display:flex;align-items:flex-end;justify-content:flex-end;width:102px}.slide-fade-enter-active{transition:all 1.8s ease-out}.slide-fade-leave-active{transition:all 1.8s cubic-bezier(1,.5,.8,1);animation-delay:2s}.slide-fade-enter-from,.slide-fade-leave-to{transform:translateY(-20px);opacity:0}summary{display:flex;list-style:none;justify-content:flex-start;align-items:center;font-family:Roboto;color:#000}summary::-webkit-details-marker{display:none}details[open]{display:flex;height:100px;outline:1rem solid var(--bg);margin:0 0 2rem;justify-content:flex-start;align-items:baseline;font-family:Roboto;color:#595959}details[closed]{height:22px;outline:1rem solid var(--bg);margin:0 0 2rem}details summary{cursor:pointer}details summary>*{display:inline}summary:after{display:flex;justify-content:flex-end;align-items:baseline;-webkit-box-sizing:content-box;-moz-box-sizing:border-box;width:43%}details[open] summary:after{display:flex;justify-content:flex-end;align-items:baseline;-webkit-box-sizing:content-box;-moz-box-sizing:border-box;width:43%}.disclosure-wrapper{border-radius:50%;height:15px;width:15px;margin-right:20px;background-color:transparent;border:2px solid black;display:flex;align-items:center;justify-content:center}#disclosure_icon{font-size:16px}.summary-content-wrapper{display:flex;flex-direction:row;align-items:center;font-family:Roboto;font-weight:500;font-size:11px;line-height:10px;justify-content:space-between;width:100%}.summary-chapters-wrapper{display:flex;align-items:center}.details-chapter-wrapper,.details-duration-wrapper,.details-title-wrapper{display:flex;flex-direction:row;align-items:center;font-family:Roboto;font-weight:500;font-size:11px;line-height:10px}.requirements-list-summary{font-family:Roboto;font-weight:600;font-size:14px;line-height:16.41px}#tb-chapter-editor-right-panel{height:388px!important}.tb-chapter-row{display:flex;justify-content:space-between;align-items:center;width:100%;margin:5px 0;font-size:0}.tb-chapter-number{display:flex;justify-content:center;align-items:center;min-width:15px;margin:0 2px 0 0;width:24px;height:32px;background-color:#e5e5e5;cursor:pointer;font-family:Roboto,sans-serif;font-variant-numeric:tabular-nums;font-style:normal;font-weight:700;font-size:13px;line-height:11px;color:#424242}.tb-chapter-number:hover:not(.tb-chapter-selected){color:#fff;background-color:#4285f4;opacity:.7}.tb-video-chapters-container-details-open{height:235px!important;padding:6px 0;background-color:#f9f9f9;overflow-y:auto;overflow-x:hidden;border-bottom:1px solid #E7E7E7;margin-bottom:10px;margin-top:6px}.tb-video-chapters-container-details-closed{height:325px!important;padding:6px 0;background-color:#f9f9f9;overflow-y:auto;overflow-x:hidden;border-bottom:1px solid #E7E7E7;margin-bottom:10px;margin-top:6px}.tb-video-chapters-container-reqList-open{height:300px;padding:6px 0;background-color:#f9f9f9;overflow-y:auto;overflow-x:hidden;border-bottom:1px solid #E7E7E7}.tb-video-chapters-container-reqList-closed{padding:6px 0;background-color:#f9f9f9;overflow-y:auto;overflow-x:hidden;border-bottom:1px solid #E7E7E7}.tb-input-chapter-title{width:276px;height:18px;margin:0 2px;padding:6px 5px 4px 10px;font-size:14px;border:2px solid #DEDEDE;outline:none;font-family:Roboto;font-style:normal;font-weight:500;font-size:13px;line-height:10px;color:#424242}.tb-input-chapter-title:focus{border-color:#4285f4}.tb-input-chapter-title:disabled{color:#000;opacity:1;background-color:#fff}.tb-chapter-selected{position:relative;color:#fff;background-color:#4285f4}.tb-tooltip-chapter-editor{top:6rem;right:3rem;width:231px;text-align:left}.tb-blue-border{border:2px solid #4285F4}.list-move,.list-enter-active,.list-leave-active{transition:all .5s ease}.list-enter-from,.list-leave-to{opacity:0;transform:translate(30px)}.list-leave-active{position:absolute}.tb-btn-primary-add-chapter-to-video-neutral{background:rgb(66,133,244);color:#fff}.tb-btn-primary-add-chapter-to-video-neutral:hover{background:rgb(36,118,255)}.tb-btn-primary-add-chapter-to-video-neutral:active{background:rgb(26,112,255)}.tb-btn-primary-add-chapter-to-video-neutral:focus{background:rgb(26,112,255);outline:0}.tb-btn-primary-add-chapter-to-video-disabled:hover,.tb-btn-primary-add-chapter-to-video-disabled,.tb-btn-primary-add-chapter-to-video-neutral[disabled]:hover{background:rgba(66,133,244,.5);color:#fff;pointer-events:none}.tb-copy-to-clipboard-neutral{background:white;border:1px solid rgba(231,231,231,1)!important;color:#454545}.tb-copy-to-clipboard-neutral:hover{background:white;color:#454545;border:1px solid rgba(206,206,206,1)!important}.tb-copy-to-clipboard-neutral:active{background:white;color:#454545;border:1px solid rgba(163,163,163,1)}.tb-copy-to-clipboard-neutral:focus{background:white;color:#454545;border:1px solid rgba(163,163,163,1);outline:0}.tb-copy-to-clipboard-disabled{background:white;color:#45454580;border:1px solid rgba(231,231,231,1);pointer-events:none}.tb-copy-to-clipboard-disabled:hover{background:white;color:#45454580;border:0px solid rgba(231,231,231,1)}#ce-age-restrict{height:351px;width:576px;background-color:#f5f5f5}#tb-chapter-editor-vue-container{font-family:Roboto,Ubuntu,sans-serif}.tb-chapter-editor-header{font-size:18px}.tb-chapter-editor-header-sub{color:#c4c4c4;font-weight:400}#tb-chapter-editor-vue-container>div{overflow:visible}#tb-chapter-editor{padding:22px 10px;width:36%;background-color:#f9f9f9}.tb-title-container{margin:0 0 6px;border-bottom:1px solid rgb(231,231,231);padding-bottom:4px}.tb-chapter-editor-container{min-height:550px}.tb-upgrade-screen-testimonial-test[data-v-6daa9afd]{font-family:Montserrat,sans-serif;font-weight:400}.tb-upgrade-screen-slide[data-v-6daa9afd]{width:80%;margin:auto;display:flex;animation:fadeInOut 8s linear infinite;-webkit-animation:fadeinout 8s linear infinite;justify-content:center}.img-placeholder[data-v-6daa9afd]{width:80px;height:80px;background-color:#9370db;border-radius:50%}.tb-upgrade-screen-testimonial[data-v-6daa9afd]{max-width:430px}.tag[data-v-f709a008]{padding:20px 10px 35px;text-align:center;background:#FAFAFF}.tag a[data-v-f709a008]{color:#1d2327;text-decoration:underline}.upgrade[data-v-f709a008]{padding:20px 35px;background:#68EFDA;border-radius:50px;color:#1d2327;display:inline-block;word-spacing:3px;font-weight:700;font-size:16px;margin:0 0 20px}.wrapper[data-v-f709a008]{width:1000px;box-sizing:border-box;font-family:Montserrat,sans-serif;color:#353d55}.wrapper *[data-v-f709a008],.wrapper *[data-v-f709a008]:before,.wrapper *[data-v-f709a008]:after{box-sizing:inherit}.other-tools[data-v-f709a008]{display:flex;width:100%;justify-content:space-evenly;gap:30px;padding:32px;align-items:flex-start;background:#FAFAFF}.other-tools a[data-v-f709a008]{color:#d92145;text-decoration:underline;font-weight:700;margin-top:10px}.other-tools--header[data-v-f709a008]{text-align:center;font-size:14px}.other-tools--header h2[data-v-f709a008]{font-size:16px;color:#262e46}.other-tools--individual[data-v-f709a008]{width:100%;padding:30px 10px;background:#fff}.other-tools--individual.active[data-v-f709a008]{border:1px solid #68EFDA}.includes[data-v-f709a008]{padding:32px 32px 0;font-size:20px;background:#FAFAFF;text-align:center;font-weight:700}.header[data-v-f709a008]{background:#0C1942;padding:40px 20px;text-align:center;background:var(--784fd5f5);min-height:126px;display:flex;justify-content:center;align-items:center;flex-direction:column}.header h2[data-v-f709a008]{color:#fff;font-family:Montserrat,sans-serif}.header h1[data-v-f709a008]{display:block;font-size:48px;font-weight:700;margin:25px auto;background-color:#44b8dd;background-image:linear-gradient(283deg,#4CAAED 0%,#29DAC5 100%);background-size:100%;background-repeat:repeat;-webkit-background-clip:text;-webkit-text-fill-color:transparent;-moz-background-clip:text;-moz-text-fill-color:transparent;position:relative}.header[data-v-9066af8e]{background:#FAFAFF;min-height:126px;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:1em;min-width:1100px}.header h3[data-v-9066af8e]{color:#262e46;font-weight:700!important}.header--text-bg[data-v-9066af8e]{margin:16px auto;text-align:center;background:#0C1942;padding:4px 22px;border-radius:12px}.header h1[data-v-9066af8e]{display:block;font-size:64px;font-weight:800;margin:12px auto;background-color:#44b8dd;background-image:linear-gradient(118deg,#88EB3E -11.1%,#60EFFF 96.22%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-size:100%;background-repeat:repeat;position:relative;white-space:nowrap;font-family:Montserrat,sans-serif}.cta-container[data-v-c8fde4f9]{background:#FFFFFF;min-height:126px;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:1em}.header h3[data-v-c8fde4f9]{color:#262e46;font-family:Montserrat,sans-serif;font-weight:400}.cta-button[data-v-c8fde4f9]{display:inline-flex;padding:20px 46px;justify-content:center;align-items:center;gap:12px;border-radius:62px;background:#3DD8BE;box-shadow:0 5px 30px #00000017;margin:25px 0;font-size:20px;font-weight:600;color:#0c1942;font-family:Montserrat,sans-serif}.cta-button i[data-v-c8fde4f9]{color:#0c1942;display:block;font-size:30px;margin-right:12px;width:21px;height:21px;margin-top:-7px}.cta-button[data-v-c8fde4f9]:hover{background:#08A78C;cursor:pointer}.other-tools--header[data-v-6b58bce5]{text-align:center;font-size:16px;line-height:1.8;color:#353d55}.other-tools--header i[data-v-6b58bce5]{color:#262e46;display:block;font-size:30px;margin:16px auto;background-color:#fff;background-image:linear-gradient(to right bottom,#d92145,#e6453c,#f06334,#f6802c,#f89b29);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.other-tools--header h2[data-v-6b58bce5]{margin:8px auto;font-size:24px;color:#262e46}.other-tools--header p[data-v-6b58bce5]{text-align:left;margin:0 1em}.other-tools--body[data-v-6b58bce5]{padding:0 25px;font-size:14px}.other-tools--individual .other-tools--body[data-v-6b58bce5]{margin:8px auto;height:0;opacity:0;visibility:hidden;transition:all .1s}.other-tools--individual.active .other-tools--body[data-v-6b58bce5]{height:160px;opacity:1;visibility:visible;transition:all .1s}.other-tools--individual.active .chevron[data-v-6b58bce5]{transform:rotate(180deg)}.chevron-container[data-v-6b58bce5]{position:relative;width:100%;justify-content:center;align-items:center;display:flex;height:30px;font-size:24px}.chevron-license[data-v-6b58bce5]{font-size:16px}.bottom-text[data-v-6b58bce5]{text-align:center;margin:16px auto}.bottom-text a[data-v-6b58bce5]{color:#06856f;text-align:center;font-size:16px;font-style:normal;font-weight:600;text-decoration-line:underline}.footer[data-v-a6e606f8],.footer-zero[data-v-a6e606f8]{display:flex;padding:0 .5em;margin-top:.5em;align-items:center;background-size:280px 48px;border-radius:0 0 4px 4px}.footer[data-v-a6e606f8]{background:var(--1cf6a13c);justify-content:center}.footer-zero[data-v-a6e606f8]{background:#FAFAFF;display:flex;justify-content:center;align-content:center}.footer-number[data-v-a6e606f8],.footer-number-zero[data-v-a6e606f8]{font-size:32px;font-weight:900;background-color:#fff;font-family:Montserrat,sans-serif}.footer-number[data-v-a6e606f8]{background:linear-gradient(118deg,#88EB3E -11.1%,#60EFFF 96.22%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-right:.2em}.footer-number-zero[data-v-a6e606f8]{background-image:linear-gradient(to right bottom,#d92145,#e6453c,#f06334,#f6802c,#f89b29);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;vertical-align:middle}.footer-text[data-v-a6e606f8]{color:#68efda;font-size:16px;width:auto}.footer-zero-left[data-v-a6e606f8]{text-align:left;flex:1}.footer-text-zero-left[data-v-a6e606f8]{color:#d92145;font-size:16px;width:auto;vertical-align:middle}.footer-zero-right[data-v-a6e606f8]{text-align:right;font-weight:400;font-size:16px;width:auto;flex:1}.footer-zero-right a[data-v-a6e606f8]{color:#d92145;text-decoration:underline;font-weight:700}.other-tools[data-v-0487ebce]{display:flex;width:100%;justify-content:center;cursor:pointer;user-select:none;gap:30px;align-items:flex-start}.other-tools a[data-v-0487ebce]{color:#178470;text-decoration:underline;font-weight:700;margin-top:10px}.other-tools--individual[data-v-0487ebce]{max-width:280px;border-radius:4px;border:1px solid #EDEFF1;background:#fff;line-height:1.8;box-shadow:0 4px 6px -4px #1b1b201a,0 10px 15px -3px #0000001a,0 -4px 8px -4px #0000001a}.other-tools--individual.active[data-v-0487ebce]{border:1px solid #68EFDA}.footer-container[data-v-c764f165]{background:#FFFFFF;text-align:center;min-height:60px;display:flex;justify-content:center;align-items:center;padding:16px 0 0}a[data-v-c764f165]{color:#262e46;font-size:16px;font-style:normal;font-weight:600;line-height:normal;font-family:Montserrat,sans-serif}a[data-v-c764f165]:hover{text-decoration:underline}#tb-paywall-modal-container .tb-module-header{background:#1B1B20}#tb-paywall-modal-container.tb-module-template{max-height:none!important;height:auto!important;width:auto!important;margin:initial;left:50%;top:50%;transform:translate(-50%,-50%)}@media only screen and (max-width: 1440px){#tb-paywall-modal-container.tb-module-template.trial-modal{transform:translate(-50%,-50%) scale(.85)}}@media only screen and (max-width: 1366px){#tb-paywall-modal-container.tb-module-template.trial-modal{transform:translate(-50%,-50%) scale(.7)}}.load-wrapper[data-v-1153304d]{border-radius:4px;position:relative;background-color:#b4b4b4;z-index:1;overflow:hidden}.load-animation[data-v-1153304d]{position:absolute;left:-45%;height:100%;width:45%;background-image:linear-gradient(to left,rgba(222,222,222,.05),rgba(222,222,222,.3),rgba(222,222,222,.6),rgba(222,222,222,.3),rgba(22,222,222,.05));background-image:-moz-linear-gradient(left,rgba(222,222,222,.05),rgba(222,222,222,.3),rgba(222,222,222,.6),rgba(222,222,222,.3),rgba(222,222,222,.05));background-image:-webkit-linear-gradient(left,rgba(222,222,222,.05),rgba(222,222,222,.3),rgba(222,222,222,.6),rgba(222,222,222,.3),rgba(222,222,222,.05));animation:loading-1153304d 1s infinite;z-index:2}@keyframes loading-1153304d{0%{left:-45%}to{left:100%}}.thumbnail-studio-description{margin-bottom:12px;font-size:14px;line-height:22px}#tb-video-player-component[data-v-8d915401]{min-height:390px;padding:22px 0 14px}.tb-suggested-shorts-spike-suggestion{margin-bottom:36px;width:454px}.tb-suggest-shorts-subheader-text{width:454px;height:60px;left:40px;top:94px;padding-right:8px;font-style:normal;font-weight:400;font-size:14px;line-height:20px;margin-bottom:40px;color:#4d4d4d}.tb-youtube-embed-container{width:436px;height:245px;left:0px;top:0px;margin-bottom:16px}.tb-suggested-shorts-video-title{width:90%;left:0px;top:261px;font-style:normal;font-weight:600;font-size:16px;line-height:16px;margin-bottom:8px;text-decoration-line:underline;color:#272729}.tb-suggested-shorts-duration{width:58px;height:22px;left:20px;top:285px;font-style:normal;font-weight:400;font-size:14px;line-height:16px;display:inline;color:#494949}.tb-suggested-shorts-retention-increase{width:142px;height:22px;left:20px;top:4px;font-style:normal;font-weight:400;font-size:14px;line-height:16px;display:inline;padding-left:5px;margin-left:24px;color:#494949}.tb-suggested-short-retention-link{color:#494949}.tb-suggested-short-retention-link:hover{background:rgba(17,86,238,.1)}.tb-suggest-shorts-tips-container{box-sizing:border-box;width:430px;left:0px;top:0px;padding-top:8px;padding-bottom:8px;background:rgba(17,86,238,.1);border:1px solid #758AF0;border-radius:4px;margin-top:36px;margin-bottom:36px}.tb-suggested-shorts-tips-icon{float:left;font-size:24px;padding-left:10px;padding-right:10px;padding-top:4px;color:#1156ee}.tb-suggested-shorts-tip{font-style:normal;font-weight:400;font-size:12px;line-height:16px}.tb-suggested-shorts-row-detail{width:452px;margin-top:12px}.tb-suggested-shorts-inline-icons{vertical-align:text-bottom;font-size:16px;padding-right:4px;opacity:54%}.tb-spike-suggestion-container{display:block;height:100%}.tb-featured-spike-suggestion-container{display:block}.tb-suggested-shorts-module{height:100%;width:452px}tb-no-suggestion-image{width:318px}.tb-no-suggestion-header{font-style:normal;font-weight:600;font-size:24px;line-height:28px;height:56px;text-align:center;width:390px}.tb-suggested-shorts-no-suggestions{display:flex;align-items:center;justify-content:center}.tb-no-suggestion-text{font-style:normal;font-weight:400;font-size:14px;line-height:20px;height:40px;text-align:center;width:330px}.tb-suggested-shorts-suggestion-container{height:100%;width:452px;overflow-y:scroll;overflow-x:hidden}.tb-suggested-shorts-toggle-button{height:36px;margin-bottom:32px;margin-top:56px;border-top:1px solid #929292;transform:rotate(-.13deg);position:relative}.tb-suggested-shorts-toggle-button-text{width:253px;height:12px;font-weight:500;font-size:18px;line-height:12px;color:#000;position:absolute;bottom:0}.tb-shorts-button-icon{height:24px;left:94.95%;right:1.35%;top:44.02%;bottom:36.62%;position:absolute}.tb-shorts-button-icon.rotate{transform:rotate(90deg)}.tb-suggested-shorts-error{margin-bottom:24px;margin-left:60px;margin-top:8px;font-weight:500;font-size:18px;line-height:21px;display:flex;align-items:center}.tb-suggested-shorts-error-button{margin-left:140px;width:180px;font-weight:600;font-size:14px;line-height:16px;text-align:center;color:#1156ee;border:2px solid #1156EE;border-radius:4px;padding-top:8px;padding-bottom:8px}.tb-suggested-shorts-error-button:hover{background-color:#1156ee1a;cursor:pointer}.tb-suggested-shorts-error-icon{height:32px;font-size:32px;opacity:54%;margin-top:24px;display:flex;align-items:center;justify-content:center}.tb-featured-suggestion-load-container{height:245px;border-radius:4px;position:relative;background-color:#dfdfdf;z-index:1;overflow:hidden}.tb-featured-suggestion-load-animation{position:absolute;left:-45%;height:100%;width:45%;background-image:linear-gradient(to left,rgba(25,25,25,.05),rgba(25,25,25,.1),rgba(25,25,25,.2),rgba(25,25,25,.1),rgba(25,25,25,.05));background-image:-moz-linear-gradient(left,rgba(25,25,25,.05),rgba(25,25,25,.1),rgba(25,25,25,.2),rgba(25,25,25,.1),rgba(25,25,25,.05));background-image:-webkit-linear-gradient(left,rgba(25,25,25,.05),rgba(25,25,25,.1),rgba(25,25,25,.2),rgba(25,25,25,.1),rgba(25,25,25,.05));animation:loading 1s infinite;z-index:45}@keyframes loading{0%{left:-45%}to{left:100%}}.featuredSuggestionError-enter-active,.featuredSuggestionError-leave-active{transition:all .8s ease}.featuredSuggestionError-enter-from,.featuredSuggestionError-leave-to{opacity:0;transform:translate(30px)}.featuredSuggestion-enter-active,.featuredSuggestion-leave-active{transition:all .8s ease}.featuredSuggestion-enter-from,.featuredSuggestion-leave-to{opacity:0;transform:translate(30px)}.tb-suggestion-placeholder-top{position:absolute;width:285px;height:16px;left:0px;top:261px;background:#E0E0E0;border-radius:8px}.tb-suggestion-placeholder-first{margin-top:16px;margin-bottom:8px;width:285px;height:16px;background:#E0E0E0;border-radius:8px}.tb-suggestion-placeholder-second{width:78px;height:16px;display:inline-block;background:#E0E0E0;border-radius:8px}.tb-suggestion-placeholder-third{width:161px;height:16px;margin-left:8px;display:inline-block;background:#E0E0E0;border-radius:8px}.tb-suggestion-loading-container{margin-bottom:32px}.tb-suggested-shorts-upgrade-button{margin-left:140px;width:180px;font-weight:500;font-size:14px;line-height:16px;text-align:center;color:#fff;background-color:#282b2f;border:2px solid #282B2F;border-radius:4px;padding-top:8px;padding-bottom:8px}.tb-suggested-shorts-upgrade-button:hover{background-color:#50565e;cursor:pointer}.tb-upgrade-header{font-style:normal;font-weight:600;font-size:24px;line-height:28px;text-align:center;width:436px;padding-top:70px}.tb-upgrade-button-icon{padding-left:8px}.tb-upgrade-text{font-style:normal;font-weight:400;font-size:14px;line-height:20px;text-align:center;color:#636972;padding-left:70px;padding-right:70px;margin-bottom:24px;margin-top:12px}.tb-upgrade-button{justify-content:center;align-items:center;padding:16px 32px;gap:8px;background:#1156EE;border-radius:4px;font-weight:500;font-size:14px;line-height:16px;text-align:center;color:#fff;margin-top:32px}.tb-upgrade-button:hover{background-color:#b7ccfa;cursor:pointer}.tb-featured-suggestion-wrapper{margin-bottom:56px}.tb-toast[data-v-108d0aba]{position:absolute;bottom:24px;left:0;right:0;width:600px;height:48px;margin:0 auto;background:#3E4044;border-radius:10px;padding-left:25px;padding-right:12px;display:flex;align-items:center;justify-content:space-between;color:#fff}.tb-toast span[data-v-108d0aba]{font-family:Roboto,serif;font-style:normal;font-weight:400;font-size:14px;line-height:24px}.tb-toast i[data-v-108d0aba]{display:block;font-size:22px;font-weight:600}.tb-toast .icon[data-v-108d0aba]{color:#73bafb;margin-right:18px}.tb-title-suggestions-error-container{display:block;position:relative;vertical-align:top;min-height:185px;text-align:center;background-color:#f5f5f5;border-radius:8px;border:solid 1px #F5F5F5}.tb-title-suggestions-error-container .tb-title-suggestions-error-message{position:absolute;top:50%;right:50%;transform:translate(50%,-50%);width:70%}.tb-title-suggestions-error-container h4{padding:0;font-family:Roboto;font-weight:600;font-style:normal;color:#707070;margin:0 0 5px;font-size:16px;line-height:16px}.tb-title-suggestions-error-container p{margin:0;padding:0;font-family:Roboto;font-weight:400;font-style:normal;color:#8f8f8f;font-size:14px;line-height:16px}.tb-title-suggestions-error-container img{display:block;vertical-align:top;margin:0 auto 13px}#title-generator-container[data-v-540479d7]{width:100%}#clear-input[data-v-540479d7]{cursor:pointer;position:absolute;top:17px;right:17px}.title-generator-description[data-v-540479d7]{margin-bottom:31px;font-family:Roboto,serif;font-style:normal;font-weight:400;font-size:14px;line-height:21px;color:#474444}.title-input-group[data-v-540479d7]{display:flex;position:relative;background:#FFFFFF;border:1px solid #C0C0C0;border-radius:4px;width:100%;height:48px;margin-bottom:24px}.toolbox-title-suggestion-container[data-v-540479d7]{margin-top:48px;overflow-x:hidden}.toolbox-title-suggestion[data-v-540479d7]{background:#ffffff;border-radius:4px;font-family:Roboto,serif;font-style:normal;font-weight:400;font-size:14px;line-height:16px;padding:16px 20px;margin-bottom:8px;letter-spacing:-.03em;display:flex;align-items:center;justify-content:space-between;color:#1c1b1b}.toolbox-title-suggestion[data-v-540479d7]:hover{background:#DDE3F4}.apply-cta[data-v-540479d7]{cursor:pointer;font-family:Roboto,serif;font-style:normal;font-weight:600;font-size:14px;line-height:16px;color:#1156ee}.tb-applied[data-v-540479d7]{display:block;color:#1156ee;font-size:22px;font-weight:600}.list-enter-active[data-v-540479d7],.list-leave-active[data-v-540479d7]{transition:all .8s ease}.list-enter-from[data-v-540479d7],.list-leave-to[data-v-540479d7]{opacity:0;transform:translate(30px)}.v-enter-active[data-v-540479d7],.v-leave-active[data-v-540479d7]{transition:opacity .5s ease}.v-enter-from[data-v-540479d7],.v-leave-to[data-v-540479d7]{opacity:0}label[data-v-540479d7]{margin-bottom:4px;font-family:Roboto,serif;font-size:14px;line-height:16px;font-weight:400;color:#505050}input[data-v-540479d7]{box-sizing:border-box;width:100%;background:#FFFFFF;border:none;padding:16px;outline:none}button[data-v-540479d7]{background:#1156EE;border-radius:4px;border:none;padding-top:15px;padding-bottom:17px;width:100%;font-family:Roboto,serif;font-style:normal;font-weight:400;font-size:14px;line-height:16px;text-align:center;color:#fff}button[data-v-540479d7]:hover{opacity:.8;cursor:pointer}button[data-v-540479d7]:disabled{opacity:.4;cursor:not-allowed}.tb-title-generator-tips-container[data-v-540479d7]{box-sizing:border-box;width:100%;left:0px;top:0px;padding-top:8px;padding-bottom:8px;background:rgba(17,86,238,.1);border:1px solid #758AF0;border-radius:4px;margin-top:24px}.tb-title-generator-tips-icon[data-v-540479d7]{float:left;font-size:24px;padding-left:10px;padding-right:10px;padding-top:4px;color:#1156ee}.tb-title-generator-tip[data-v-540479d7]{font-style:normal;font-weight:400;font-size:12px;line-height:16px}.tb-title-generator-no-suggestions[data-v-540479d7]{display:flex;align-items:center;justify-content:center}.tb-no-suggestion-header[data-v-540479d7]{font-style:normal;font-weight:600;font-size:24px;line-height:28px;height:56px;text-align:center;width:390px}.header[data-v-5ea49e26]{width:372px;height:48px;flex-shrink:0;border-radius:8px 8px 0 0;background:#1D2327;display:flex;justify-content:space-between;align-items:center;color:#fafaff;font-family:Montserrat,sans-serif}.left-header[data-v-5ea49e26]{flex:1;padding:0 16px;font-size:14px;font-style:normal;font-weight:700;line-height:22px;margin-right:auto;text-align:left;display:flex;align-items:center}.left-header img[data-v-5ea49e26]{height:auto;width:24px;border-radius:50%;margin-right:8px}.x-close[data-v-5ea49e26]{flex:1;padding:0 16px;margin-left:auto;float:right;text-align:right}.x-close-i[data-v-5ea49e26]{font-weight:500;font-size:25px;color:#fafaff}.x-close-i[data-v-5ea49e26]:hover{color:#ce4260;cursor:pointer}.content[data-v-e949b9c9]{max-width:320px;padding:20px;margin:24px;color:#fff;text-align:center;font-style:normal;line-height:180%;background-color:#0c1942;filter:drop-shadow(0px 4px 18px rgba(12,25,66,.12)) drop-shadow(0px 10px 14px rgba(12,25,66,.14)) drop-shadow(0px 6px 6px rgba(12,25,66,.2));border-radius:8px;font-family:Montserrat,sans-serif;font-size:14px;font-weight:400}.usesLeft[data-v-e949b9c9]{color:#68efda;font-size:20px;font-weight:700}.bold[data-v-e949b9c9]{font-weight:700}.secondary-text[data-v-e949b9c9]{margin-top:20px}.upgradedLicense[data-v-e949b9c9]{background:linear-gradient(103deg,#D92145 56.38%,#F89B29 76.53%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:20px;font-style:normal;font-weight:700;line-height:180%}.upgrade-btn[data-v-e949b9c9]{display:inline-flex;padding:20px 46px;justify-content:center;align-items:center;gap:12px;border-radius:62px;background:#3DD8BE;box-shadow:0 5px 30px #00000017;margin:25px 0;font-size:16px;font-weight:600;color:#0c1942;font-family:Montserrat,sans-serif;line-height:normal}.upgrade-btn i[data-v-e949b9c9]{color:#0c1942;display:block;font-size:30px;margin-right:12px;width:21px;height:21px;margin-top:-7px}.upgrade-btn[data-v-e949b9c9]:hover{background:#08A78C;cursor:pointer}.footer[data-v-cfdf392d]{margin:0 0 32px;display:flex;justify-content:center;align-items:center;font-family:Montserrat,sans-serif}.footer a[data-v-cfdf392d]{color:#1d2327;font-size:16px;font-style:normal;font-weight:600;line-height:normal}.footer a[data-v-cfdf392d]:hover{text-decoration:underline}#container[data-v-14f4aab8]{width:372px;background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;filter:drop-shadow(0px 4px 4px rgba(0,0,0,.25));border-radius:8px}.tb-tab-navigation-container{max-height:40px}#tb-opt-num{color:#fff}#tb-title-editor{display:block;vertical-align:top;width:91%;margin:0;padding:0}.tb-panel-body{padding-left:8px}.tb-title-rect{border-radius:8px;text-align:match-parent;padding-bottom:12px;width:368px;font-family:Roboto,sans-serif;font-weight:500}.tb-title-modal-header{width:29px;height:16px;left:312px;top:160px;font-family:Roboto,sans-serif;font-style:normal;font-weight:600;font-size:14px;line-height:16px;color:#47494a}.tb-title-field-label{width:256px;height:16px;left:0px;top:0px;margin:0 0 4px;font-family:Roboto,sans-serif;font-style:normal;font-weight:400;font-size:12px;line-height:16px;padding-top:4px;letter-spacing:-.03em}.tb-original-title-display{display:block;vertical-align:top;width:100%;margin:0 0 24px;padding:0 0 0 8px;font-size:16px;font-family:Roboto,sans-serif;font-weight:600;font-style:normal;line-height:16px;color:#202022}.tb-title-field-container{width:29px;height:16px;left:312px;top:160px;padding-top:4px;font-family:Roboto,sans-serif;font-style:normal;font-weight:600;font-size:14px;line-height:16px;color:#47494a}.tb-input-title-textfield{width:100%;height:48px;box-sizing:border-box;margin:0;padding:5px;left:0px;right:0px;top:20px;bottom:0px;border:1px solid #606060;border-radius:2px;background:#FFFFFF;white-space:pre}.tb-character-count{width:25px;height:16px;right:0px;bottom:-16px;font-family:Roboto,sans-serif;font-style:normal;font-weight:400;font-size:8px;line-height:16px;letter-spacing:-.03em;padding-left:240px;float:right}.tb-disabled-refresh-button{opacity:.3}.tb-hide-popup{display:none}.tb-label-error{color:#f20303!important}x .tb-desc-field-label{width:256px;height:16px;left:0px;top:0px;font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:16px;padding-top:4px;letter-spacing:-.03em}.tb-input-title-textfield{height:auto;min-height:46px;max-height:160px;display:inline-block;overflow:auto;background:#FFFFFF;font-family:Roboto,Arial,sans-serif}.tb-desc-border-clean{border:1px solid #606060;border-radius:2px}.tb-desc-border-error{border:1px solid #F20303;border-radius:2px}.tb-input-title-textfield:focus{outline:none;border:1px solid #175DC9;border-radius:2px}.tb-character-count{width:25px;height:16px;right:0px;bottom:-16px;font-family:Roboto;font-style:normal;font-weight:400;font-size:8px;line-height:16px;letter-spacing:-.03em;padding-left:240px;float:right}.tb-title-modal-header{width:29px;height:16px;left:312px;top:160px;font-family:Roboto;font-style:normal;font-weight:600;font-size:14px;line-height:16px;color:#47494a}.tb-input-title-textfield-container:first-child{margin-bottom:16px}.tb-input-title-textfield-container .tb-input-title-textfield{line-height:16px;white-space:break-spaces}.tb-time-selector-header{width:350px;height:16px;left:320px;top:160px;font-family:Roboto;font-style:normal;font-weight:500;font-size:14px;line-height:16px;color:#47494a;padding-bottom:8px;padding-left:6px}.tb-time-selector-form{list-style:none;width:75%}.tb-time-selector-list-item{display:inline-block;width:90%;height:auto;margin:8px 0;border:1px solid #EAE9E9;border-radius:10px;cursor:pointer;padding:23px 24px}.tb-time-selector-list-item.selected{border:2px solid #1156EE;box-shadow:0 8px 12px -8px #0003}.tb-time-selector-list-item.selected .tb-input-type-list-copy{font-weight:600}.tb-time-selector-list-item.selected:hover{border:2px solid #1156EE;border-radius:10px}.tb-time-selector-list-item input[type=radio]{margin:4px 2px 0 5px}.tb-time-selector-list-item:first-child{margin-top:0}.tb-time-selector-list-item:last-child{margin-bottom:0}.tb-time-selector-list-item:hover{border:1px solid #1156EE;background-color:#1156ee1a}.tb-input-time-selector{float:left;display:inline-block;padding-left:19px}.tb-time-selector-input-label{display:inline;height:16px;padding-left:19px;top:calc(50% - 16px);font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;line-height:16px;color:#242527;vertical-align:middle}.tb-time-selector-input-label-note{display:block;height:16px;left:52px;padding-left:39px;top:calc(50% + 0px);font-family:Roboto;font-style:normal;font-weight:400;font-size:11px;line-height:16px;color:#47494a}.tb-time-selector-label-warning{display:inline;width:219px;height:16px;left:132px;top:calc(50% - 15px);font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:16px;padding-left:6px;color:#47494a;background-color:#f0f0f0}.tb-time-selector-section{padding-bottom:16px}.tb-time-selector-input-number{display:inline;width:35px}.tb-valign-baseline{vertical-align:baseline!important}input[type=file]{display:none}#tb-thumbnail-upload{width:80%}.tb-panel-body{padding:0}.tb-header{width:auto;height:auto;font-family:Roboto,Noto,sans-serif;font-style:normal;font-weight:500;font-size:14px;color:#47494a}.tb-upload-area{border:1px dashed #BDBDBD;border-radius:4px;height:280px;text-align:center;margin-top:10px}.tb-upload-area p{font-family:Roboto,Noto,sans-serif;font-style:normal;text-align:center}.tb-upload-area-content{margin-top:12%}.tb-upload-area-content svg{width:22px;height:20px;fill:none}.tb-upload-area-content p{margin-top:10px;margin-bottom:5px;font-weight:500;font-size:16px;line-height:20px}.tb-upload-area-content span{font-size:12px;color:#7a8ba0}.tb-thumbnail-upload-button{display:flex;margin:auto auto 8px;align-items:center;padding:4px 16px;background:rgb(255,255,255);border-width:1px;border-style:solid;border-color:#1156ee;border-image:initial;border-radius:2px;color:#1156ee;font-weight:500;font-family:Roboto,Noto,sans-serif}tb-thumbnail-upload-button:hover{cursor:pointer;background-color:#f0f8ff}.tb-ab-test-thumbnail-generator-link{font-weight:500;color:#1156ee}.tb-bottom-text{font-size:12px;color:#7a8ba0;font-weight:400}.tb-thumbnail-upload-processing{margin-top:12%}.tb-thumbnail-upload-processing p{font-weight:500;font-size:16px;margin-top:10px}.tb-thumbnail-upload-processing svg{width:18px;height:22px;fill:none}.tb-uploading-bar{width:45%;height:8px;background-color:#f3f3f3;margin:15px auto auto;border-radius:4px}#tb-progress{background-color:#1156ee;width:1%;height:8px;border-radius:4px}#tb-cancel{margin-top:25px}#tb-uploaded-thumbnail{margin-top:10px}#tb-uploaded-thumbnail img{width:100%}#tb-change-thumbnail{position:relative}#tb-change-thumbnail:hover{cursor:pointer}#tb-change-thumbnail svg{position:absolute;margin-bottom:5px;right:0px;top:-25px}.tb-hide{display:none}.tb-shorts-link-logo{display:inline-block;vertical-align:initial;width:12px;height:10px;margin:0 4px 0 0;padding:0}#tb-suggested-shorts-link-button{display:inline-block;position:relative;vertical-align:initial;max-height:28px;width:auto;height:auto;margin:0;padding:6px 12px 5px;background-color:transparent;box-shadow:none;border:solid 1px #CCCCCC;border-radius:2px;font-size:12px;font-family:$standard-font-family;font-weight:500;color:#000}#tb-suggested-shorts-link-button:hover{background-color:#e023271a;border-radius:2px;border-color:#e02327;cursor:pointer}.tb-shorts-button-copy{display:inline-block;vertical-align:initial;margin:0;padding:0;font-size:12px;font-weight:500;line-height:12px;color:#000}html[dark] #tb-suggested-shorts-link-button{border:solid 1px #606060}html[dark] #tb-suggested-shorts-link-button:hover{background-color:#e023271a;border-color:#e02327;cursor:pointer}html[dark] .tb-shorts-button-copy{color:#fff}\n',document.head.appendChild(n);class i{constructor(){this._modules=[],this._initialized=[],this._loaded=[]}register(e=[]){return new Promise((t=>{this._modules=e.map((e=>(e.uuid=TBUtilities.CreateGuid(),e))),TBUtilities.Log("VUE | Registered Modules"),TBUtilities.Log(this._modules),t({msg:"VUE Modules registered"})}))}initialize(){for(const[e,t]of this._modules.entries())this._modules[e].initialize(),this._initialized.push(t.uuid);return TBUtilities.Log("VUE | Modules initialized"),Promise.all([]).then((e=>e.map((e=>TBUtilities.Log(e)))))}create(){const e=this._modules.filter((e=>this._initialized.includes(e.uuid)&&!this._loaded.includes(e.uuid)&&window.location.href.match(e.match)&&"OnLoad"==e.type)).map((e=>e.uuid));if(TBUtilities.Log("VUE | loadables Modules"),TBUtilities.Log(e),!e.length)return void TBUtilities.Log("VUE | CREATE, Nothing to load");const t=[];for(const[n,i]of this._modules.entries())if(e.includes(i.uuid)){TBUtilities.Log(`VUE | Creating ${i.name}`);try{const e=this._modules[n].create().then((({created:e,msg:t})=>({created:e,msg:t}))).catch((({created:e,msg:t})=>({created:e,msg:t})));t.push(e),this._loaded.push(i.uuid)}catch(o){TBUtilities.Log("error creating module")}}TBUtilities.Log("VUE | Modules Created"),Promise.all(t).then((e=>e.map((e=>TBUtilities.Log(e)))))}destroy(){const e=this._modules.filter((e=>this._loaded.includes(e.uuid)&&!window.location.href.match(e.match)&&"OnLoad"==e.type)).map((e=>e.uuid));if(TBUtilities.Log("VUE | deletables Modules"),TBUtilities.Log(e),!e.length)return void TBUtilities.Log("VUE | DESTROY, Nothing to destroy");const t=[];for(const[o,n]of this._modules.entries()){if(!e.includes(n.uuid))continue;const i=this._modules[o].destroy().then((({destroyed:e,msg:t})=>({destroyed:e,msg:t}))).catch((({destroyed:e,msg:t})=>({destroyed:e,msg:t})));this._loaded=[...this._loaded.filter((e=>e!=n.uuid))],t.push(i)}TBUtilities.Log("VUE | Modules Destroyed"),Promise.all(t).then((e=>e.map((e=>TBUtilities.Log(e)))))}waitForElement(e,t=100,o=10){return new Promise(((n,i)=>{let a=0;setTimeout((function r(){const l=document.querySelector(e);a>=o?i(`Vue Module loader: Element not found after ${a} attempts`):null==l?(a++,setTimeout(r,t)):n(`Vue Module loader: Initialized after ${a} attempts`)}),t)}))}watch(){return new Promise((async(e,t)=>{const o="title";try{await this.waitForElement(o)}catch(i){return TBUtilities.LogError("VUE error",i),void t(i)}const n=document.querySelector(o);new MutationObserver((e=>{this.destroy(),this.create()})).observe(n,{attributes:!0,childList:!0,subtree:!0}),e({msg:"Vue Observer created"})}))}}class a{constructor(){this.uuid=null,this.app=null,this.name=null,this.studio=null,this.type=null}destroy(){return new Promise(((e,t)=>{if(null==this.app)return void t({destroyed:!1,msg:`The ${this.name} module already destroyed.`});this.app.unmount(),this.app=null;const o=document.getElementById(this.getIdentifier());null!=o&&o.remove(),e({destroyed:!0,msg:`The ${this.name} module was successfully destroyed.`})}))}isRegistered(){return null!=this.uuid}isMounted(){return null!=this.app}createApp(e,o,n){this.app=t.createApp(e,n),null==o&&null==o||this.app.use(o),this.app.mount(`#${this.getIdentifier()}`)}getName(){return this.name}getUuid(){return this.uuid}getIdentifier(){return`tb-${this.uuid}`}waitForElement(e,t=250,o=10){return new Promise(((n,i)=>{let a=0,r=setInterval((()=>{const t=document.querySelector(e);console.log(t),++a>=o&&(clearInterval(r),i(t)),void 0!==t&&(clearInterval(r),n(t))}),t)}))}}class r extends a{constructor(){super(),this.match=".*",this.type="OnEvent"}initialize(){}create(){}}const l=["id"],s={class:"tb-module-shadow tb-rounded tb-overflow-hidden"},c=["data-draggable"],d=["src"],u={class:"tb-module-title"},p={key:0,class:"tb-module-help"},m=["href"],b=[t.createElementVNode("i",{class:"small material-icons tb-icon-white tb-icon-help"},"help_outline",-1)],g=[t.createElementVNode("i",{class:"medium material-icons tb-icon-white","data-draggable":"false"},"close",-1)],h={class:"tb-bg-white"},f={props:{id:{required:!0,type:String},link:{type:String},width:{type:Number,default:800},height:{type:Number,default:350},margin:{type:String,default:""},left:{type:String},isDraggable:{type:Boolean,default:!0}},emits:["modalClosing"],setup(e,{emit:o}){const n=e,i=t.ref(!1),a=t.computed((()=>n.id)),r=t.computed((()=>n.link?`${TBGlobal.host}/tools?tool=${n.link}`:null)),f=t.computed((()=>`width:${n.width}px;max-height:${n.height}px;${n.left?`left:${n.left}`:""}`)),v=t.computed((()=>browser.runtime.getURL("/images/branding/tb-icon.svg"))),y=t.computed((()=>n.isDraggable));return(e,x)=>(t.openBlock(),t.createElementBlock("div",{id:`tb-${t.unref(a)}-container`,class:t.normalizeClass(["tb-module-template tb-text-gray-500 tb-rounded-lg",{"draggable-container":i.value||t.unref(y)}]),style:t.normalizeStyle(t.unref(f))},[t.createElementVNode("div",s,[t.createElementVNode("div",{class:"tb-module-header",onMouseenter:x[1]||(x[1]=e=>i.value=!0),onMouseleave:x[2]||(x[2]=e=>i.value=!1),"data-draggable":i.value||t.unref(y),style:t.normalizeStyle(`${n.margin} ${i.value||t.unref(y)?"cursor: move;":"cursor: default;"}`)},[t.createElementVNode("img",{class:"tb-module-logo",src:t.unref(v),alt:"tb-logo","data-draggable":"false"},null,8,d),t.createElementVNode("h1",u,[t.renderSlot(e.$slots,"header")]),t.unref(r)?(t.openBlock(),t.createElementBlock("div",p,[t.createElementVNode("a",{class:"tb-align-middle tb-no-underline",target:"_blank",href:t.unref(r),"data-draggable":"false"},b,8,m)])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"tb-module-close","data-draggable":"false",onClick:x[0]||(x[0]=e=>o("modalClosing",e))},g)],44,c),t.renderSlot(e.$slots,"content"),t.createElementVNode("div",h,[t.renderSlot(e.$slots,"footer")])])],14,l))}},v=(e,t)=>{const o=e.__vccOpts||e;for(const[n,i]of t)o[n]=i;return o},y={class:"tb-uppercase tb-font-medium tb-text-xl"};const x=v({},[["render",function(e,o){return t.openBlock(),t.createElementBlock("div",{class:"tb-cursor-pointer tb-rounded-sm tb-px-8 tb-py-4 tb-content-center",onClick:o[0]||(o[0]=t=>e.$emit("btnClicked"))},[t.createElementVNode("span",y,[t.renderSlot(e.$slots,"default")])])}]]),T=t.createElementVNode("option",{value:""},"Apply Upload Default...",-1),w=["value"],k=t.createTextVNode("Apply"),E={setup(o){const n=e.useStore(),i=t.ref([]),a=t.ref(""),r=t.ref(!1);function l(){if(""===a.value.Title&&""===a.value.Description&&""===a.value.Tags)return;let e={title:n.getters.getMetaData.title+" "+a.value.Title,description:n.getters.getMetaData.description+" "+a.value.Description,tags:s()};n.commit("setMetaData",e)}function s(){const e=n.getters.getMetaData.tags?n.getters.getMetaData.tags:[],t=a.value.Tags?a.value.Tags.split(",").map((e=>e.trim())):[];return[...e,...t.filter((t=>!e.includes(t)))]}return t.onBeforeMount((()=>{const e=TBGlobal.host+TBGlobal.apiUrls.uploadDefaultsList;TBExtension.Get(e,((e,t,o)=>{const a=JSON.parse(o);a.length<1||(n.commit("setDefaults",a),i.value=a)}))})),(e,o)=>(t.openBlock(),t.createElementBlock("div",null,[i.value.length>0?t.withDirectives((t.openBlock(),t.createElementBlock("select",{key:0,class:"tb-py-3 tb-ml-7 tb-mr-4 tb-px-3",name:"upload-default",id:"upload-default",onChange:o[0]||(o[0]=e=>{r.value=""!==a.value}),"onUpdate:modelValue":o[1]||(o[1]=e=>a.value=e)},[T,(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(i.value,(e=>(t.openBlock(),t.createElementBlock("option",{key:e.Id,value:e},t.toDisplayString(e.Name),9,w)))),128))],544)),[[t.vModelSelect,a.value]]):t.createCommentVNode("",!0),r.value?(t.openBlock(),t.createBlock(x,{key:1,class:"tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white tb-font-medium tb-mr-2 tb-inline-block sm:block",onBtnClicked:l},{default:t.withCtx((()=>[k])),_:1})):t.createCommentVNode("",!0)]))}};function S(){return{canAccess:()=>!!TBGlobal.CanAccessLevel1Tools()||(TBGlobal.ShowUpgradePage("use SEO Studio",TBGlobal.limitation.seostudio),jQuery("body").trigger("TBcloseSeoStudioVue"),TubeBuddyMenu.HideBackground(),!1),CanAccessLevel1Tools:(e,t,o)=>!!TBGlobal.CanAccessLevel1Tools()||(TBGlobal.ShowUpgradePage(e,t),jQuery("body").trigger(o),TubeBuddyMenu.HideBackground(),!1),CanAccessLevel2Tools:(e,t,o)=>!!TBGlobal.CanAccessLevel2Tools()||(TBGlobal.ShowUpgradePage(e,t),jQuery("body").trigger(o),TubeBuddyMenu.HideBackground(),!1),CanAccessLevel3Tools:(e,t,o)=>!!TBGlobal.CanAccessLevel3Tools()||(TBGlobal.ShowUpgradePage(e,t),jQuery("body").trigger(o),TubeBuddyMenu.HideBackground(),!1)}}function B(e){const t=e=>({Id:e.draftId?e.draftId:null,Keyword:e.keyword?e.keyword:"",Score:e.score?e.score:0,Title:e.title?e.title:null,Description:e.description?e.description:null,Tags:e.tags?e.tags:null,IsActive:!!e.IsActive&&e.IsActive,VideoId:e.VideoId?e.VideoId:null,ThumbnailDataUrl:e.ThumbnailDataUrl?e.ThumbnailDataUrl:null}),o=o=>{if(void 0===o)return;const n=t(o);return new Promise(((t,o)=>{const i=TBGlobal.host+TBGlobal.apiUrls.seoScoreAddScore;TBExtension.Post(i,JSON.stringify(n),((n,i,a)=>{if(n){const o=JSON.parse(a);e.commit("setMetaData",{draftId:o}),t(o)}else o(JSON.parse(a))}),null,{contentType:"application/json",dataType:"text"})}))},n=e=>{if(void 0===e)return;const o=t(e);return new Promise(((t,n)=>{const i=TBGlobal.host+TBGlobal.apiUrls.seoScoreUpdateScore;TBExtension.Post(i,JSON.stringify(o),((o,i,a)=>{o?t(e.draftId):n(JSON.parse(a))}),null,{contentType:"application/json",dataType:"text"})}))};return{create:o,read:()=>new Promise(((t,o)=>{const n=TBGlobal.host+TBGlobal.apiUrls.seoScoreGetScores;TBExtension.Get(n,((n,i,a)=>{if(n){const o=JSON.parse(a);o.forEach((e=>{e.ThumbnailUrl&&(e.ThumbnailUrl+=`?v=${new Date}`)})),e.commit("setDrafts",o),t("Drafts read")}else o(JSON.parse(a))}),null,{contentType:"application/json",dataType:"text"})})),update:n,remove:t=>{if(void 0!==t)return new Promise(((o,n)=>{const i=`Are you sure you want to delete the saved optimization for ${t.Keyword}?`;TBUtilities.Confirm(i,(()=>{const i=TBGlobal.host+TBGlobal.apiUrls.seoScoreDeleteScore;TBExtension.Post(i,JSON.stringify({Id:t.Id}),((i,a,r)=>{if(!i)return void n(JSON.parse(r));const l=e.getters.getDrafts.filter((e=>e.Id!==t.Id));e.commit("setDrafts",l),o("Draft removed")}),null,{contentType:"application/json",dataType:"text"})}),null)}))},updateOrCreate:(t=!1)=>{const i=e.getters.getMetaData,a=e.getters.getTargetKeyword,r=e.getters.getVideoContext;if(e.getters.getTagCharacterCount>500)return TBUtilities.Alert("Your tags exceed the 500 character limit. Your draft was not saved. Please correct the issue and retry."),!1;const l={keyword:a,title:i.title,description:i.description,tags:i.tags.join(","),isActive:!0,score:e.getters.getOverallSeoScore};return i.customThumbnail&&i.customThumbnail.indexOf("data:image/")>-1&&(l.ThumbnailDataUrl=i.customThumbnail),r&&t&&(l.VideoId=r),null!=i.draftId&&(l.draftId=i.draftId),l.draftId?n(l):o(l)},setPayload:t}}function C(e){const t=e=>e.replace(/[.,\/#!$+%\^&\*;:{}=\-_`~()]/g,"").toLowerCase().normalize("NFKC"),o=o=>{const n=e.getters.getTargetKeyword;return!!(o&&o.length>0&&n&&n.length>0)&&t(o)==t(n)};return{checkExactMatch:o,highlightMatches:(t,n,i,a)=>{if(!t)return"";let r=e.getters.getTargetKeyword;if("string"!=typeof r)return;r=r.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");const l=r.split(" ").length>1?r.split(" "):[r];let s=`(${r})`;l.length>1&&(s+="|(",l.forEach(((e,t)=>{s+=t<l.length-1?`${e}|`:`${e}`})),s+=")");const c=new RegExp(s,"gi"),d=(e,t,o,n,r)=>t?`<span class="tb-bg-green-400 ${i?"tb-text-green-400":""} tb-rounded"${a?' style="'+a+'"':""}>${t}</span>`:`<span class="tb-bg-green-200 ${i?"tb-text-green-200":""} tb-rounded"${a?' style="'+a+'"':""}>${o}</span>`;return o(t)&&n||(t=t.replace(c,d)),DOMPurify.sanitize(t,DOMPurifyConfig)}}}function V(e){const{SeoStudioSaveDraft:t}=M(),o=t=>{for(let o=0;o<t;o++)e.commit("saveStep",{index:o,value:!0})},n=()=>e.getters.getTagCharacterCount>500,i=()=>{e.commit("resetSteps"),e.commit("resetTargetKeyword"),e.commit("resetSeoScore");TBGlobal.IsExperimentEnabled("tba-701-seo-studio-free-trial-gate")&&e.commit("setAllowUseAsFreeUser",!1),e.getters.getVideo.videoId?e.commit("setMetaData",{videoId:e.getters.getVideo.videoId,videoDurationMs:e.getters.getVideo.videoDurationMs,title:e.getters.getVideo.title,description:e.getters.getVideo.description,thumbnails:e.getters.getVideo.thumbnailDetails.thumbnails,tags:e.getters.getVideo.tags?e.getters.getVideo.tags.map((e=>e.value)):[]}):e.commit("resetMetaData")};return{goToStep:(a,r=!1)=>{if(n())return void TBUtilities.Alert("Your tags exceed the 500 character limit. To proceed please correct the issue and retry.");const{updateOrCreate:l}=B(e),s=e.getters.getCurrentStep;if(a!=s){if(0===a&&r)i(),e.commit("setCurrentStep",a);else if(0===a)return void TBUtilities.Confirm("Would you like to save changes to this optimization before you go?",(async()=>{await l(),e.commit("setCurrentPreview",!0),t({video_id:e.getters.getVideoContext||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),keyword:e.getters.getTargetKeyword,seo_score:e.getters.getOverallSeoScore,tool:"SEO Studio",applied:!0}),i(),e.commit("setCurrentStep",a)}),(()=>{i(),e.commit("setCurrentStep",a)})).set({labels:{ok:"Yes",cancel:"No"}});e.commit("setCurrentStep",a),o(a)}},next:()=>{if(n())return void TBUtilities.Alert("Your tags exceed the 500 character limit. To proceed please correct the issue and retry.");let t=e.getters.getCurrentStep;e.commit("setCurrentStep",++t),o(t)},back:()=>{if(n())return void TBUtilities.Alert("Your tags exceed the 500 character limit. To proceed please correct the issue and retry.");const{updateOrCreate:o}=B(e);let a=e.getters.getCurrentStep;1!==a?e.commit("setCurrentStep",--a):TBUtilities.Confirm("Would you like to save changes to this optimization before you go?",(async()=>{await o(),e.commit("setCurrentPreview",!0),t({video_id:e.getters.getVideoContext||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),keyword:e.getters.getTargetKeyword,seo_score:e.getters.getOverallSeoScore,tool:"SEO Studio",applied:!0}),i(),e.commit("setCurrentStep",--a)}),(()=>{i(),e.commit("setCurrentStep",--a)})).set({labels:{ok:"Yes",cancel:"No"}})}}}function N(e){const t=TubeBuddyKeywordExplorer.GetScoreColors();return{addTag:(t,o,n)=>{if(!(t=DOMPurify.sanitize(t.replace(/\s+/g," ").trim()))||t.length<2)return;let i=e.getters.getMetaTags?e.getters.getMetaTags:[];t.indexOf("<")>-1||t.indexOf(">")>-1?TBUtilities.Alert("Sorry, <b> < </b> and <b> > </b> are invalid characters for tags."):!o&&i&&i.length>0&&i.indexOf(t)>-1?n&&TBUtilities.Alert('"'+t+'" has already been added.',null):(o?(i.length>0&&i.indexOf(t)>-1&&i.splice(i.indexOf(t),1),i.unshift(t)):i.indexOf(t)<0&&i.push(t),e.commit("setMetaTags",i))},getTagScoreBorderColor:e=>{switch(!0){case e<=20:return t[0];case e>20&&e<40:return t[1];case e>=40&&e<60:return t[2];case e>=60&&e<80:return t[3];default:return t[4]}},scoreTags:e=>new Promise(((t,o)=>{e&&0!==e.length||o("no tags provided");const n=TBGlobal.host+TBGlobal.apiUrls.tagScoreGetStored,i=TBGlobal.GetPrefCookieObject(),a={Region:"us",Tags:e,Language:"en"};i&&i.gl&&(a.Region=i.gl),i&&i.hl&&(a.Language=i.hl),TBExtension.Post(n,JSON.stringify(a),((e,n,i)=>{e?t(JSON.parse(i)):o("Error fetching tag scores.")}),null,{contentType:"application/json",dataType:"text"})}))}}function I(){return{addSaveChannelAction:()=>{try{TBUtilities.AddAction({},TBUtilities.ActionTypes.SEOStudio_Save,"seostudio")}catch(e){TBUtilities.LogError({Exception:e,Location:"[TubeBuddySEOStudioVUE] addSaveChannelAction"})}},applyToVideoChannelAction:()=>{try{TBUtilities.AddAction({},TBUtilities.ActionTypes.SEOStudio_ApplyToVideo,"seostudio")}catch(e){TBUtilities.LogError({Exception:e,Location:"[TubeBuddySEOStudioVUE] applyToVideo"})}}}}function D(e){return{set:t=>{if(!t||0===t.length){const t=e.getters.getVideo.videoId?"Please enter a Target Keyword or click on a suggestion or saved optimization.":"Please enter a Target Keyword or click on a saved optimization.";return TBUtilities.Alert(t,null),!1}if(t.indexOf("<")>-1||t.indexOf(">")>-1)return TBUtilities.Alert("Your keyword cannot contain angled brackets",null),!1;if(t=DOMPurify.sanitize(t).trim(),e.commit("setTargetKeyword",t),!e.getters.getVideo.videoId){const o=[...t.split(",")].map((e=>e.trim()));e.commit("setMetaData",{title:t,description:t,tags:o})}return!0}}}function L(){const e=e=>new Promise((function(t,o){var n=jQuery(e)[0];if(n){n.focus();var i=document.createEvent("HTMLEvents");i.initEvent("input",!0,!0),n.dispatchEvent(i),t()}else o()})),t=e=>{if(jQuery(".ytcp-uploads-dialog .title-textarea #textbox").length>0)return jQuery(".ytcp-uploads-dialog .title-textarea #textbox");if(jQuery(".ytcp-uploads-dialog .title-textarea textarea").length>0)return jQuery(".ytcp-uploads-dialog .title-textarea textarea");if(jQuery(".input-container.title #textbox").length>0)return jQuery(".input-container.title #textbox");{const t=e?"UploadModal":"VideoDetails";return TBUtilities.ReportExtensionDOMIssue("UpdateMetadataInputsFunctions",".ytcp-uploads-dialog .title-textarea #textbox, .ytcp-uploads-dialog .title-textarea textarea, .input-container.title #textbox",t),!1}},o=async(e,t)=>{var o;if(t?(o=jQuery(".ytcp-uploads-dialog#dialog .ytcp-uploads-dialog #outer").find("input:last:not([type=radio])"),jQuery(".ytcp-uploads-dialog#dialog #tags-container #clear-button").click(),o.siblings("ytcp-chip.chip.ytcp-chip-bar").length>0&&jQuery.each(o.siblings("ytcp-chip.chip.ytcp-chip-bar"),(function(){jQuery(this).find("#delete-icon").click()}))):(o=jQuery("#tags-container #text-input"),jQuery("#chip-bar #clear-button:visible").length>0?jQuery("#chip-bar #clear-button").click():1==jQuery("ytcp-chip.chip").length&&jQuery("ytcp-chip.chip #delete-icon").click()),0===o.length)return TBUtilities.ReportExtensionDOMIssue("UpdateMeatadataInputsFunctions",o),!1;setTimeout((()=>{o.val(e),o.trigger("focus"),o.trigger("blur");const t=jQuery.Event("keypress",{which:13});return o.trigger(t),!0}),10)};return{updateTitleInput:async(o,n=!1)=>{var i=t(n);i.is("textarea")?i.val(o):i.text(o),e(i)},updateDescriptionInput:async(t,o=!1)=>{var n=(e=>{if(jQuery(".ytcp-uploads-dialog .description-textarea #textbox").length>0)return jQuery(".ytcp-uploads-dialog .description-textarea #textbox");if(jQuery(".ytcp-uploads-dialog .description-textarea textarea").length>0)return jQuery(".ytcp-uploads-dialog .description-textarea textarea");if(jQuery(".input-container.description #textbox").length>0)return jQuery(".input-container.description #textbox");{const t=e?"UploadModal":"VideoDetails";return TBUtilities.ReportExtensionDOMIssue("UpdateMetadataInputsFunctions",".ytcp-uploads-dialog .description-textarea #textbox, .ytcp-uploads-dialog .description-textarea textarea, .input-container.description #textbox",t),!1}})(o);n.is("textarea")?n.val(t):n.text(t),e(n)},updateTagsInput:async(e,t=!1)=>{e&&0!==e.length||(e=[]);const n=Array.isArray(e)?e.join(","):e;await o(n,t)},getTitleInputElement:t,getTitleInputValue:e=>{const o=t(e);return o&&o.length>0?o[0].textContent:""}}}function z(){return{track:(e,t)=>{try{TBUtilities.ReportProductEvent(e,t)}catch(o){TBUtilities.LogError("VUE | ReportProductEvent Error"),TBUtilities.LogError(o)}}}}function M(){const{track:e}=z();return{SeoStudioLaunched:t=>{e("Seo Studio Launched",t)},SeoStudioSearched:t=>{e("Seo Studio Searched",t)},SeoStudioTitleAndDescriptionTab:t=>{e("Seo Studio Title & Description Tab",t)},SeoStudioStudioTagsTab:t=>{e("Seo Studio Tags Tab",t)},SeoStudioThumbnailTab:t=>{e("Seo Studio Thumbnail Tab",t)},SeoStudioApplyToVideoTab:t=>{e("Seo Studio Apply to Video Tab",t)},SeoStudioSaveDraft:t=>{e("Seo Studio Save Draft",t)},SeoStudioApplyToVideo:t=>{e("Seo Studio Apply to Video",t)},SeoStudioClosed:t=>{e("Seo Studio Closed",t)},SeoStudioClicked:t=>{e("Seo Studio Clicked",t)},SeoStudioUsed:t=>{e("Seo Studio Used",t)}}}const A={class:"tb-px-4 tb-py-3 tb-flex tb-items-center tb-justify-between"},U={class:"tb-flex tb-justify-start"},O=t.createTextVNode(" back "),_={key:1},P={key:0,class:"tb-flex tb-justify-between"},j=t.createTextVNode(" save draft "),G=t.createTextVNode(" next "),R={setup(o){const n=e.useStore(),i=t.computed((()=>n.getters.getCurrentStep)),{back:a,next:r,goToStep:l}=V(n),{updateOrCreate:s}=B(n),{addSaveChannelAction:c}=I(),{SeoStudioSaveDraft:d}=M();async function u(){try{if(!1===await s())return;d({video_id:n.getters.getVideoContext||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),keyword:n.getters.getTargetKeyword,seo_score:n.getters.getOverallSeoScore,tool:"SEO Studio",applied:!0}),n.commit("resetMetaData"),n.commit("setCurrentPreview",!0),c(),l(0,!0)}catch(e){console.error(e)}}return(e,o)=>(t.openBlock(),t.createElementBlock("div",A,[t.createElementVNode("div",U,[t.unref(i)>0?(t.openBlock(),t.createBlock(x,{key:0,class:"tb-bg-gray-100 hover:tb-bg-gray-200 tb-text-gray-600 tb-mr-2",onBtnClicked:t.unref(a)},{default:t.withCtx((()=>[O])),_:1},8,["onBtnClicked"])):t.createCommentVNode("",!0),t.unref(i)>0&&t.unref(i)<3?(t.openBlock(),t.createElementBlock("div",_,[t.createVNode(E)])):t.createCommentVNode("",!0)]),t.unref(i)<4?(t.openBlock(),t.createElementBlock("div",P,[t.createVNode(x,{class:"tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white tb-mr-2",onBtnClicked:u},{default:t.withCtx((()=>[j])),_:1}),t.createVNode(x,{class:"tb-bg-green-500 hover:tb-bg-green-600 tb-text-white",onBtnClicked:t.unref(r)},{default:t.withCtx((()=>[G])),_:1},8,["onBtnClicked"])])):t.createCommentVNode("",!0)]))}},F={name:"GreenCheckMark",props:{width:{type:String,default:"18"},height:{type:String,default:"18"}}},H=["height","width"],Q=[t.createElementVNode("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),t.createElementVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},null,-1)];const K=v(F,[["render",function(e,o,n,i,a,r){return t.openBlock(),t.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",height:`${n.height}px`,width:`${n.width}px`,class:"tb-fill-current"},Q,8,H)}]]),Y={class:"tb-seo-studio-tab-navigation-container tb-flex tb-items-center tb-text-center tb-justify-start tb-w-full tb-bg-gray-100 tb-uppercase"},W=t.createTextVNode("Title & Description "),q=t.createTextVNode("Tags "),J=t.createTextVNode("Thumbnails "),Z=t.createTextVNode("Apply to Video "),X={setup(o){const n=e.useStore(),i=t.computed((()=>n.getters.getCurrentStep)),{goToStep:a}=V(n);function r(e){return n.getters.getSavedStep(e)}return(e,o)=>(t.openBlock(),t.createElementBlock("div",Y,[t.createElementVNode("div",{onClick:o[0]||(o[0]=e=>t.unref(a)(1)),class:t.normalizeClass(["tb-cursor-pointer tb-flex-1 tb-flex tb-my-6 tb-h-full tb-items-center tb-justify-center tb-border-b-2 tb-border-white tb-border-solid",{"tb-border-blue-500":1==t.unref(i)}])},[t.createElementVNode("span",{class:t.normalizeClass(["tb-mr-2",{"tb-font-bold":1==t.unref(i)}])},"Step 1:",2),W,r(1)?(t.openBlock(),t.createBlock(K,{key:0,class:"tb-ml-2 tb-text-green-500",width:"24",height:"24"})):t.createCommentVNode("",!0)],2),t.createElementVNode("div",{onClick:o[1]||(o[1]=e=>t.unref(a)(2)),class:t.normalizeClass(["tb-cursor-pointer tb-w-1/5 tb-flex tb-my-6 tb-h-full tb-items-center tb-justify-center tb-border-b-2 tb-border-white tb-border-solid",{"tb-border-blue-500":2==t.unref(i)}])},[t.createElementVNode("span",{class:t.normalizeClass(["tb-mr-2",{"tb-font-bold":2==t.unref(i)}])},"Step 2:",2),q,r(2)?(t.openBlock(),t.createBlock(K,{key:0,class:"tb-ml-2 tb-text-green-500",width:"24",height:"24"})):t.createCommentVNode("",!0)],2),t.createElementVNode("div",{onClick:o[2]||(o[2]=e=>t.unref(a)(3)),class:t.normalizeClass(["tb-cursor-pointer tb-w-1/4 tb-flex tb-my-6 tb-h-full tb-items-center tb-justify-center tb-border-b-2 tb-border-white tb-border-solid",{"tb-border-blue-500":3==t.unref(i)}])},[t.createElementVNode("span",{class:t.normalizeClass(["tb-mr-2",{"tb-font-bold":3==t.unref(i)}])},"Step 3:",2),J,r(3)?(t.openBlock(),t.createBlock(K,{key:0,class:"tb-ml-2 tb-text-green-500",width:"24",height:"24"})):t.createCommentVNode("",!0)],2),t.createElementVNode("div",{onClick:o[3]||(o[3]=e=>t.unref(a)(4)),class:t.normalizeClass(["tb-cursor-pointer tb-w-1/4 tb-flex tb-my-6 tb-h-full tb-items-center tb-justify-center tb-border-b-2 tb-border-white tb-border-solid",{"tb-border-blue-500":4==t.unref(i)}])},[t.createElementVNode("span",{class:t.normalizeClass(["tb-mr-2",{"tb-font-bold":4==t.unref(i)}])},"Step 4:",2),Z],2)]))}},ee={class:"tb-flex"},te=[t.createElementVNode("i",{class:"material-icons tb-mat-icon-sm"},"help_outline",-1)],oe={props:{item:Object,scrollTop:Number},setup(e){const o=t.ref(!1),n=t.ref(null);return(i,a)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["tb-flex tb-items-center tb-justify-between tb-my-1 tb-p-2 tb-rounded-md",{"tb-bg-red-100":!e.item.isCompleted,"tb-bg-green-100":e.item.isCompleted}]),ref_key:"improveItem",ref:n},[t.createElementVNode("div",ee,[t.createElementVNode("i",{class:t.normalizeClass(["material-icons tb-red tb-mr-1 tb-mat-icon-sm",{"tb-green":e.item.isCompleted}])},t.toDisplayString(e.item.isCompleted?"check":"close"),3),t.createElementVNode("span",null,[t.createTextVNode(t.toDisplayString(e.item.shortText)+" ",1),t.renderSlot(i.$slots,"action")])]),t.createElementVNode("span",{class:"tb-py-2",onMouseover:a[0]||(a[0]=e=>{o.value=!0}),onMouseleave:a[1]||(a[1]=e=>{o.value=!1})},te,32),o.value?(t.openBlock(),t.createElementBlock("span",{key:0,class:"tb-bg-gray-800 tb-text-white tb-font-light tb-shadow-md tb-rounded-md tb-p-3 tb-z-20 tb-absolute tb-right-16 tb-max-w-md tb-max-h-md",style:t.normalizeStyle({top:n.value.offsetTop+n.value.offsetHeight-e.scrollTop+"px"})},t.toDisplayString(e.item.detailText),5)):t.createCommentVNode("",!0)],2))}},ne={id:"tb-seo-studio-vue-score-chart",title:"TubeBuddy SEO Score",min:0,max:100,gaugeWidthScale:1,symbol:"%",valueFontFamily:"inherit",valueFontColor:"#666",customSectors:{ranges:[{color:"#dea85d",lo:0,hi:50},{color:"#dcde5d",lo:51,hi:70},{color:"#6cc861",lo:71,hi:100}]},donut:!0,counter:!0,startAnimationTime:1e3,refreshAnimationTime:1e3,label:" "},ie={class:"tb-p-2 tb-ml-5"},ae={class:"tb-w-full tb-mb-3"},re=t.createElementVNode("div",{class:"tb-w-full tb-flex tb-justify-center"},[t.createElementVNode("span",{class:"tb-text-2xl tb-font-semibold"},"TubeBuddy SEO Score")],-1),le={class:"tb-w-full tb-flex tb-items-center tb-justify-center"},se={key:0,id:"tb-seo-studio-vue-score-chart"},ce={class:"tb-w-full tb-mb-3 tb-p-2 tb-rounded-md tb-shadow-lg"},de={class:"tb-flex tb-items-center tb-justify-between"},ue=t.createElementVNode("span",{class:"tb-red tb-flex tb-items-center"},[t.createElementVNode("i",{class:"material-icons tb-mr-2 tb-mat-icon-md"},"my_location"),t.createElementVNode("span",{class:"tb-text-2xl tb-font-semibold tb-uppercase"},"Target Keyword")],-1),pe={class:"tb-w-full tb-p-2 tb-rounded-md tb-shadow-lg"},me={class:"tb-flex tb-items-center tb-mb-2"},be=["src"],ge={class:"tb-text-2xl tb-font-semibold"},he={key:1},fe={key:2},ve={class:"tb-flex"},ye=t.createElementVNode("i",{class:"material-icons tb-mat-icon-md tb-mr-1"},"arrow_right",-1),xe=t.createElementVNode("div",{class:"tb-border-t tb-border-gray-400 tb-border-solid tb-border-opacity-70 tb-mt-2 tb-pt-2"},[t.createElementVNode("small",null,"Thumbnails don't impact search ranking, but a professional thumbnail can impact your click through rate.")],-1),Te={setup(o){const n=e.useStore(),i=t.computed((()=>n.getters.getCurrentStep||0)),a=t.computed((()=>n.getters.getTargetKeyword||"not set")),r=t.computed((()=>TBUtilities.FixLocalHtml("{PLUGIN_FILE_ROOT}/images/icons/lightbulb.png"))),{goToStep:l}=V(n),{fetchScoreWithDelay:s}=function(e){let t;const o=()=>new Promise(((t,o)=>{TBUtilities.Log("Fetching SEO Studio Score");const n=e.getters.getMetaTags&&e.getters.getMetaTags.length?e.getters.getMetaTags:[""],i={targetKeyword:e.getters.getTargetKeyword.length?e.getters.getTargetKeyword:null,title:e.getters.getMetaTitle,description:e.getters.getMetaDescription,tags:n},a=TBGlobal.host+TBGlobal.apiUrls.seoScoreGetCalculation;TBExtension.Post(a,JSON.stringify(i),((n,i,a)=>{try{n?(e.commit("setSeoScore",JSON.parse(a)),t("Fetched updated SEO score")):o(`Error fetching SEO Score. Res: ${a}`)}catch(r){TBUtilities.Log(r),o(`Exception fetching SEO Score. Ex: ${r}`)}}),null,{contentType:"application/json",dataType:"text"})}));return{fetchScoreWithDelay:(e=1e3)=>{clearTimeout(t),t=setTimeout((()=>{o()}),e)},fetchSeoScore:o}}(n),{addTag:c}=N(n),d=t.computed((()=>n.getters.getSeoScore)),u=t.ref(0);s(0);let p=null;function m(){const e=a.value.split(",").reverse();if(1===e.length)c(a.value,!0,!1);else for(const t of e)c(t.trim(),!0,!1)}function b(e){u.value=e.target.scrollTop}const g=n.subscribe(((e,t)=>{["setMetaData","resetTargetKeyword","setTargetKeyword","setMetaTitle","setMetaDescription","setMetaTags","resetMetaData"].indexOf(e.type)>-1&&s(),"setSeoScore"===e.type&&(p?p.refresh(t.seoScore.seoScore.overallScore):function(e){let t=Object.assign(ne,{value:e});p&&p.destroy(),p=new JustGage(t)}(t.seoScore.seoScore.overallScore)),"resetTargetKeyword"!==e.type&&"setCurrentStep"!==e.type||(u.value=0)}));return t.onBeforeUnmount((()=>{g()})),(e,o)=>(t.openBlock(),t.createElementBlock("div",ie,[t.createElementVNode("div",ae,[re,t.createElementVNode("div",le,[t.unref(d)?(t.openBlock(),t.createElementBlock("div",se)):t.createCommentVNode("",!0)])]),t.createElementVNode("div",ce,[t.createElementVNode("div",de,[ue,t.createElementVNode("a",{onClick:o[0]||(o[0]=e=>t.unref(l)(0))},"change keyword")]),t.createElementVNode("div",{class:t.normalizeClass(["tb-ml-10 tb-font-semibold",{"tb-text-2xl":t.unref(a).length<=30}])},t.toDisplayString(t.unref(a)),3)]),t.createElementVNode("div",pe,[t.createElementVNode("div",me,[t.createElementVNode("img",{src:t.unref(r),alt:"lightbulb",height:"20",class:"tb-mr-2"},null,8,be),t.createElementVNode("span",ge,t.toDisplayString(t.unref(i)<3?"How to Improve Your Score":"Thumbnail Tips"),1)]),1===t.unref(i)?(t.openBlock(),t.createElementBlock("div",{key:0,class:"tb-max-h-80 tb-overflow-y-auto",onScroll:b},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(d).metaImprovements,(e=>(t.openBlock(),t.createBlock(t.unref(oe),{item:e,scrollTop:u.value},null,8,["item","scrollTop"])))),256))],32)):t.createCommentVNode("",!0),2===t.unref(i)?(t.openBlock(),t.createElementBlock("div",he,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(d).tagImprovements,((e,o)=>(t.openBlock(),t.createBlock(t.unref(oe),{item:e,scrollTop:parseInt(0)},t.createSlots({_:2},[0!==o||e.isCompleted?void 0:{name:"action",fn:t.withCtx((()=>[t.createElementVNode("a",{onClick:m},"add now")]))}]),1032,["item","scrollTop"])))),256))])):t.createCommentVNode("",!0),3===t.unref(i)?(t.openBlock(),t.createElementBlock("div",fe,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(d).thumbnailTips,(e=>(t.openBlock(),t.createElementBlock("div",ve,[ye,t.createElementVNode("span",null,t.toDisplayString(e),1)])))),256)),xe])):t.createCommentVNode("",!0)])]))}},we={class:"footer"},ke=v({emits:["skipUpgrade"],setup:(e,{emit:o})=>(e,o)=>(t.openBlock(),t.createElementBlock("div",we,[t.createElementVNode("a",{href:"",onClick:o[0]||(o[0]=t=>e.$emit("skipUpgrade"))}," skip upgrading ")]))},[["__scopeId","data-v-80942414"]]),Ee={class:"header"},Se={class:"left-header"},Be=["src"],Ce=(e=>(t.pushScopeId("data-v-57760039"),e=e(),t.popScopeId(),e))((()=>t.createElementVNode("div",null,"Uses left",-1))),Ve={class:"x-close"},Ne=v({emits:["closeGate"],setup(e,{emit:o}){const n=t.computed((()=>browser.runtime.getURL("/images/branding/icon_large.png")));return(e,o)=>(t.openBlock(),t.createElementBlock("div",Ee,[t.createElementVNode("div",Se,[t.createElementVNode("img",{src:t.unref(n),alt:"TubeBuddy Icon"},null,8,Be),Ce]),t.createElementVNode("div",Ve,[t.createElementVNode("i",{onClick:o[0]||(o[0]=t=>e.$emit("close-gate")),class:"untitled-ui untitled-ui-x-line x-close-i"})])]))}},[["__scopeId","data-v-57760039"]]),Ie=e=>(t.pushScopeId("data-v-62051646"),e=e(),t.popScopeId(),e),De={class:"wrapper"},Le={class:"content"},ze=t.createTextVNode(" You have "),Me={class:"usesLeft"},Ae=t.createTextVNode(),Ue={class:"bold"},Oe=Ie((()=>t.createElementVNode("span",{class:"bold"},"left forever",-1))),_e=t.createTextVNode(" with your Free license. "),Pe={class:"secondary-text"},je=t.createTextVNode(" Get "),Ge={class:"bold"},Re=t.createTextVNode(" use of our SEO tools by upgrading to "),Fe=Ie((()=>t.createElementVNode("span",{class:"upgradedLicense"},"Pro",-1))),$e=t.createTextVNode(" or "),He=Ie((()=>t.createElementVNode("span",{class:"upgradedLicense"},"Legend",-1))),Qe=t.createTextVNode(". "),Ke=[Ie((()=>t.createElementVNode("i",{class:"untitled-ui untitled-ui-stars-03-line"},null,-1))),t.createTextVNode(" upgrade now ")],Ye=v({props:{tool:{type:String},usesLeft:{type:Number,default:1},upgradeToUses:{type:[Number,String]},upgradeToLicense:{type:String}},setup(e){const o=e;t.useCssVars((e=>({"3c680fb2":t.unref(n)})));const n=t.computed((()=>`url(${browser.runtime.getURL("/images/bg_pattern_dark.png")})`)),i=()=>{TBUtilities.ReportProductEvent("SEO Studio Upgrade Button Clicked",{usesLeft:o.usesLeft})};return(e,n)=>(t.openBlock(),t.createElementBlock("div",De,[t.createElementVNode("div",Le,[ze,t.createElementVNode("span",Me,t.toDisplayString(o.usesLeft),1),Ae,t.createElementVNode("span",Ue,t.toDisplayString(1===o.usesLeft?"use":"uses"),1),t.createTextVNode(" of "+t.toDisplayString(o.tool)+" ",1),Oe,_e,t.createElementVNode("div",Pe,[je,t.createElementVNode("span",Ge,t.toDisplayString(o.upgradeToUses),1),Re,Fe,$e,He,Qe]),t.createElementVNode("a",{class:"upgrade-btn",rel:"noopener",target:"_blank",href:"https://www.tubebuddy.com/pricing",onClick:i},Ke)])]))}},[["__scopeId","data-v-62051646"]]),We={class:"tb-flex tb-flex-wrap"},qe=["src"],Je=t.createElementVNode("span",{class:"tb-text-3xl tb-font-medium tb-w-full tb-text-center"},"Boost your Rank in Search Results!",-1),Ze={setup(e){const o=t.computed((()=>TBUtilities.FixLocalHtml("{PLUGIN_FILE_ROOT}/images/screenshots/seo-studio-first-screen-green-arrows.png")));return(e,n)=>(t.openBlock(),t.createElementBlock("div",We,[t.createElementVNode("img",{id:"tb-seo-studio-thumbnail-preview",src:t.unref(o),class:"tb-mx-auto"},null,8,qe),Je]))}},Xe={class:"tb-flex tb-flex-wrap"},et=t.createElementVNode("p",{class:"tb-mb-5 tb-text-center tb-px-20 tb-w-full tb-text-2xl"}," Find a keyword with a high overall score (using Keyword Explorer) to help get your video ranked higher in search results. ",-1),tt=t.createTextVNode(" launch keyword explorer "),ot={setup(o){const n=e.useStore(),i=t.computed((()=>n.getters.getCallBtn));function a(){jQuery("body").trigger("TBcloseSeoStudioVue"),TubeBuddyKeywordExplorer.Show(null,null,null,i.value,null,null,"SEO Studio VUE")}return(e,o)=>(t.openBlock(),t.createElementBlock("div",Xe,[et,t.createVNode(x,{class:"tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white tb-font-medium tb-text-align-center tb-mx-auto",onBtnClicked:a},{default:t.withCtx((()=>[tt])),_:1})]))}},nt={props:{width:{type:String,default:"18"},height:{type:String,default:"18"}},name:"CloseIcon"},it=["height","width"],at=[t.createElementVNode("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),t.createElementVNode("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},null,-1)];const rt=v(nt,[["render",function(e,o,n,i,a,r){return t.openBlock(),t.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",height:`${n.height}px`,viewBox:"0 0 24 24",width:`${n.width}px`,class:"tb-fill-current"},at,8,it)}]]),lt={class:"tb-flex tb-flex-wrap tb-w-full"},st={class:"tb-w-full tb-flex tb-mb-2"},ct={key:0,class:"tb-seo-studio-message tb-seo-studio-message--success",id:"tb-seo-studio-optimization-saved-message"},dt={class:"tb-text-right"},ut=[t.createElementVNode("i",{class:"material-icons tb-font-size18 tb-margin-right3"},"close",-1)],pt=t.createElementVNode("div",{class:"tb-seo-studio-message-text"}," Optimization saved successfully. Launch SEO Studio from a Video Edit Page or Uploads to apply to a video. ",-1),mt={key:0,class:"tb-seo-studio-drafts-container tb-w-full tb-overflow-y-auto"},bt=["onClick"],gt=["onClick"],ht={key:1,class:"tb-seo-studio-drafts-container tb-w-full tb-overflow-y-auto"},ft=["onClick"],vt={class:"tb-mr-3 tb-font-medium"},yt={setup(o){const n=e.useStore(),i=t.ref("drafts"),a=t.computed((()=>n.getters.getDrafts.filter((e=>null==e.VideoId)))),r=t.computed((()=>n.getters.getDrafts.filter((e=>null!=e.VideoId)))),l=t.computed((()=>n.getters.getCurrentPreview)),{goToStep:s}=V(n),{read:c,remove:d}=B(n);function u(e){e!=i.value&&(i.value=e)}function p(e){const t=e.Tags?e.Tags.split(",").map((e=>e.trim())):[],o={title:e.Title,description:e.Description,tags:t,draftId:e.Id};e.ThumbnailUrl&&(o.thumbnails=[,{url:e.ThumbnailUrl}],o.customThumbnail=e.ThumbnailUrl);const i=e.Keyword;n.commit("setTargetKeyword",i),n.commit("setMetaData",o),s(1)}function m(){n.commit("resetCurrentPreview")}return t.onBeforeMount((()=>{c()})),t.onMounted((()=>{setTimeout((()=>{l&&m()}),1e4)})),(e,o)=>(t.openBlock(),t.createElementBlock("div",lt,[t.createElementVNode("div",st,[t.createElementVNode("div",{class:t.normalizeClass(["tb-w-1/2 tb-uppercase tb-border-solid tb-border-b-4 tb-border-gray-200 tb-cursor-pointer tb-text-center",{"tb-border-blue-500":"drafts"==i.value}]),onClick:o[0]||(o[0]=e=>u("drafts"))},"Drafts",2),t.createElementVNode("div",{class:t.normalizeClass(["tb-w-1/2 tb-uppercase tb-border-solid tb-border-b-4 tb-border-gray-200 tb-cursor-pointer tb-text-center",{"tb-border-blue-500":"applied"==i.value}]),onClick:o[1]||(o[1]=e=>u("applied"))},"Applied",2)]),t.createVNode(t.Transition,{name:"fade"},{default:t.withCtx((()=>[t.unref(l)?(t.openBlock(),t.createElementBlock("div",ct,[t.createElementVNode("div",dt,[t.createElementVNode("a",{class:"tb-seo-studio-message-close",onClick:o[2]||(o[2]=e=>m())},ut)]),pt])):t.createCommentVNode("",!0)])),_:1}),"drafts"==i.value?(t.openBlock(),t.createElementBlock("div",mt,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(a),(e=>(t.openBlock(),t.createElementBlock("div",{key:e.Id,class:"tb-flex tb-items-center tb-justify-between tb-py-3"},[t.createElementVNode("div",{onClick:t=>p(e),class:"tb-cursor-pointer tb-text-blue-500 tb-font-medium"},t.toDisplayString(e.Keyword),9,bt),t.createElementVNode("div",{onClick:o=>t.unref(d)(e),class:"tb-cursor-pointer tb-text-gray-200 hover:tb-text-gray-300"},[t.createVNode(rt,{width:"22",height:"22"})],8,gt)])))),128))])):(t.openBlock(),t.createElementBlock("div",ht,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(r),(e=>{return t.openBlock(),t.createElementBlock("div",{onClick:t=>p(e),key:e.Id,class:"tb-py-3 tb-border-line tb-border-bottom tb-border-gray-100 tb-cursor-pointer"},[t.createElementVNode("span",vt,t.toDisplayString(e.Keyword),1),t.createTextVNode("("+t.toDisplayString((o=e.DateModified,moment(o).format("M/D/YY")))+") ",1)],8,ft);var o})),128))]))]))}},xt={class:"tb-flex tb-flex-wrap tb-w-full"},Tt={id:"tb-seo-studio-suggested-keywords-container",class:"tb-w-full tb-overflow-y-auto"},wt=["onClick"],kt={class:"tb-cursor-pointer tb-text-blue-500 hover:text-blue-600 tb-font-medium"},Et={setup(o){const n=e.useStore(),i=t.ref([]),a=t.computed((()=>i.value)),{goToStep:r}=V(n);function l(){const e=n.getters.getMetaData.title;TubeBuddyYouTubeActions.GetYouTubeAutoComplete(function(){const e=jQuery("body")[0].outerHTML,t=e.indexOf('PSUGGEST_TOKEN":"')+'PSUGGEST_TOKEN":"'.length,o=e.indexOf('"',t);return e.substring(t,o)}(),e,(function(e){i.value=e}))}return t.onBeforeMount((()=>{l()})),(e,o)=>(t.openBlock(),t.createElementBlock("div",xt,[t.createElementVNode("div",Tt,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(a),(e=>(t.openBlock(),t.createElementBlock("div",{onClick:t=>function(e){n.commit("setTargetKeyword",e),r(1)}(e),key:e,class:"tb-py-2 tb-cursor-pointer"},[t.createElementVNode("span",kt,t.toDisplayString(e),1)],8,wt)))),128))])]))}},St={id:"tb-select-target-kw-container",class:"tb-flex tb-mx-8 tb-my-10 tb-items-center tb-justified-around"},Bt={id:"tb-select-target-kw-left-menu",class:"tb-flex tb-flex-wrap"},Ct=t.createElementVNode("div",{class:"tb-w-full tb-text-3xl tb-text-gray-500 tb-mb-10 tb-leading-snug"},[t.createTextVNode(" Build the perfect searchable "),t.createElementVNode("span",{class:"tb-font-bold"},"Title, Description"),t.createTextVNode(" and "),t.createElementVNode("span",{class:"tb-font-bold"},"Tags"),t.createTextVNode(" for your video. ")],-1),Vt={class:"tb-flex tb-w-5/6 tb-mb-3"},Nt=t.createTextVNode(" start "),It=["onClick"],Dt={class:"tb-w-full tb-flex tb-flex-wrap"},Lt={key:0,class:"gate-component-container"},zt={key:1,class:"gate-component"},Mt=[t.createTextVNode("Learn more About "),t.createElementVNode("strong",null,"SEO Studio",-1)],At={props:{videoId:String},setup(o){const n=e.useStore(),i=t.ref(""),a=t.ref(null),r=t.shallowRef(Ze),l=t.computed((()=>r.value)),s=t.computed((()=>n.getters.getVideo.videoId&&!n.getters.getVideo.tags)),c=t.computed((()=>n.getters.getAllowUseAsFreeUser)),d=t.computed((()=>TBUtilities.CanUseFeature("seostudio"))),u=t.computed((()=>TBUtilities.GetGateStatus("seostudio"))),{canAccess:p}=S(),{set:m}=D(n),b=TBGlobal.IsExperimentEnabled("tba-701-seo-studio-free-trial-gate"),g=t.computed((()=>!!b&&(!TBGlobal.CanAccessLevel1Tools()&&!c.value)));function h(){TBUtilities.ReportProductEvent("SEO Studio Learn more Clicked",{usesLeft:u.value.NeverUsed?2:u.value.UsesLeft})}function f(e){if(b)r.value=e;else{if(!p())return;r.value=e}}function v(e){if(b&&!TBGlobal.CanAccessLevel1Tools()){if(!d.value)return void TBGlobal.ShowUpgradePage("",TBGlobal.limitation.seostudio,!1,"limit hit");m(e)&&n.commit("setCurrentStep",1),i.value="",a.value.focus()}else{if(!p())return;m(e)&&n.commit("setCurrentStep",1),i.value="",a.value.focus()}}function y(){TBUtilities.Alert('A "Target Keyword" is generally a 3-6 word phrase that is the core search term you want your video to rank for in YouTube search results.<br><br>As an example, your entire video title might be "How to find your niche on YouTube in 2020 (Must watch!)" but the Target Keyword within that, is "find your niche on YouTube".')}return t.onMounted((()=>{b&&(TBGlobal.CanAccessLevel1Tools()||c.value||TBUtilities.ReportProductEvent("SEO Studio Gate Modal Shown",{usesLeft:u.value.NeverUsed?2:u.value.UsesLeft})),n.getters.getCurrentPreview&&f(yt)})),(e,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createElementVNode("div",St,[t.createElementVNode("div",Bt,[Ct,t.createElementVNode("div",Vt,[t.withDirectives(t.createElementVNode("input",{ref_key:"targetKeywordInput",ref:a,"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),type:"text",spellcheck:"false",class:"tb-border tb-rounded-sm tb-border-solid focus:tb-outline-none tb-border-gray-300 focus:tb-border-gray-300 tb-flex-1 tb-mr-2 tb-px-2",placeholder:"Enter your Target Keyword",onKeyup:o[1]||(o[1]=t.withKeys((e=>v(i.value)),["enter"]))},null,544),[[t.vModelText,i.value]]),t.createVNode(x,{class:"tb-flex-initial tb-bg-green-500 hover:tb-bg-green-600 tb-text-white tb-font-medium",onBtnClicked:o[2]||(o[2]=e=>v(i.value))},{default:t.withCtx((()=>[Nt])),_:1})]),t.createElementVNode("a",{class:"tb-w-full tb-text-gray-400 tb-mb-10 tb-ml-3",href:"#",onClick:t.withModifiers(y,["prevent"])},'What\'s a "Target Keyword"?',8,It),t.createElementVNode("div",Dt,[t.createElementVNode("a",{class:"tb-text-2xl tb-text-blue-500 tb-mb-4 tb-w-full",href:"#",onClick:o[3]||(o[3]=t.withModifiers((e=>f(ot)),["prevent"]))},"Help me find the right Target Keyword..."),t.createElementVNode("a",{class:"tb-text-2xl tb-text-blue-500 tb-mb-4 tb-w-full",href:"#",onClick:o[4]||(o[4]=t.withModifiers((e=>f(yt)),["prevent"]))},"Load from saved draft..."),t.unref(s)?(t.openBlock(),t.createElementBlock("a",{key:0,class:"tb-text-2xl tb-text-blue-500 tb-mb-4 tb-w-full",href:"#",onClick:o[5]||(o[5]=t.withModifiers((e=>f(Et)),["prevent"]))},"Show me a few suggestions...")):t.createCommentVNode("",!0)])]),(t.openBlock(),t.createBlock(t.KeepAlive,null,[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(l))))],1024))]),t.unref(g)?(t.openBlock(),t.createElementBlock("div",Lt)):t.createCommentVNode("",!0),t.unref(g)?(t.openBlock(),t.createElementBlock("div",zt,[t.createVNode(Ne,{onCloseGate:o[6]||(o[6]=e=>{return t="x",TBUtilities.ReportProductEvent("SEO Studio Gate Modal Closed",{usesLeft:u.value.NeverUsed?2:u.value.UsesLeft,from:t}),TubeBuddyMenu.HideBackground(),void jQuery("body").trigger("TBcloseSeoStudioVue");var t})}),t.createVNode(Ye,{tool:"SEO Studio","upgrade-to-license":"Pro or Legend","uses-left":t.unref(u).NeverUsed?2:t.unref(u).UsesLeft,"upgrade-to-uses":"unlimited"},null,8,["uses-left"]),t.createVNode(ke,{onClick:o[7]||(o[7]=t.withModifiers((e=>{return t="Skip Upgrading",TBUtilities.ReportProductEvent("SEO Studio Gate Modal Closed",{usesLeft:u.value.NeverUsed?2:u.value.UsesLeft,from:t}),void(d.value?n.commit("setAllowUseAsFreeUser",!0):TBGlobal.ShowUpgradePage("",TBGlobal.limitation.seostudio,!1,"limit hit"));var t}),["prevent"]))}),t.createElementVNode("div",{class:"learn-more"},[t.createElementVNode("a",{rel:"noopener",target:"_blank",href:"https://www.tubebuddy.com/tools/seo-studio/",onClick:h},Mt)])])):t.createCommentVNode("",!0)],64))}};class Ut{static getCurrentCursorPosition(e){var t,o=window.getSelection(),n=-1;if(o.focusNode&&Ut._isChildOf(o.focusNode,e))for(t=o.focusNode,n=o.focusOffset;t&&t!==e;)if(t.previousSibling)n+=(t=t.previousSibling).textContent.length;else if(null===(t=t.parentNode))break;return n}static setCurrentCursorPosition(e,t){if(e>=0){var o=window.getSelection();let n=Ut._createRange(t,{count:e});n&&(n.collapse(!1),o.removeAllRanges(),o.addRange(n))}}static _createRange(e,t,o){if(o||((o=document.createRange()).selectNode(e),o.setStart(e,0)),0===t.count)o.setEnd(e,t.count);else if(e&&t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(o.setEnd(e,t.count),t.count=0);else for(var n=0;n<e.childNodes.length&&(o=Ut._createRange(e.childNodes[n],t,o),0!==t.count);n++);return o}static _isChildOf(e,t){for(;null!==e;){if(e===t)return!0;e=e.parentNode}return!1}}const Ot={class:"tb-w-full tb-p-2 tb-rounded tb-appearance-none tb-border tb-border-solid tb-border-gray-200 tb-overflow-hidden"},_t=["innerHTML"],Pt={class:"tb-w-full tb-flex tb-flex-wrap tb-items-center tb-justify-between"},jt={setup(o){const n=e.useStore();t.ref(!1),t.ref(n.getters.getTargetKeyword);const i=t.ref("Loading..."),a=t.computed((()=>"No title"===n.getters.getMetaTitle?0:n.getters.getMetaTitle.length)),r=t.ref(!1),l=t.ref(null),s=t.ref(null),{highlightMatches:c}=C(n),d=n.subscribe((e=>{"setMetaData"==e.type&&(s.value.innerHTML=c(e.payload.title,!1,!1))}));function u(e){r.value=!1,l.value="";const t=n.getters.getMetaData;t.title=e.target.innerText.replace(/\n$/g,""),n.commit("setMetaTitle",t.title);const o=e.target,i=Ut.getCurrentCursorPosition(o);e.target.innerHTML=c(e.target.innerText,!1,!1),Ut.setCurrentCursorPosition(i,o),o.focus()}function p(e){e.preventDefault();let t=(e.originalEvent||e).clipboardData.getData("text/plain");if(t.indexOf("<")>-1||t.indexOf(">")>-1)return TBUtilities.Alert("Angled brackets are not allowed"),!1;if(t.length+a.value>=100)return e.preventDefault(),r.value=!0,l.value="Pasting this will take you over the character limit",!1;document.execCommand("insertText",!1,t),u(e)}function m(e){return"Enter"==e.key?(e.preventDefault(),!1):("<"!=e.key&&">"!=e.key||(e.preventDefault(),TBUtilities.Alert("Angled brackets are not allowed")),e.target.innerText.length>=100?(e.preventDefault(),r.value=!0,l.value="Character limit reached",!1):(r.value=!1,void(l.value="")))}return t.onMounted((()=>{i.value=n.getters.getMetaData.title?n.getters.getMetaData.title:""})),t.onUnmounted((()=>{d()})),(e,o)=>(t.openBlock(),t.createElementBlock("div",Ot,[t.createElementVNode("div",{contenteditable:"true",ref_key:"titleInput",ref:s,onInput:u,onPaste:p,onKeydown:o[0]||(o[0]=t.withModifiers((()=>{}),["stop"])),onKeypress:m,spellcheck:"false",class:"tb-appearance-none tb-border-none tb-rounded-sm focus:tb-outline-none tb-text-2xl tb-overflow-x-auto tb-mb-1 tb-whitespace-pre",innerHTML:t.unref(c)(i.value,!1,!1)},null,40,_t),t.createElementVNode("div",Pt,[t.createElementVNode("div",null,[t.withDirectives(t.createElementVNode("span",{class:"tb-text-red-500"},t.toDisplayString(l.value),513),[[t.vShow,r.value]])]),t.createElementVNode("div",null,t.toDisplayString(t.unref(a))+"/100",1)])]))}},Gt={class:"tb-p-2 tb-rounded tb-appearance-none tb-border tb-border-solid tb-border-gray-200"},Rt={class:"tb-relative tb-w-full tb-text-xl mbt-1"},Ft=["onKeydown","innerHTML"],$t=["innerHTML"],Ht={class:"tb-w-full tb-flex tb-flex-wrap tb-items-center tb-justify-between"},Qt={setup(o){const n=e.useStore();t.ref(n.getters.getTargetKeyword);const i=t.ref("Loading..."),a=t.ref(null),r=t.computed((()=>"No Description"===n.getters.getMetaDescription?"":n.getters.getMetaDescription)),l=t.computed((()=>"No Description"===n.getters.getMetaDescription?0:n.getters.getMetaDescription.length)),s=t.ref(!1),c=t.ref(null),d=t.ref(null),{highlightMatches:u}=C(n),p=n.subscribe((e=>{if("setMetaData"==e.type){let t=e.payload.description;t=v(t),d.value.innerHTML=y(t)}}));function m(e){a.value.scrollTop=e.target.scrollTop}function b(e){const t=(o=f(o=e.target.value.replace(/\n$/g,""),"<br>","\n"),o=f(o,"<p>","\n"),o=f(o,"<div>",""),o=(o=f(o,"</div>","")).replaceAll(/<\/?span|[^>]+>/g,""));var o;if(n.commit("setMetaDescription",t),e.target.value.length>5e3)return e.preventDefault(),s.value=!0,c.value="Character limit reached",!1;s.value=!1,c.value=""}function g(e){i.value=v(e.target.value),b(e)}function h(e){const t="paste"===e.type?(e.originalEvent||e).clipboardData.getData("text/plain"):"";if("keydown"===e.type&&("<"===e.key||">"===e.key)||"paste"===e.type&&(t.indexOf("<")>-1||t.indexOf(">")>-1))return e.preventDefault(),void TBUtilities.Alert("Angled brackets are not allowed")}function f(e,t,o){return e?e.split(t).join(o):""}function v(e){return e=f(e,"\r\n","&#13;&#10;"),e=f(e,"\n","&#10;"),e=f(e,"\r","&#13;")}function y(e){return e=f(e,"\r\n","<br>"),e=f(e,"\n","<br>"),e=f(e,"\r","<br>")}return t.onBeforeMount((()=>{i.value=n.getters.getMetaData.description})),t.onUnmounted((()=>{p()})),(e,o)=>(t.openBlock(),t.createElementBlock("div",Gt,[t.createElementVNode("div",Rt,[t.createElementVNode("textarea",{id:"tb-seo-studio-description-textarea",ref_key:"descInput",ref:d,onInput:b,onKeydown:t.withModifiers(h,["stop"]),onPaste:h,onChange:g,class:"tb-seo-studio-description-font tb-absolute tb-top-0 tb-left-0 tb-clear-both tb-w-full tb-z-20 tb-appearance-none tb-border-none tb-rounded-sm focus:tb-outline-none tb-overflow-y-auto tb-whitespace-pre-line",onScroll:m,innerHTML:v(i.value)},null,40,Ft),t.createElementVNode("div",{id:"tb-seo-studio-description-bg",ref_key:"highlighter",ref:a,class:"tb-seo-studio-description-font tb-w-full tb-overflow-y-auto tb-whitespace-pre-line tb-text-white",innerHTML:t.unref(u)(y(t.unref(r)),!1,!0)},null,8,$t)]),t.createElementVNode("div",Ht,[t.createElementVNode("div",null,[t.withDirectives(t.createElementVNode("span",{class:"tb-text-red-500"},t.toDisplayString(c.value),513),[[t.vShow,s.value]])]),t.createElementVNode("div",null,t.toDisplayString(t.unref(l))+"/5000",1)])]))}},Kt={class:"tb-my-2 tb-px-4"},Yt={class:"tb-w-full tb-flex tb-flex-wrap tb-my-4"},Wt=t.createElementVNode("label",{for:"title",class:"tb-font-medium tb-mb-1"},"Title",-1),qt={class:"tb-w-full"},Jt=t.createElementVNode("label",{for:"description",class:"tb-font-medium"},"Description",-1),Zt={setup(o){const n=e.useStore();t.computed((()=>n.getters.getMetaData.title)),t.computed((()=>n.getters.getMetaData.description));const{SeoStudioSearched:i,SeoStudioTitleAndDescriptionTab:a}=M();return t.onMounted((()=>{TBUtilities.IncrementFeatureUse("seostudio")})),setTimeout((()=>{i({video_id:n.getters.getVideo.videoId||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),keyword:n.getters.getTargetKeyword||null,seo_score:n.getters.getOverallSeoScore||null,tool:"SEO Studio",used:!0}),a({video_id:n.getters.getVideo.videoId||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),tool:"SEO Studio",used:!0})}),1e3),(e,o)=>(t.openBlock(),t.createElementBlock("div",Kt,[t.createElementVNode("div",Yt,[Wt,t.createVNode(jt,{tag:"div"})]),t.createElementVNode("div",qt,[Jt,t.createVNode(Qt,{tag:"div","allow-newlines":!0})])]))}},Xt={class:"tb-video-tag tb-bg-gray-200 tb-rounded-full tb-py-1.5 tb-px-3 tb-flex tb-items-center"};const eo=v({},[["render",function(e,o){return t.openBlock(),t.createElementBlock("span",Xt,[t.renderSlot(e.$slots,"tag-left"),t.renderSlot(e.$slots,"tag-content"),t.renderSlot(e.$slots,"tag-right")])}]]);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function to(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oo,no={exports:{}};"undefined"!=typeof self&&self,oo=function(e,t){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="fb15")}({"00ee":function(e,t,o){var n={};n[o("b622")("toStringTag")]="z",e.exports="[object z]"===String(n)},"0366":function(e,t,o){var n=o("1c0b");e.exports=function(e,t,o){if(n(e),void 0===t)return e;switch(o){case 0:return function(){return e.call(t)};case 1:return function(o){return e.call(t,o)};case 2:return function(o,n){return e.call(t,o,n)};case 3:return function(o,n,i){return e.call(t,o,n,i)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,o){var n=o("fc6a"),i=o("241c").f,a={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return r&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(t){return r.slice()}}(e):i(n(e))}},"06cf":function(e,t,o){var n=o("83ab"),i=o("d1e7"),a=o("5c6c"),r=o("fc6a"),l=o("c04e"),s=o("5135"),c=o("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=r(e),t=l(t,!0),c)try{return d(e,t)}catch(o){}if(s(e,t))return a(!i.f.call(e,t),e[t])}},"0cfb":function(e,t,o){var n=o("83ab"),i=o("d039"),a=o("cc12");e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"13d5":function(e,t,o){var n=o("23e7"),i=o("d58f").left,a=o("a640"),r=o("ae40"),l=a("reduce"),s=r("reduce",{1:0});n({target:"Array",proto:!0,forced:!l||!s},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(e,t,o){var n=o("c6b6"),i=o("9263");e.exports=function(e,t){var o=e.exec;if("function"==typeof o){var a=o.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"159b":function(e,t,o){var n=o("da84"),i=o("fdbc"),a=o("17c2"),r=o("9112");for(var l in i){var s=n[l],c=s&&s.prototype;if(c&&c.forEach!==a)try{r(c,"forEach",a)}catch(d){c.forEach=a}}},"17c2":function(e,t,o){var n=o("b727").forEach,i=o("a640"),a=o("ae40"),r=i("forEach"),l=a("forEach");e.exports=r&&l?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,t,o){var n=o("d066");e.exports=n("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,o){var n=o("b622")("iterator"),i=!1;try{var a=0,r={next:function(){return{done:!!a++}},return:function(){i=!0}};r[n]=function(){return this},Array.from(r,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!i)return!1;var o=!1;try{var a={};a[n]=function(){return{next:function(){return{done:o=!0}}}},e(a)}catch(l){}return o}},"1d80":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,o){var n=o("d039"),i=o("b622"),a=o("2d00"),r=i("species");e.exports=function(e){return a>=51||!n((function(){var t=[];return(t.constructor={})[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"23cb":function(e,t,o){var n=o("a691"),i=Math.max,a=Math.min;e.exports=function(e,t){var o=n(e);return o<0?i(o+t,0):a(o,t)}},"23e7":function(e,t,o){var n=o("da84"),i=o("06cf").f,a=o("9112"),r=o("6eeb"),l=o("ce4e"),s=o("e893"),c=o("94ca");e.exports=function(e,t){var o,d,u,p,m,b=e.target,g=e.global,h=e.stat;if(o=g?n:h?n[b]||l(b,{}):(n[b]||{}).prototype)for(d in t){if(p=t[d],u=e.noTargetGet?(m=i(o,d))&&m.value:o[d],!c(g?d:b+(h?".":"#")+d,e.forced)&&void 0!==u){if(typeof p==typeof u)continue;s(p,u)}(e.sham||u&&u.sham)&&a(p,"sham",!0),r(o,d,p,e)}}},"241c":function(e,t,o){var n=o("ca84"),i=o("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},"25f0":function(e,t,o){var n=o("6eeb"),i=o("825a"),a=o("d039"),r=o("ad6d"),l="toString",s=RegExp.prototype,c=s[l],d=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=l;(d||u)&&n(RegExp.prototype,l,(function(){var e=i(this),t=String(e.source),o=e.flags;return"/"+t+"/"+String(void 0===o&&e instanceof RegExp&&!("flags"in s)?r.call(e):o)}),{unsafe:!0})},"2ca0":function(e,t,o){var n,i=o("23e7"),a=o("06cf").f,r=o("50c4"),l=o("5a34"),s=o("1d80"),c=o("ab13"),d=o("c430"),u="".startsWith,p=Math.min,m=c("startsWith");i({target:"String",proto:!0,forced:!(!d&&!m&&(n=a(String.prototype,"startsWith"),n&&!n.writable)||m)},{startsWith:function(e){var t=String(s(this));l(e);var o=r(p(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return u?u.call(t,n,o):t.slice(o,o+n.length)===n}})},"2d00":function(e,t,o){var n,i,a=o("da84"),r=o("342f"),l=a.process,s=l&&l.versions,c=s&&s.v8;c?i=(n=c.split("."))[0]+n[1]:r&&(!(n=r.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=r.match(/Chrome\/(\d+)/))&&(i=n[1]),e.exports=i&&+i},"342f":function(e,t,o){var n=o("d066");e.exports=n("navigator","userAgent")||""},"35a1":function(e,t,o){var n=o("f5df"),i=o("3f8c"),a=o("b622")("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[n(e)]}},"37e8":function(e,t,o){var n=o("83ab"),i=o("9bf2"),a=o("825a"),r=o("df75");e.exports=n?Object.defineProperties:function(e,t){a(e);for(var o,n=r(t),l=n.length,s=0;l>s;)i.f(e,o=n[s++],t[o]);return e}},"3bbe":function(e,t,o){var n=o("861d");e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,o){var n=o("6547").charAt,i=o("69f3"),a=o("7dd0"),r="String Iterator",l=i.set,s=i.getterFor(r);a(String,"String",(function(e){l(this,{type:r,string:String(e),index:0})}),(function(){var e,t=s(this),o=t.string,i=t.index;return i>=o.length?{value:void 0,done:!0}:(e=n(o,i),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},4160:function(e,t,o){var n=o("23e7"),i=o("17c2");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"428f":function(e,t,o){var n=o("da84");e.exports=n},"44ad":function(e,t,o){var n=o("d039"),i=o("c6b6"),a="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},"44d2":function(e,t,o){var n=o("b622"),i=o("7c73"),a=o("9bf2"),r=n("unscopables"),l=Array.prototype;null==l[r]&&a.f(l,r,{configurable:!0,value:i(null)}),e.exports=function(e){l[r][e]=!0}},"44e7":function(e,t,o){var n=o("861d"),i=o("c6b6"),a=o("b622")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},4930:function(e,t,o){var n=o("d039");e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},"4d64":function(e,t,o){var n=o("fc6a"),i=o("50c4"),a=o("23cb"),r=function(e){return function(t,o,r){var l,s=n(t),c=i(s.length),d=a(r,c);if(e&&o!=o){for(;c>d;)if((l=s[d++])!=l)return!0}else for(;c>d;d++)if((e||d in s)&&s[d]===o)return e||d||0;return!e&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},"4de4":function(e,t,o){var n=o("23e7"),i=o("b727").filter,a=o("1dde"),r=o("ae40"),l=a("filter"),s=r("filter");n({target:"Array",proto:!0,forced:!l||!s},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,o){var n=o("0366"),i=o("7b0b"),a=o("9bdd"),r=o("e95a"),l=o("50c4"),s=o("8418"),c=o("35a1");e.exports=function(e){var t,o,d,u,p,m,b=i(e),g="function"==typeof this?this:Array,h=arguments.length,f=h>1?arguments[1]:void 0,v=void 0!==f,y=c(b),x=0;if(v&&(f=n(f,h>2?arguments[2]:void 0,2)),null==y||g==Array&&r(y))for(o=new g(t=l(b.length));t>x;x++)m=v?f(b[x],x):b[x],s(o,x,m);else for(p=(u=y.call(b)).next,o=new g;!(d=p.call(u)).done;x++)m=v?a(u,f,[d.value,x],!0):d.value,s(o,x,m);return o.length=x,o}},"4fad":function(e,t,o){var n=o("23e7"),i=o("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},"50c4":function(e,t,o){var n=o("a691"),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},5135:function(e,t){var o={}.hasOwnProperty;e.exports=function(e,t){return o.call(e,t)}},5319:function(e,t,o){var n=o("d784"),i=o("825a"),a=o("7b0b"),r=o("50c4"),l=o("a691"),s=o("1d80"),c=o("8aa5"),d=o("14c3"),u=Math.max,p=Math.min,m=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(e,t,o,n){var h=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=n.REPLACE_KEEPS_$0,v=h?"$":"$0";return[function(o,n){var i=s(this),a=null==o?void 0:o[e];return void 0!==a?a.call(o,i,n):t.call(String(i),o,n)},function(e,n){if(!h&&f||"string"==typeof n&&-1===n.indexOf(v)){var a=o(t,e,this,n);if(a.done)return a.value}var s=i(e),m=String(this),b="function"==typeof n;b||(n=String(n));var g=s.global;if(g){var x=s.unicode;s.lastIndex=0}for(var T=[];;){var w=d(s,m);if(null===w)break;if(T.push(w),!g)break;""===String(w[0])&&(s.lastIndex=c(m,r(s.lastIndex),x))}for(var k,E="",S=0,B=0;B<T.length;B++){w=T[B];for(var C=String(w[0]),V=u(p(l(w.index),m.length),0),N=[],I=1;I<w.length;I++)N.push(void 0===(k=w[I])?k:String(k));var D=w.groups;if(b){var L=[C].concat(N,V,m);void 0!==D&&L.push(D);var z=String(n.apply(void 0,L))}else z=y(C,m,V,N,D,n);V>=S&&(E+=m.slice(S,V)+z,S=V+C.length)}return E+m.slice(S)}];function y(e,o,n,i,r,l){var s=n+e.length,c=i.length,d=g;return void 0!==r&&(r=a(r),d=b),t.call(l,d,(function(t,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return o.slice(0,n);case"'":return o.slice(s);case"<":l=r[a.slice(1,-1)];break;default:var d=+a;if(0===d)return t;if(d>c){var u=m(d/10);return 0===u?t:u<=c?void 0===i[u-1]?a.charAt(1):i[u-1]+a.charAt(1):t}l=i[d-1]}return void 0===l?"":l}))}}))},5692:function(e,t,o){var n=o("c430"),i=o("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,o){var n=o("d066"),i=o("241c"),a=o("7418"),r=o("825a");e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(r(e)),o=a.f;return o?t.concat(o(e)):t}},"5a34":function(e,t,o){var n=o("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5db7":function(e,t,o){var n=o("23e7"),i=o("a2bf"),a=o("7b0b"),r=o("50c4"),l=o("1c0b"),s=o("65f0");n({target:"Array",proto:!0},{flatMap:function(e){var t,o=a(this),n=r(o.length);return l(e),(t=s(o,0)).length=i(t,o,o,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},6547:function(e,t,o){var n=o("a691"),i=o("1d80"),a=function(e){return function(t,o){var a,r,l=String(i(t)),s=n(o),c=l.length;return s<0||s>=c?e?"":void 0:(a=l.charCodeAt(s))<55296||a>56319||s+1===c||(r=l.charCodeAt(s+1))<56320||r>57343?e?l.charAt(s):a:e?l.slice(s,s+2):r-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},"65f0":function(e,t,o){var n=o("861d"),i=o("e8b5"),a=o("b622")("species");e.exports=function(e,t){var o;return i(e)&&("function"!=typeof(o=e.constructor)||o!==Array&&!i(o.prototype)?n(o)&&null===(o=o[a])&&(o=void 0):o=void 0),new(void 0===o?Array:o)(0===t?0:t)}},"69f3":function(e,t,o){var n,i,a,r=o("7f9a"),l=o("da84"),s=o("861d"),c=o("9112"),d=o("5135"),u=o("f772"),p=o("d012"),m=l.WeakMap;if(r){var b=new m,g=b.get,h=b.has,f=b.set;n=function(e,t){return f.call(b,e,t),t},i=function(e){return g.call(b,e)||{}},a=function(e){return h.call(b,e)}}else{var v=u("state");p[v]=!0,n=function(e,t){return c(e,v,t),t},i=function(e){return d(e,v)?e[v]:{}},a=function(e){return d(e,v)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var o;if(!s(t)||(o=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return o}}}},"6eeb":function(e,t,o){var n=o("da84"),i=o("9112"),a=o("5135"),r=o("ce4e"),l=o("8925"),s=o("69f3"),c=s.get,d=s.enforce,u=String(String).split("String");(e.exports=function(e,t,o,l){var s=!!l&&!!l.unsafe,c=!!l&&!!l.enumerable,p=!!l&&!!l.noTargetGet;"function"==typeof o&&("string"!=typeof t||a(o,"name")||i(o,"name",t),d(o).source=u.join("string"==typeof t?t:"")),e!==n?(s?!p&&e[t]&&(c=!0):delete e[t],c?e[t]=o:i(e,t,o)):c?e[t]=o:r(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||l(this)}))},"6f53":function(e,t,o){var n=o("83ab"),i=o("df75"),a=o("fc6a"),r=o("d1e7").f,l=function(e){return function(t){for(var o,l=a(t),s=i(l),c=s.length,d=0,u=[];c>d;)o=s[d++],n&&!r.call(l,o)||u.push(e?[o,l[o]]:l[o]);return u}};e.exports={entries:l(!0),values:l(!1)}},"73d9":function(e,t,o){o("44d2")("flatMap")},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,o){var n=o("428f"),i=o("5135"),a=o("e538"),r=o("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||r(t,e,{value:a.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,o){var n=o("1d80");e.exports=function(e){return Object(n(e))}},"7c73":function(e,t,o){var n,i=o("825a"),a=o("37e8"),r=o("7839"),l=o("d012"),s=o("1be4"),c=o("cc12"),d=o("f772"),u="prototype",p="script",m=d("IE_PROTO"),b=function(){},g=function(e){return"<"+p+">"+e+"</"+p+">"},h=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(a){}var e,t,o;h=n?function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):(t=c("iframe"),o="java"+p+":",t.style.display="none",s.appendChild(t),t.src=String(o),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F);for(var i=r.length;i--;)delete h[u][r[i]];return h()};l[m]=!0,e.exports=Object.create||function(e,t){var o;return null!==e?(b[u]=i(e),o=new b,b[u]=null,o[m]=e):o=h(),void 0===t?o:a(o,t)}},"7dd0":function(e,t,o){var n=o("23e7"),i=o("9ed3"),a=o("e163"),r=o("d2bb"),l=o("d44e"),s=o("9112"),c=o("6eeb"),d=o("b622"),u=o("c430"),p=o("3f8c"),m=o("ae93"),b=m.IteratorPrototype,g=m.BUGGY_SAFARI_ITERATORS,h=d("iterator"),f="keys",v="values",y="entries",x=function(){return this};e.exports=function(e,t,o,d,m,T,w){i(o,t,d);var k,E,S,B=function(e){if(e===m&&D)return D;if(!g&&e in N)return N[e];switch(e){case f:case v:case y:return function(){return new o(this,e)}}return function(){return new o(this)}},C=t+" Iterator",V=!1,N=e.prototype,I=N[h]||N["@@iterator"]||m&&N[m],D=!g&&I||B(m),L="Array"==t&&N.entries||I;if(L&&(k=a(L.call(new e)),b!==Object.prototype&&k.next&&(u||a(k)===b||(r?r(k,b):"function"!=typeof k[h]&&s(k,h,x)),l(k,C,!0,!0),u&&(p[C]=x))),m==v&&I&&I.name!==v&&(V=!0,D=function(){return I.call(this)}),u&&!w||N[h]===D||s(N,h,D),p[t]=D,m)if(E={values:B(v),keys:T?D:B(f),entries:B(y)},w)for(S in E)(g||V||!(S in N))&&c(N,S,E[S]);else n({target:t,proto:!0,forced:g||V},E);return E}},"7f9a":function(e,t,o){var n=o("da84"),i=o("8925"),a=n.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},"825a":function(e,t,o){var n=o("861d");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,o){var n=o("d039");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,o){var n=o("c04e"),i=o("9bf2"),a=o("5c6c");e.exports=function(e,t,o){var r=n(t);r in e?i.f(e,r,a(0,o)):e[r]=o}},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,o){var n,i,a;"undefined"!=typeof self&&self,i=[],void 0===(a="function"==typeof(n=function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var o,n,i,a=/@([^@]*):(\d+):(\d+)\s*$/gi,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(p.stack)||a.exec(p.stack),l=r&&r[1]||!1,s=r&&r[2]||!1,c=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");l===c&&(o=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=o.replace(n,"$1").trim());for(var u=0;u<d.length;u++){if("interactive"===d[u].readyState)return d[u];if(d[u].src===l)return d[u];if(l===c&&d[u].innerHTML&&d[u].innerHTML.trim()===i)return d[u]}return null}}return e})?n.apply(t,i):n)||(e.exports=a)},8925:function(e,t,o){var n=o("c6cd"),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),e.exports=n.inspectSource},"8aa5":function(e,t,o){var n=o("6547").charAt;e.exports=function(e,t,o){return t+(o?n(e,t).length:1)}},"8bbf":function(t,o){t.exports=e},"90e3":function(e,t){var o=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++o+n).toString(36)}},9112:function(e,t,o){var n=o("83ab"),i=o("9bf2"),a=o("5c6c");e.exports=n?function(e,t,o){return i.f(e,t,a(1,o))}:function(e,t,o){return e[t]=o,e}},9263:function(e,t,o){var n,i,a=o("ad6d"),r=o("9f7f"),l=RegExp.prototype.exec,s=String.prototype.replace,c=l,d=(n=/a/,i=/b*/g,l.call(n,"a"),l.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(d||p||u)&&(c=function(e){var t,o,n,i,r=this,c=u&&r.sticky,m=a.call(r),b=r.source,g=0,h=e;return c&&(-1===(m=m.replace("y","")).indexOf("g")&&(m+="g"),h=String(e).slice(r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&"\n"!==e[r.lastIndex-1])&&(b="(?: "+b+")",h=" "+h,g++),o=new RegExp("^(?:"+b+")",m)),p&&(o=new RegExp("^"+b+"$(?!\\s)",m)),d&&(t=r.lastIndex),n=l.call(c?o:r,h),c?n?(n.input=n.input.slice(g),n[0]=n[0].slice(g),n.index=r.lastIndex,r.lastIndex+=n[0].length):r.lastIndex=0:d&&n&&(r.lastIndex=r.global?n.index+n[0].length:t),p&&n&&n.length>1&&s.call(n[0],o,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),e.exports=c},"94ca":function(e,t,o){var n=o("d039"),i=/#|\.prototype\./,a=function(e,t){var o=l[r(e)];return o==c||o!=s&&("function"==typeof t?n(t):!!t)},r=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=a.data={},s=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},"99af":function(e,t,o){var n=o("23e7"),i=o("d039"),a=o("e8b5"),r=o("861d"),l=o("7b0b"),s=o("50c4"),c=o("8418"),d=o("65f0"),u=o("1dde"),p=o("b622"),m=o("2d00"),b=p("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",f=m>=51||!i((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),v=u("concat"),y=function(e){if(!r(e))return!1;var t=e[b];return void 0!==t?!!t:a(e)};n({target:"Array",proto:!0,forced:!f||!v},{concat:function(e){var t,o,n,i,a,r=l(this),u=d(r,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(y(a=-1===t?r:arguments[t])){if(p+(i=s(a.length))>g)throw TypeError(h);for(o=0;o<i;o++,p++)o in a&&c(u,p,a[o])}else{if(p>=g)throw TypeError(h);c(u,p++,a)}return u.length=p,u}})},"9bdd":function(e,t,o){var n=o("825a");e.exports=function(e,t,o,i){try{return i?t(n(o)[0],o[1]):t(o)}catch(r){var a=e.return;throw void 0!==a&&n(a.call(e)),r}}},"9bf2":function(e,t,o){var n=o("83ab"),i=o("0cfb"),a=o("825a"),r=o("c04e"),l=Object.defineProperty;t.f=n?l:function(e,t,o){if(a(e),t=r(t,!0),a(o),i)try{return l(e,t,o)}catch(n){}if("get"in o||"set"in o)throw TypeError("Accessors not supported");return"value"in o&&(e[t]=o.value),e}},"9ed3":function(e,t,o){var n=o("ae93").IteratorPrototype,i=o("7c73"),a=o("5c6c"),r=o("d44e"),l=o("3f8c"),s=function(){return this};e.exports=function(e,t,o){var c=t+" Iterator";return e.prototype=i(n,{next:a(1,o)}),r(e,c,!1,!0),l[c]=s,e}},"9f7f":function(e,t,o){var n=o("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a2bf:function(e,t,o){var n=o("e8b5"),i=o("50c4"),a=o("0366"),r=function(e,t,o,l,s,c,d,u){for(var p,m=s,b=0,g=!!d&&a(d,u,3);b<l;){if(b in o){if(p=g?g(o[b],b,t):o[b],c>0&&n(p))m=r(e,t,p,i(p.length),m,c-1)-1;else{if(m>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[m]=p}m++}b++}return m};e.exports=r},a352:function(e,o){e.exports=t},a434:function(e,t,o){var n=o("23e7"),i=o("23cb"),a=o("a691"),r=o("50c4"),l=o("7b0b"),s=o("65f0"),c=o("8418"),d=o("1dde"),u=o("ae40"),p=d("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,g=Math.min,h=9007199254740991,f="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p||!m},{splice:function(e,t){var o,n,d,u,p,m,v=l(this),y=r(v.length),x=i(e,y),T=arguments.length;if(0===T?o=n=0:1===T?(o=0,n=y-x):(o=T-2,n=g(b(a(t),0),y-x)),y+o-n>h)throw TypeError(f);for(d=s(v,n),u=0;u<n;u++)(p=x+u)in v&&c(d,u,v[p]);if(d.length=n,o<n){for(u=x;u<y-n;u++)m=u+o,(p=u+n)in v?v[m]=v[p]:delete v[m];for(u=y;u>y-n+o;u--)delete v[u-1]}else if(o>n)for(u=y-n;u>x;u--)m=u+o-1,(p=u+n-1)in v?v[m]=v[p]:delete v[m];for(u=0;u<o;u++)v[u+x]=arguments[u+2];return v.length=y-n+o,d}})},a4d3:function(e,t,o){var n=o("23e7"),i=o("da84"),a=o("d066"),r=o("c430"),l=o("83ab"),s=o("4930"),c=o("fdbf"),d=o("d039"),u=o("5135"),p=o("e8b5"),m=o("861d"),b=o("825a"),g=o("7b0b"),h=o("fc6a"),f=o("c04e"),v=o("5c6c"),y=o("7c73"),x=o("df75"),T=o("241c"),w=o("057f"),k=o("7418"),E=o("06cf"),S=o("9bf2"),B=o("d1e7"),C=o("9112"),V=o("6eeb"),N=o("5692"),I=o("f772"),D=o("d012"),L=o("90e3"),z=o("b622"),M=o("e538"),A=o("746f"),U=o("d44e"),O=o("69f3"),_=o("b727").forEach,P=I("hidden"),j="Symbol",G="prototype",R=z("toPrimitive"),F=O.set,$=O.getterFor(j),H=Object[G],Q=i.Symbol,K=a("JSON","stringify"),Y=E.f,W=S.f,q=w.f,J=B.f,Z=N("symbols"),X=N("op-symbols"),ee=N("string-to-symbol-registry"),te=N("symbol-to-string-registry"),oe=N("wks"),ne=i.QObject,ie=!ne||!ne[G]||!ne[G].findChild,ae=l&&d((function(){return 7!=y(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(e,t,o){var n=Y(H,t);n&&delete H[t],W(e,t,o),n&&e!==H&&W(H,t,n)}:W,re=function(e,t){var o=Z[e]=y(Q[G]);return F(o,{type:j,tag:e,description:t}),l||(o.description=t),o},le=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Q},se=function(e,t,o){e===H&&se(X,t,o),b(e);var n=f(t,!0);return b(o),u(Z,n)?(o.enumerable?(u(e,P)&&e[P][n]&&(e[P][n]=!1),o=y(o,{enumerable:v(0,!1)})):(u(e,P)||W(e,P,v(1,{})),e[P][n]=!0),ae(e,n,o)):W(e,n,o)},ce=function(e,t){b(e);var o=h(t),n=x(o).concat(me(o));return _(n,(function(t){l&&!de.call(o,t)||se(e,t,o[t])})),e},de=function(e){var t=f(e,!0),o=J.call(this,t);return!(this===H&&u(Z,t)&&!u(X,t))&&(!(o||!u(this,t)||!u(Z,t)||u(this,P)&&this[P][t])||o)},ue=function(e,t){var o=h(e),n=f(t,!0);if(o!==H||!u(Z,n)||u(X,n)){var i=Y(o,n);return!i||!u(Z,n)||u(o,P)&&o[P][n]||(i.enumerable=!0),i}},pe=function(e){var t=q(h(e)),o=[];return _(t,(function(e){u(Z,e)||u(D,e)||o.push(e)})),o},me=function(e){var t=e===H,o=q(t?X:h(e)),n=[];return _(o,(function(e){!u(Z,e)||t&&!u(H,e)||n.push(Z[e])})),n};s||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),o=function(e){this===H&&o.call(X,e),u(this,P)&&u(this[P],t)&&(this[P][t]=!1),ae(this,t,v(1,e))};return l&&ie&&ae(H,t,{configurable:!0,set:o}),re(t,e)},V(Q[G],"toString",(function(){return $(this).tag})),V(Q,"withoutSetter",(function(e){return re(L(e),e)})),B.f=de,S.f=se,E.f=ue,T.f=w.f=pe,k.f=me,M.f=function(e){return re(z(e),e)},l&&(W(Q[G],"description",{configurable:!0,get:function(){return $(this).description}}),r||V(H,"propertyIsEnumerable",de,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Q}),_(x(oe),(function(e){A(e)})),n({target:j,stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var o=Q(t);return ee[t]=o,te[o]=t,o},keyFor:function(e){if(!le(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),n({target:"Object",stat:!0,forced:!s,sham:!l},{create:function(e,t){return void 0===t?y(e):ce(y(e),t)},defineProperty:se,defineProperties:ce,getOwnPropertyDescriptor:ue}),n({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pe,getOwnPropertySymbols:me}),n({target:"Object",stat:!0,forced:d((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(g(e))}}),K&&n({target:"JSON",stat:!0,forced:!s||d((function(){var e=Q();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}))},{stringify:function(e,t,o){for(var n,i=[e],a=1;arguments.length>a;)i.push(arguments[a++]);if(n=t,(m(t)||void 0!==e)&&!le(e))return p(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!le(t))return t}),i[1]=t,K.apply(null,i)}}),Q[G][R]||C(Q[G],R,Q[G].valueOf),U(Q,j),D[P]=!0},a630:function(e,t,o){var n=o("23e7"),i=o("4df4");n({target:"Array",stat:!0,forced:!o("1c7e")((function(e){Array.from(e)}))},{from:i})},a640:function(e,t,o){var n=o("d039");e.exports=function(e,t){var o=[][e];return!!o&&n((function(){o.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var o=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:o)(e)}},ab13:function(e,t,o){var n=o("b622")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[n]=!1,"/./"[e](t)}catch(i){}}return!1}},ac1f:function(e,t,o){var n=o("23e7"),i=o("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,o){var n=o("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,o){var n=o("83ab"),i=o("d039"),a=o("5135"),r=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(a(l,e))return l[e];t||(t={});var o=[][e],c=!!a(t,"ACCESSORS")&&t.ACCESSORS,d=a(t,0)?t[0]:s,u=a(t,1)?t[1]:void 0;return l[e]=!!o&&!i((function(){if(c&&!n)return!0;var e={length:-1};c?r(e,1,{enumerable:!0,get:s}):e[1]=1,o.call(e,d,u)}))}},ae93:function(e,t,o){var n,i,a,r=o("e163"),l=o("9112"),s=o("5135"),c=o("b622"),d=o("c430"),u=c("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(i=r(r(a)))!==Object.prototype&&(n=i):p=!0),null==n&&(n={}),d||s(n,u)||l(n,u,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},b041:function(e,t,o){var n=o("00ee"),i=o("f5df");e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,o){var n=o("83ab"),i=o("9bf2").f,a=Function.prototype,r=a.toString,l=/^\s*function ([^ (]*)/,s="name";n&&!(s in a)&&i(a,s,{configurable:!0,get:function(){try{return r.call(this).match(l)[1]}catch(e){return""}}})},b622:function(e,t,o){var n=o("da84"),i=o("5692"),a=o("5135"),r=o("90e3"),l=o("4930"),s=o("fdbf"),c=i("wks"),d=n.Symbol,u=s?d:d&&d.withoutSetter||r;e.exports=function(e){return a(c,e)||(l&&a(d,e)?c[e]=d[e]:c[e]=u("Symbol."+e)),c[e]}},b64b:function(e,t,o){var n=o("23e7"),i=o("7b0b"),a=o("df75");n({target:"Object",stat:!0,forced:o("d039")((function(){a(1)}))},{keys:function(e){return a(i(e))}})},b727:function(e,t,o){var n=o("0366"),i=o("44ad"),a=o("7b0b"),r=o("50c4"),l=o("65f0"),s=[].push,c=function(e){var t=1==e,o=2==e,c=3==e,d=4==e,u=6==e,p=5==e||u;return function(m,b,g,h){for(var f,v,y=a(m),x=i(y),T=n(b,g,3),w=r(x.length),k=0,E=h||l,S=t?E(m,w):o?E(m,0):void 0;w>k;k++)if((p||k in x)&&(v=T(f=x[k],k,y),e))if(t)S[k]=v;else if(v)switch(e){case 3:return!0;case 5:return f;case 6:return k;case 2:s.call(S,f)}else if(d)return!1;return u?-1:c||d?d:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c04e:function(e,t,o){var n=o("861d");e.exports=function(e,t){if(!n(e))return e;var o,i;if(t&&"function"==typeof(o=e.toString)&&!n(i=o.call(e)))return i;if("function"==typeof(o=e.valueOf)&&!n(i=o.call(e)))return i;if(!t&&"function"==typeof(o=e.toString)&&!n(i=o.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var o={}.toString;e.exports=function(e){return o.call(e).slice(8,-1)}},c6cd:function(e,t,o){var n=o("da84"),i=o("ce4e"),a="__core-js_shared__",r=n[a]||i(a,{});e.exports=r},c740:function(e,t,o){var n=o("23e7"),i=o("b727").findIndex,a=o("44d2"),r=o("ae40"),l="findIndex",s=!0,c=r(l);l in[]&&Array(1)[l]((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!c},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(l)},c8ba:function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(n){"object"==typeof window&&(o=window)}e.exports=o},c975:function(e,t,o){var n=o("23e7"),i=o("4d64").indexOf,a=o("a640"),r=o("ae40"),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0,c=a("indexOf"),d=r("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:s||!c||!d},{indexOf:function(e){return s?l.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,o){var n=o("5135"),i=o("fc6a"),a=o("4d64").indexOf,r=o("d012");e.exports=function(e,t){var o,l=i(e),s=0,c=[];for(o in l)!n(r,o)&&n(l,o)&&c.push(o);for(;t.length>s;)n(l,o=t[s++])&&(~a(c,o)||c.push(o));return c}},caad:function(e,t,o){var n=o("23e7"),i=o("4d64").includes,a=o("44d2");n({target:"Array",proto:!0,forced:!o("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cc12:function(e,t,o){var n=o("da84"),i=o("861d"),a=n.document,r=i(a)&&i(a.createElement);e.exports=function(e){return r?a.createElement(e):{}}},ce4e:function(e,t,o){var n=o("da84"),i=o("9112");e.exports=function(e,t){try{i(n,e,t)}catch(o){n[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,o){var n=o("428f"),i=o("da84"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},d1e7:function(e,t,o){var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!n.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},d28b:function(e,t,o){o("746f")("iterator")},d2bb:function(e,t,o){var n=o("825a"),i=o("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,o={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(o,[]),t=o instanceof Array}catch(a){}return function(o,a){return n(o),i(a),t?e.call(o,a):o.__proto__=a,o}}():void 0)},d3b7:function(e,t,o){var n=o("00ee"),i=o("6eeb"),a=o("b041");n||i(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(e,t,o){var n=o("9bf2").f,i=o("5135"),a=o("b622")("toStringTag");e.exports=function(e,t,o){e&&!i(e=o?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},d58f:function(e,t,o){var n=o("1c0b"),i=o("7b0b"),a=o("44ad"),r=o("50c4"),l=function(e){return function(t,o,l,s){n(o);var c=i(t),d=a(c),u=r(c.length),p=e?u-1:0,m=e?-1:1;if(l<2)for(;;){if(p in d){s=d[p],p+=m;break}if(p+=m,e?p<0:u<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:u>p;p+=m)p in d&&(s=o(s,d[p],p,c));return s}};e.exports={left:l(!1),right:l(!0)}},d784:function(e,t,o){o("ac1f");var n=o("6eeb"),i=o("d039"),a=o("b622"),r=o("9263"),l=o("9112"),s=a("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d="$0"==="a".replace(/./,"$0"),u=a("replace"),p=!!/./[u]&&""===/./[u]("a","$0"),m=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var o="ab".split(e);return 2!==o.length||"a"!==o[0]||"b"!==o[1]}));e.exports=function(e,t,o,u){var b=a(e),g=!i((function(){var t={};return t[b]=function(){return 7},7!=""[e](t)})),h=g&&!i((function(){var t=!1,o=/a/;return"split"===e&&((o={}).constructor={},o.constructor[s]=function(){return o},o.flags="",o[b]=/./[b]),o.exec=function(){return t=!0,null},o[b](""),!t}));if(!g||!h||"replace"===e&&(!c||!d||p)||"split"===e&&!m){var f=/./[b],v=o(b,""[e],(function(e,t,o,n,i){return t.exec===r?g&&!i?{done:!0,value:f.call(t,o,n)}:{done:!0,value:e.call(o,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),y=v[0],x=v[1];n(String.prototype,e,y),n(RegExp.prototype,b,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}u&&l(RegExp.prototype[b],"sham",!0)}},d81d:function(e,t,o){var n=o("23e7"),i=o("b727").map,a=o("1dde"),r=o("ae40"),l=a("map"),s=r("map");n({target:"Array",proto:!0,forced:!l||!s},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,o){(function(t){var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof t&&t)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(e,t,o){var n=o("23e7"),i=o("83ab"),a=o("56ef"),r=o("fc6a"),l=o("06cf"),s=o("8418");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,o,n=r(e),i=l.f,c=a(n),d={},u=0;c.length>u;)void 0!==(o=i(n,t=c[u++]))&&s(d,t,o);return d}})},dbf1:function(e,t,o){(function(e){o.d(t,"a",(function(){return n}));var n="undefined"!=typeof window?window.console:e.console}).call(this,o("c8ba"))},ddb0:function(e,t,o){var n=o("da84"),i=o("fdbc"),a=o("e260"),r=o("9112"),l=o("b622"),s=l("iterator"),c=l("toStringTag"),d=a.values;for(var u in i){var p=n[u],m=p&&p.prototype;if(m){if(m[s]!==d)try{r(m,s,d)}catch(g){m[s]=d}if(m[c]||r(m,c,u),i[u])for(var b in a)if(m[b]!==a[b])try{r(m,b,a[b])}catch(g){m[b]=a[b]}}}},df75:function(e,t,o){var n=o("ca84"),i=o("7839");e.exports=Object.keys||function(e){return n(e,i)}},e01a:function(e,t,o){var n=o("23e7"),i=o("83ab"),a=o("da84"),r=o("5135"),l=o("861d"),s=o("9bf2").f,c=o("e893"),d=a.Symbol;if(i&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new d(e):void 0===e?d():d(e);return""===e&&(u[t]=!0),t};c(p,d);var m=p.prototype=d.prototype;m.constructor=p;var b=m.toString,g="Symbol(test)"==String(d("test")),h=/^Symbol\((.*)\)[^)]+$/;s(m,"description",{configurable:!0,get:function(){var e=l(this)?this.valueOf():this,t=b.call(e);if(r(u,e))return"";var o=g?t.slice(7,-1):t.replace(h,"$1");return""===o?void 0:o}}),n({global:!0,forced:!0},{Symbol:p})}},e163:function(e,t,o){var n=o("5135"),i=o("7b0b"),a=o("f772"),r=o("e177"),l=a("IE_PROTO"),s=Object.prototype;e.exports=r?Object.getPrototypeOf:function(e){return e=i(e),n(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},e177:function(e,t,o){var n=o("d039");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,o){var n=o("fc6a"),i=o("44d2"),a=o("3f8c"),r=o("69f3"),l=o("7dd0"),s="Array Iterator",c=r.set,d=r.getterFor(s);e.exports=l(Array,"Array",(function(e,t){c(this,{type:s,target:n(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,o=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==o?{value:n,done:!1}:"values"==o?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},e439:function(e,t,o){var n=o("23e7"),i=o("d039"),a=o("fc6a"),r=o("06cf").f,l=o("83ab"),s=i((function(){r(1)}));n({target:"Object",stat:!0,forced:!l||s,sham:!l},{getOwnPropertyDescriptor:function(e,t){return r(a(e),t)}})},e538:function(e,t,o){var n=o("b622");t.f=n},e893:function(e,t,o){var n=o("5135"),i=o("56ef"),a=o("06cf"),r=o("9bf2");e.exports=function(e,t){for(var o=i(t),l=r.f,s=a.f,c=0;c<o.length;c++){var d=o[c];n(e,d)||l(e,d,s(t,d))}}},e8b5:function(e,t,o){var n=o("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},e95a:function(e,t,o){var n=o("b622"),i=o("3f8c"),a=n("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||r[a]===e)}},f5df:function(e,t,o){var n=o("00ee"),i=o("c6b6"),a=o("b622")("toStringTag"),r="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,o,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=function(e,t){try{return e[t]}catch(o){}}(t=Object(e),a))?o:r?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},f772:function(e,t,o){var n=o("5692"),i=o("90e3"),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},fb15:function(e,t,o){if(o.r(t),"undefined"!=typeof window){var n=window.document.currentScript,i=o("8875");n=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var a=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(o.p=a[1])}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function d(e,t){if(e){if("string"==typeof e)return c(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var o=[],n=!0,i=!1,a=void 0;try{for(var r,l=e[Symbol.iterator]();!(n=(r=l.next()).done)&&(o.push(r.value),!t||o.length!==t);n=!0);}catch(s){i=!0,a=s}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}return o}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b"),o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0"),o("a630"),o("fb6a"),o("b0c0"),o("25f0");var m=o("a352"),b=o.n(m);function g(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function h(e,t,o){var n=0===o?e.children[0]:e.children[o-1].nextSibling;e.insertBefore(t,n)}var f=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");var v,y,x=/-(\w)/g,T=(v=function(e){return e.replace(x,(function(e,t){return t.toUpperCase()}))},y=Object.create(null),function(e){return y[e]||(y[e]=v(e))});o("5db7"),o("73d9");var w=["Start","Add","Remove","Update","End"],k=["Choose","Unchoose","Sort","Filter","Clone"],E=["Move"],S=[E,w,k].flatMap((function(e){return e})).map((function(e){return"on".concat(e)})),B={manage:E,manageAndEmit:w,emit:k};o("caad"),o("2ca0");var C=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function V(e){return["id","class"].includes(e)||e.startsWith("data-")}function N(e){return e.reduce((function(e,t){var o=u(t,2),n=o[0],i=o[1];return e[n]=i,e}),{})}function I(e){return Object.entries(e).filter((function(e){var t=u(e,2),o=t[0];return t[1],!V(o)})).map((function(e){var t=u(e,2),o=t[0],n=t[1];return[T(o),n]})).filter((function(e){var t,o=u(e,2),n=o[0];return o[1],t=n,!(-1!==S.indexOf(t))}))}function D(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}o("c740");var L=function(e){return e.el},z=function(e){return e.__draggable_context},M=function(){function e(t){var o=t.nodes,n=o.header,i=o.default,a=o.footer,r=t.root,l=t.realList;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultNodes=i,this.children=[].concat(p(n),p(i),p(a)),this.externalComponent=r.externalComponent,this.rootTransition=r.transition,this.tag=r.tag,this.realList=l}var t,o,n;return t=e,(o=[{key:"render",value:function(e,t){var o=this.tag,n=this.children;return e(o,t,this._isRootComponent?{default:function(){return n}}:n)}},{key:"updated",value:function(){var e=this.defaultNodes,t=this.realList;e.forEach((function(e,o){var n,i;n=L(e),i={element:t[o],index:o},n.__draggable_context=i}))}},{key:"getUnderlyingVm",value:function(e){return z(e)}},{key:"getVmIndexFromDomIndex",value:function(e,t){var o=this.defaultNodes,n=o.length,i=t.children,a=i.item(e);if(null===a)return n;var r=z(a);if(r)return r.index;if(0===n)return 0;var l=L(o[0]);return e<p(i).findIndex((function(e){return e===l}))?0:n}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}])&&D(t.prototype,o),n&&D(t,n),e}(),A=o("8bbf");function U(e){var t=["transition-group","TransitionGroup"].includes(e),o=!function(e){return C.includes(e)}(e)&&!t;return{transition:t,externalComponent:o,tag:o?Object(A.resolveComponent)(e):t?A.TransitionGroup:e}}function O(e){var t=e.$slots,o=e.tag,n=e.realList,i=function(e){var t=e.$slots,o=e.realList,n=e.getKey,i=o||[],a=u(["header","footer"].map((function(e){return(o=t[e])?o():[];var o})),2),r=a[0],l=a[1],c=t.item;if(!c)throw new Error("draggable element must have an item slot");var d=i.flatMap((function(e,t){return c({element:e,index:t}).map((function(t){return t.key=n(e),t.props=s(s({},t.props||{}),{},{"data-draggable":!0}),t}))}));if(d.length!==i.length)throw new Error("Item slot must have only one child");return{header:r,footer:l,default:d}}({$slots:t,realList:n,getKey:e.getKey}),a=U(o);return new M({nodes:i,root:a,realList:n})}function _(e,t){var o=this;Object(A.nextTick)((function(){return o.$emit(e.toLowerCase(),t)}))}function P(e){var t=this;return function(o,n){if(null!==t.realList)return t["onDrag".concat(e)](o,n)}}function j(e){var t=this,o=P.call(this,e);return function(n,i){o.call(t,n,i),_.call(t,e,n)}}var G=null,R={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(e){return e}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},F=["update:modelValue","change"].concat(p([].concat(p(B.manageAndEmit),p(B.emit)).map((function(e){return e.toLowerCase()})))),$=Object(A.defineComponent)({name:"draggable",inheritAttrs:!1,props:R,emits:F,data:function(){return{error:!1}},render:function(){try{this.error=!1;var e=this.$slots,t=this.$attrs,o=this.tag,n=this.componentData,i=O({$slots:e,tag:o,realList:this.realList,getKey:this.getKey});this.componentStructure=i;var a=function(e){var t=e.$attrs,o=e.componentData,n=void 0===o?{}:o;return s(s({},N(Object.entries(t).filter((function(e){var t=u(e,2),o=t[0];return t[1],V(o)})))),n)}({$attrs:t,componentData:n});return i.render(A.h,a)}catch(r){return this.error=!0,Object(A.h)("pre",{style:{color:"red"}},r.stack)}},created:function(){null!==this.list&&null!==this.modelValue&&f.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var e=this;if(!this.error){var t=this.$attrs,o=this.$el;this.componentStructure.updated();var n=function(e){var t=e.$attrs,o=e.callBackBuilder,n=N(I(t));Object.entries(o).forEach((function(e){var t=u(e,2),o=t[0],i=t[1];B[o].forEach((function(e){n["on".concat(e)]=i(e)}))}));var i="[data-draggable]".concat(n.draggable||"");return s(s({},n),{},{draggable:i})}({$attrs:t,callBackBuilder:{manageAndEmit:function(t){return j.call(e,t)},emit:function(t){return _.bind(e,t)},manage:function(t){return P.call(e,t)}}}),i=1===o.nodeType?o:o.parentElement;this._sortable=new b.a(i,n),this.targetDomElement=i,i.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList:function(){var e=this.list;return e||this.modelValue},getKey:function(){var e=this.itemKey;return"function"==typeof e?e:function(t){return t[e]}}},watch:{$attrs:{handler:function(e){var t=this._sortable;I(e).forEach((function(e){var o=u(e,2),n=o[0],i=o[1];t.option(n,i)}))},deep:!0}},methods:{getUnderlyingVm:function(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent:function(e){return e.__draggable_component__},emitChanges:function(e){var t=this;Object(A.nextTick)((function(){return t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=p(this.modelValue);e(t),this.$emit("update:modelValue",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,p(e))};this.alterList(t)},updatePosition:function(e,t){this.alterList((function(o){return o.splice(t,0,o.splice(e,1)[0])}))},getRelatedContextFromMoveEvent:function(e){var t=e.to,o=e.related,n=this.getUnderlyingPotencialDraggableComponent(t);if(!n)return{component:n};var i=n.realList,a={list:i,component:n};return t!==o&&i?s(s({},n.getUnderlyingVm(o)||{}),a):a},getVmIndexFromDomIndex:function(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),G=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){g(e.item);var o=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(o,0,t);var n={element:t,newIndex:o};this.emitChanges({added:n})}},onDragRemove:function(e){if(h(this.$el,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context,o=t.index,n=t.element;this.spliceList(o,1);var i={element:n,oldIndex:o};this.emitChanges({removed:i})}else g(e.clone)},onDragUpdate:function(e){g(e.item),h(e.from,e.item,e.oldIndex);var t=this.context.index,o=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,o);var n={element:this.context.element,oldIndex:t,newIndex:o};this.emitChanges({moved:n})},computeFutureIndex:function(e,t){if(!e.element)return 0;var o=p(t.to.children).filter((function(e){return"none"!==e.style.display})),n=o.indexOf(t.related),i=e.component.getVmIndexFromDomIndex(n);return-1===o.indexOf(G)&&t.willInsertAfter?i+1:i},onDragMove:function(e,t){var o=this.move,n=this.realList;if(!o||!n)return!0;var i=this.getRelatedContextFromMoveEvent(e),a=this.computeFutureIndex(i,e),r=s(s({},this.context),{},{futureIndex:a});return o(s(s({},e),{},{relatedContext:i,draggedContext:r}),t)},onDragEnd:function(){G=null}}}),H=$;t.default=H},fb6a:function(e,t,o){var n=o("23e7"),i=o("861d"),a=o("e8b5"),r=o("23cb"),l=o("50c4"),s=o("fc6a"),c=o("8418"),d=o("b622"),u=o("1dde"),p=o("ae40"),m=u("slice"),b=p("slice",{ACCESSORS:!0,0:0,1:2}),g=d("species"),h=[].slice,f=Math.max;n({target:"Array",proto:!0,forced:!m||!b},{slice:function(e,t){var o,n,d,u=s(this),p=l(u.length),m=r(e,p),b=r(void 0===t?p:t,p);if(a(u)&&("function"!=typeof(o=u.constructor)||o!==Array&&!a(o.prototype)?i(o)&&null===(o=o[g])&&(o=void 0):o=void 0,o===Array||void 0===o))return h.call(u,m,b);for(n=new(void 0===o?Array:o)(f(b-m,0)),d=0;m<b;m++,d++)m in u&&c(n,d,u[m]);return n.length=d,n}})},fc6a:function(e,t,o){var n=o("44ad"),i=o("1d80");e.exports=function(e){return n(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,o){var n=o("4930");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default},no.exports=oo(t,o);const io=to(no.exports),ao=e=>new Promise((t=>setTimeout(t,e))),ro={key:0,class:"tb-absolute tb-bg-white tb-rounded tb-text-xs tb-shadow tb-w-5/6 tb-p-2 tb-border tb-border-solid tb-border-gray-200",style:{bottom:"12px"}},lo={class:"tb-p-10 tb-flex tb-items-center tb-justify-center"},so=["src"],co=t.createTextVNode(" Loading... "),uo={key:1,class:"tb-absolute tb-bg-white tb-rounded tb-text-xs tb-shadow tb-w-5/6 tb-p-2 tb-border tb-border-solid tb-border-gray-200",style:{bottom:"12px"}},po=[t.createElementVNode("div",{class:"tb-p-10 tb-leading-snug tb-text-center"},[t.createElementVNode("span",{class:"tb-font-medium tb-text-red-600"},"Sorry we were unable to load your Tag Lists."),t.createElementVNode("br"),t.createTextVNode(" If this happens again please contact support. ")],-1)],mo={key:2,class:"tb-absolute tb-bg-white tb-rounded tb-text-xs tb-shadow tb-w-5/6 tb-p-2 tb-border tb-border-solid tb-border-gray-200",style:{bottom:"12px"}},bo={key:0,class:"tb-flex tb-items-center tb-justify-between tb-py-2 tb-mb-2"},go=t.createElementVNode("h3",null,"Tag Lists",-1),ho={key:0},fo=t.createTextVNode(" Select: "),vo=t.createTextVNode(" | "),yo={key:1,class:"tb-flex tb-flex-wrap tb-mb-2"},xo={class:"tb-p-1 tb-w-1/3 tb-overflow-y-auto tb-border tb-border-solid tb-rounded tb-border-gray-100 tb-mr-2",style:{"min-height":"140px","max-height":"140px"}},To=["onClick"],wo={class:"tb-flex-1 tb-p-1 tb-border tb-border-solid tb-border-gray-100 tb-rounded tb-overflow-y-auto tb-leading-snug",style:{"max-height":"140px"}},ko={key:0},Eo=["id","checked","disabled","name","onChange"],So=["for"],Bo={key:1,class:"tb-flex tb-items-center tb-h-full tb-justify-center"},Co=[t.createElementVNode("div",{class:"tb-text-center"}," The Tag List is empty ",-1)],Vo={key:2,class:"tb-flex tb-items-center tb-justify-between"},No={key:3},Io=t.createElementVNode("div",{class:"tb-text-center tb-py-5 tb-mb-5"}," You do not have any Tag Lists! ",-1),Do={emits:["close"],setup(o,{emit:n}){const i=e.useStore(),{addTag:a}=N(i),r=t.ref([]),l=t.ref(null),s=t.ref([]),c=t.ref([]),d=t.computed((()=>s.value.filter((e=>c.value.includes(e.Id))).map((e=>e.TagValue.trim().replace(/\s/,"---").length+1)).reduce(((e,t)=>e+t),i.getters.getTagCharacterCount))),u=t.computed((()=>i.getters.getMetaTags)),p=t.computed((()=>s.value.filter((e=>!u.value.map((e=>e.toLowerCase())).includes(e.TagValue))))),m=t.computed((()=>browser.runtime.getURL("/images/general/loading1.gif"))),b=t.ref(!0),g=t.ref(!1),{SeoStudioUsed:h}=M(),f=()=>{n("close")},v=()=>{if(!c.value.length||d.value>500)return;const e=s.value.filter((e=>c.value.includes(e.Id))).map((e=>e.TagValue));h({feature:"import tags",tag_count:e.length}),e.forEach((e=>{i.getters.getTagCharacterCount+e.length>=500||a(e)})),f()},y=()=>{const e=p.value.map((e=>e.TagValue));e.length&&(i.getters.getTagCharacterCount>=500||(h({feature:"import tags",tag_count:e.length}),e.forEach((e=>{i.getters.getTagCharacterCount+(e.replace(/\s/,"---").length+1)>500||a(e)})),f()))},x=()=>{const e=u.value.map((e=>e.toLowerCase()));c.value=s.value.filter((t=>!e.includes(t.TagValue))).map((e=>e.Id))},T=()=>{c.value=[]},w=e=>c.value.includes(e),k=e=>u.value.map((e=>e.toLowerCase())).includes(e.toLowerCase()),E=e=>{l.value=e,TBExtension.Get(`${TBGlobal.host+TBGlobal.apiUrls.taglistsGetListTags}?id=${e}&sort=0`,"SeoStudioGetTagListTags")},S=()=>{TubeBuddyTagLists.Show(),f()};return t.onMounted((()=>{TBExtension.Get(TBGlobal.host+TBGlobal.apiUrls.taglistsGetLists,"SeoStudioGetTagList")})),t.onBeforeMount((()=>{jQuery(document.body).on("SeoStudioGetTagList",(async(e,t)=>{t.success?(r.value=jQuery.parseJSON(t.response),r.value.length&&!l.value&&E(r.value[0].Id),await ao(500),b.value=!1):g.value=!0})),jQuery(document.body).on("SeoStudioGetTagListTags",((e,t)=>{t.success?(s.value=[],c.value=[],s.value=jQuery.parseJSON(t.response)):g.value=!0}))})),t.onDeactivated((()=>{jQuery(document.body).off("SeoStudioGetTagList"),jQuery(document.body).off("SeoStudioGetTagListTags")})),(e,o)=>b.value?(t.openBlock(),t.createElementBlock("div",ro,[t.createElementVNode("div",lo,[t.createElementVNode("img",{src:t.unref(m),class:"tb-mr-2",alt:"Loading tags..."},null,8,so),co])])):g.value?(t.openBlock(),t.createElementBlock("div",uo,po)):(t.openBlock(),t.createElementBlock("div",mo,[r.value.length?(t.openBlock(),t.createElementBlock("div",bo,[go,t.unref(p).length?(t.openBlock(),t.createElementBlock("div",ho,[fo,t.createElementVNode("a",{onClick:x},"All"),vo,t.createElementVNode("a",{onClick:T},"None")])):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),r.value.length?(t.openBlock(),t.createElementBlock("div",yo,[t.createElementVNode("div",xo,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.value,(e=>(t.openBlock(),t.createElementBlock("a",{key:e.Id,class:t.normalizeClass(["tb-block tb-p-2 hover:tb-bg-gray-50 tb-rounded",{"tb-bg-blue-500 tb-text-white hover:tb-bg-blue-500":e.Id===l.value}]),onClick:t=>E(e.Id)},t.toDisplayString(e.Name),11,To)))),128))]),t.createElementVNode("div",wo,[s.value.length?(t.openBlock(),t.createElementBlock("div",ko,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.value,(e=>(t.openBlock(),t.createElementBlock("div",{key:e.Id,class:"tb-flex tb-items-center tb-py-1"},[t.createElementVNode("input",{id:e.Id,type:"checkbox",checked:w(e.Id)||k(e.TagValue),disabled:k(e.TagValue),name:e.Id,onChange:t=>{return o=e.Id,void(w(o)?c.value=c.value.filter((e=>e!==o)):c.value.push(o));var o}},null,40,Eo),t.createElementVNode("label",{for:e.Id,class:t.normalizeClass(["tb-cursor-pointer tb-whitespace-pre tb-overflow-hidden",{"tb-opacity-50":k(e.TagValue)}])},t.toDisplayString(e.TagValue),11,So)])))),128))])):(t.openBlock(),t.createElementBlock("div",Bo,Co))])])):t.createCommentVNode("",!0),r.value.length?(t.openBlock(),t.createElementBlock("div",Vo,[t.createElementVNode("div",{class:t.normalizeClass(["tb-text-base",{"tb-text-red-500 tb-font-bold":t.unref(d)>500}])}," Character limit ("+t.toDisplayString(t.unref(d))+" / 500) ",3),t.createElementVNode("div",null,[t.createElementVNode("a",{class:t.normalizeClass(["tb-inline-block tb-text-right tb-text-white tb-rounded tb-shadow tb-rounded tb-p-2 tb-mr-1",[c.value.length?"":"tb-opacity-50 tb-cursor-not-allowed",t.unref(d)>=500?"tb-opacity-50 tb-bg-red-500 tb-cursor-not-allowed":"tb-bg-green-500"]]),onClick:v}," Add Selected ",2),t.createElementVNode("a",{class:t.normalizeClass(["tb-inline-block tb-text-right tb-bg-green-500 tb-text-white tb-rounded tb-shadow tb-rounded tb-p-2",[t.unref(p).length?"":"tb-opacity-50 tb-cursor-not-allowed"]]),onClick:y}," Add To Tag Limit ",2)])])):(t.openBlock(),t.createElementBlock("div",No,[t.createElementVNode("div",{class:"tb-p-8 tb-text-center"},[Io,t.createElementVNode("a",{class:"tb-p-3 tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white tb-font-medium tb-uppercase",onClick:S},"Create A Tag List")])]))]))}},Lo={class:"tb-relative tb-flex tb-items-center tb-justify-end tb-leading-tight"},zo={setup(e){const{SeoStudioClicked:o}=M(),n=t.ref(!1),i=()=>{n.value=!n.value,o({feature:"import tags"})};return(e,o)=>(t.openBlock(),t.createElementBlock("div",Lo,[n.value?(t.openBlock(),t.createBlock(t.unref(Do),{key:0,onClose:o[0]||(o[0]=e=>n.value=!n.value)})):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"tb-absolute tb-bg-gray-100 hover:tb-gray-200 tb-font-medium tb-uppercase tb-rounded tb-text-gray-600 tb-px-2 tb-py-1 tb-cursor-pointer",onClick:i},"Import ")]))}},Mo=t.createElementVNode("div",{class:"tb-text-2xl tb-font-semibold"},"Tags",-1),Ao={class:"tb-max-h-64 tb-flex tb-flex-wrap tb-items-center tb-overflow-y-auto"},Uo=t.createElementVNode("i",{class:"material-icons tb-cursor-move tb-tag-sort"},"drag_indicator",-1),Oo=["onClick","title","innerHTML"],_o=["innerHTML","onKeyup","onKeydown","onBlur"],Po=["onClick"],jo={class:"tb-relative tb-bottom-8 tb-mx-2"},Go={key:0,class:"tb-text-red-500 tb-float-left tb-mr-2"},Ro={key:1,class:"tb-text-red-500 tb-float-left"},Fo={class:"tb-text-gray-400 tb-float-right"},$o={setup(o){const n=e.useStore(),{addTag:i}=N(n),{checkExactMatch:a,highlightMatches:r}=C(n),l=t.ref(!1),s=t.ref(-1),c=t.ref(null),d=t.ref(null),u=t.ref(null),p=t.computed((()=>n.getters.getTagCharacterCount)),m=t.computed({get(){const e=n.getters.getMetaTags?n.getters.getMetaTags:[];return e.filter((e=>e.length>100)).length>0?u.value="One or more of your tags is too long.":u.value=null,e},set(e){let t=e,o=t[t.length-1];var i=o.charAt(0);i==i.toUpperCase()?o=TBUtilities.LowerCaseFirstLetterString(o):i==i.toLowerCase()&&(o=TBUtilities.CapitlizeFirstLetterString(o)),t[t.length-1]=o,n.commit("setMetaTags",t)}});function b(e){const t=e.target,o=Ut.getCurrentCursorPosition(t),n=DOMPurify.sanitize(e.target.innerText);e.target.innerHTML=r(n,!1),Ut.setCurrentCursorPosition(o,t),t.focus()}function g(e,t,o=-1){const a=void 0!==e.key?e.key.toLowerCase():"",r=void 0!==e.type?e.type.toLowerCase():"";if("keydown"==r&&("tab"==a||"enter"==a||","==a)||"blur"==r&&""==a){e.preventDefault();let a=t.split(",").filter((e=>e.length>0));if(a&&a.length>0)if(-1==o)a.forEach((e=>{i(e)})),e.target.innerText="",e.target.focus();else{let t=Array.from(n.getters.getMetaTags),i=a[0].replaceAll(/\n/g,"");t[o]!==i&&(t[o]=i,n.commit("setMetaTags",Array.from(new Set(t)))),h(e)}}else if("keydown"==r&&("<"==a||">"==a))return e.preventDefault(),void TBUtilities.Alert("Angled brackets are not allowed")}function h(e){l.value=!1,s.value=-1,e&&(e.target.innerText="")}function f(){h(),d.value.focus()}return(e,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[Mo,t.createElementVNode("div",t.mergeProps({id:"tb-studio-added-tags",class:["tb-rounded-sm tb-border-2 tb-border-solid tb-border-gray-100 tb-h-72",{"tb-border-red-500":t.unref(p)>500}],onClick:f},e.$attrs),[t.createElementVNode("div",Ao,[t.createVNode(t.unref(io),{id:"tb-added-tags",modelValue:t.unref(m),"onUpdate:modelValue":o[1]||(o[1]=e=>t.isRef(m)?m.value=e:null),"item-key":"name",handle:".tb-tag-sort",class:"tb-flex tb-flex-wrap tb-items-center"},{item:t.withCtx((({element:e,index:i})=>[t.createVNode(eo,{class:t.normalizeClass(["tb-m-1 tb-studio-tag",{"tb-studio-tag-exact":t.unref(a)(e),"tb-border tb-border-solid tb-border-blue-500":s.value===i}])},{"tag-left":t.withCtx((()=>[Uo])),"tag-content":t.withCtx((()=>{return[l.value&&s.value===i?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("span",{key:0,onClick:e=>function(e,t){e.stopPropagation(),l.value=!0,s.value=t,setTimeout((()=>{const e=c.value;Ut.setCurrentCursorPosition(e.innerText.length,e),e.focus()}),1e3)}(e,i),class:"tb-mr-1 tb-max-w-xl",title:e,innerHTML:t.unref(r)((n=e,TBUtilities.Truncate(n,30,!0)),!0)},null,8,Oo)),l.value&&s.value===i?(t.openBlock(),t.createElementBlock("div",{key:1,contenteditable:"true",spellcheck:"false",style:t.normalizeStyle({width:e.length+3+"ch"}),innerHTML:t.unref(r)(e),onInput:b,onKeyup:e=>g(e,e.target.innerText,i),onKeydown:t.withModifiers((e=>g(e,e.target.innerText,i)),["stop"]),onBlur:e=>g(e,e.target.innerText,i),onClick:o[0]||(o[0]=t.withModifiers((()=>{}),["stop"])),ref_key:"tagEditInput",ref:c,id:"tb-tag-edit-input",class:"tb-studio-tag-input tb-whitespace-nowrap tb-px-1.5 tb-m-1 tb-overflow-x-hidden"},null,44,_o)):t.createCommentVNode("",!0)];var n})),"tag-right":t.withCtx((()=>[t.createElementVNode("i",{class:"material-icons tb-cursor-pointer",onClick:t.withModifiers((t=>function(e){h();let t=n.getters.getMetaTags.filter((t=>t!=e));n.commit("setMetaTags",t)}(e)),["stop"])},"cancel",8,Po)])),_:2},1032,["class"])])),_:1},8,["modelValue"]),t.createElementVNode("div",{contenteditable:"true",spellcheck:"false",ref_key:"newTagInput",ref:d,onInput:b,onKeyup:o[2]||(o[2]=e=>g(e,e.target.innerText)),onKeydown:o[3]||(o[3]=t.withModifiers((e=>g(e,e.target.innerText)),["stop"])),class:"tb-studio-tag-input tb-whitespace-nowrap tb-w-1/4 tb-px-1.5 tb-m-1 tb-overflow-x-hidden"},null,544)])],16),t.createElementVNode("div",jo,[u.value?(t.openBlock(),t.createElementBlock("div",Go,t.toDisplayString(u.value),1)):t.createCommentVNode("",!0),t.unref(p)>500?(t.openBlock(),t.createElementBlock("div",Ro,"Character count exceeded.")):t.createCommentVNode("",!0),t.createElementVNode("div",Fo,t.toDisplayString(t.unref(p))+"/500",1)]),t.createVNode(t.unref(zo))],64))}},Ho={state:()=>({metaData:{},allowUseAsFreeUser:!1}),mutations:{setMetaData(e,t){e.metaData={...e.metaData,...t}},setMetaTitle(e,t){e.metaData.title=DOMPurify.sanitize(t)},setMetaDescription(e,t){e.metaData.description=DOMPurify.sanitize(t)},resetMetaData(e,t){e.metaData={}},setMetaTags(e,t){e.metaData.tags=t},setAllowUseAsFreeUser(e,t){e.shouldIncrement=t}},getters:{getMetaData:e=>e.metaData,getMetaTitle:e=>e.metaData.title?e.metaData.title:"No title",getMetaDescription:e=>e.metaData.description?e.metaData.description:"No Description",getMetaTags:e=>e.metaData.tags?e.metaData.tags:[],getTagCharacterCount(e){let t=0;return e.metaData.tags&&(e.metaData.tags.forEach((e=>{t+=e.trim().replace(/\s/,"---").length+1})),t>0&&t--),t},getAllowUseAsFreeUser:e=>e.shouldIncrement}},Qo={state:()=>({video:{}}),mutations:{setVideo(e,t){e.video={...e.video,...t}}},getters:{getVideo:e=>e.video}},Ko={state:()=>({keyword:{}}),mutations:{setTargetKeyword(e,t){e.keyword=t},resetTargetKeyword(e){e.keyword={}}},getters:{getTargetKeyword:e=>e.keyword}},Yo={state:()=>({seoScore:{overallScore:0,metaImprovements:[],tagImprovements:[],thumnailTips:[]}}),mutations:{setSeoScore(e,t){e.seoScore=t},resetSeoScore(e){e.seoScore={overallScore:0,metaImprovements:[],tagImprovements:[],thumnailTips:[]}}},getters:{getSeoScore:e=>e.seoScore,getOverallSeoScore:e=>e.seoScore.overallScore}},Wo={state:()=>({drafts:[]}),mutations:{setDrafts(e,t){e.drafts=t}},getters:{getDrafts:e=>e.drafts}},qo={state:()=>({uploadDefaults:[]}),mutations:{setDefaults(e,t){e.uploadDefaults=t}},getters:{getDefaults:e=>e.uploadDefaults}},Jo={state:()=>({currentStep:0,savedSteps:[!1,!1,!1,!1]}),mutations:{setCurrentStep(e,t){e.currentStep=t},saveStep(e,{index:t,value:o}){e.savedSteps[t]=o},resetSteps(e){e.savedSteps=[!1,!1,!1,!1]}},getters:{getCurrentStep:e=>e.currentStep,getSavedStep:e=>t=>e.savedSteps[t]}},Zo={state:()=>({savedDraft:!1}),mutations:{setCurrentPreview(e,t){e.savedDraft=t},resetCurrentPreview(e){e.savedDraft=!1}},getters:{getCurrentPreview:e=>e.savedDraft}},Xo={state:()=>({isUploadOpen:!1}),mutations:{setIsUpload(e,t){e.isUploadOpen=t},resetIsUpload(e){e.isUploadOpen=!1}},getters:{getIsUploadOpen:({isUploadOpen:e})=>e}},en={state:()=>({videoId:""}),mutations:{setVideoContext(e,t){e.videoId=t},resetVideoContext(e){e.videoId=""}},getters:{getVideoContext:({videoId:e})=>e}},tn={state:()=>({callBtn:""}),mutations:{setCallBtn(e,t){e.callBtn=t}},getters:{getCallBtn:({callBtn:e})=>e}},on={state:()=>({source:""}),mutations:{setSourceFrom(e,t){e.source=t}},getters:{getSourceFrom:({source:e})=>e}},nn={class:"tb-h-1/2"},an=t.createElementVNode("div",{class:"tb-text-2xl"},[t.createElementVNode("span",{class:"tb-font-semibold"},"Populate with Suggested Tags"),t.createElementVNode("span",{class:"tb-text-gray-400 tb-ml-1"},"- consider adding only if relevant")],-1),rn={class:"tb-rounded-sm tb-border-2 tb-border-solid tb-border-gray-100 tb-h-80"},ln={class:"tb-flex tb-items-center tb-ml-2"},sn=t.createTextVNode(" Sort by: "),cn={class:"tb-material-radio-container tb-py-0"},dn={class:"tb-material-radio-container tb-py-0"},un={class:"tb-max-h-64 tb-flex tb-flex-wrap tb-items-center tb-overflow-y-auto"},pn={key:0,class:"tb-flex tb-items-center tb-m-2"},mn=[t.createElementVNode("span",{class:"tb-spinner tb-mr-2"},null,-1),t.createTextVNode("Loading ")],bn={key:1},gn={key:0,class:"tb-flex tb-flex-wrap tb-items-center tb-overflow-y-auto"},hn=["onClick"],fn=["innerHTML"],vn={key:1,class:"tb-p-2"},yn=[t.createElementVNode("span",null,"Sorry, no suggestions found",-1)],xn={setup(o){const n=e.useStore(),{addTag:i,scoreTags:a,getTagScoreBorderColor:r}=N(n),{highlightMatches:l}=C(n),s=t.ref([]),c=t.ref(!0),d=t.ref("relevance");function u(){s.value.forEach((e=>{n.getters.getTagCharacterCount+e.tag.replace(/\s/,"---").length>=500||p(e.tag)||i(e.tag)}))}function p(e){return(n.getters.getMetaTags?n.getters.getMetaTags:[]).indexOf(e.replace(/\s+/g," ").trim())>-1}function m(e){d.value=e;const t=s.value.sort(((t,o)=>"score"===e?o.score-t.score:t.priority-o.priority));s.value=t}return t.onBeforeMount((async()=>{const e=await TBUtilities.GetKeywordRecommendedTags(n.getters.getTargetKeyword.replaceAll(",","")),t=void 0!==n.getters.getTargetKeyword?n.getters.getTargetKeyword.toLowerCase():"";e.forEach((e=>e.tag.replace(/\s+/g," ").trim()));const o=[...new Set(e.map((e=>JSON.stringify(e))))].map((e=>JSON.parse(e))).filter((e=>!p(e.tag)&&e.tag.toLowerCase()!=t));o&&0!==o.length?a([...new Set(o.map((e=>e.tag)))]).then((e=>{o.forEach((t=>{const o=e.filter((e=>e.Tag==t.tag));t.score=o.length>0?Math.round(o[0].Score):0}))})).catch((e=>TBUtilities.LogError(`Exception: ${e}`))).finally((()=>{s.value=o,m("relevance"),c.value=!1})):c.value=!1})),(e,o)=>(t.openBlock(),t.createElementBlock("div",nn,[an,t.createElementVNode("div",rn,[t.createElementVNode("div",t.mergeProps(e.$attrs,{id:"tb-suggested-tags-options",class:"tb-border-b-2 tb-border-solid tb-border-gray-100 tb-h-14 tb-flex tb-items-center tb-justify-between"}),[t.createElementVNode("div",ln,[sn,t.createElementVNode("div",cn,[t.withDirectives(t.createElementVNode("input",{id:"tb-sort-by-relevance",type:"radio",name:"tb-sort-by",value:"relevance","onUpdate:modelValue":o[0]||(o[0]=e=>d.value=e),class:"tb-material-radio"},null,512),[[t.vModelRadio,d.value]]),t.createElementVNode("label",{onClick:o[1]||(o[1]=e=>m("relevance")),class:"tb-material-radio-label"},"Relevance")]),t.createElementVNode("div",dn,[t.withDirectives(t.createElementVNode("input",{id:"tb-sort-by-score",type:"radio",name:"tb-sort-by",value:"score","onUpdate:modelValue":o[2]||(o[2]=e=>d.value=e),class:"tb-material-radio"},null,512),[[t.vModelRadio,d.value]]),t.createElementVNode("label",{onClick:o[3]||(o[3]=e=>m("score")),class:"tb-material-radio-label tb-text-gray-600"},"Score")])]),t.createElementVNode("button",{onClick:u,class:"tb-bg-gray-100 hover:tb-bg-gray-200 tb-text-gray-600 tb-mr-2 tb-uppercase tb-font-medium tb-rounded-sm tb-px-4 tb-py-2 tb-border-none tb-cursor-pointer"},"Add to Tag Limit")],16),t.createElementVNode("div",un,[c.value?(t.openBlock(),t.createElementBlock("div",pn,mn)):(t.openBlock(),t.createElementBlock("div",bn,[s.value.length>0?(t.openBlock(),t.createElementBlock("div",gn,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.value,(e=>(t.openBlock(),t.createBlock(eo,{class:"tb-m-1 tb-studio-tag",key:e.tag},t.createSlots({"tag-left":t.withCtx((()=>[t.createElementVNode("i",{class:"material-icons tb-text-green-600 tb-cursor-pointer",onClick:o=>t.unref(i)(e.tag,!1,!0)},t.toDisplayString(p(e.tag)?"check_circle":"add_circle"),9,hn)])),"tag-content":t.withCtx((()=>[t.createElementVNode("span",{class:"tb-mx-2",innerHTML:t.unref(l)(e.tag,!1)},null,8,fn)])),_:2},[e.score>0?{name:"tag-right",fn:t.withCtx((()=>[t.createElementVNode("span",{class:"tb-border-b-2 tb-border-solid tb-px-0.5 tb-mr-1 tb-bg-white",title:"tag score",style:t.normalizeStyle({borderColor:t.unref(r)(e.score)})},t.toDisplayString(e.score),5)]))}:void 0]),1024)))),128))])):(t.openBlock(),t.createElementBlock("div",vn,yn))]))])])]))}},Tn={id:"tb-seo-studio-vue-tag-container",class:"tb-p-2 tb-flex tb-flex-col tb-justify-around tb-h-full"},wn={setup(o){const n=e.useStore(),{SeoStudioStudioTagsTab:i}=M();return t.onMounted((()=>{i({video_id:n.getters.getVideo.videoId||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),tool:"SEO Studio",used:!0})})),(e,o)=>(t.openBlock(),t.createElementBlock("div",Tn,[t.createVNode(t.unref($o),{class:"tb-h-1/2"}),t.createVNode(t.unref(xn))]))}},kn={class:"tb-p-2 tb-relative"},En={class:"search-container tb-flex"},Sn={class:"tb-seo-studio-video-container-demo tb-block tb-sticky tb-top-0 tb-bg-white tb-pt-2"},Bn=["src"],Cn={class:"tb-seo-studio-copy tb-inline-block tb-w-1/2 tb-align-top"},Vn=["innerHTML"],Nn=["href","innerHTML"],In=["innerHTML"],Dn={class:"tb-seo-studio-views tb-inline-block tb-align-top tb-w-auto"},Ln=["innerHTML"],zn={key:0,id:"tb-seo-studio-serp-loading-container",class:"tb-absolute tb-bg-white tb-opacity-90 tb-w-full"},Mn=[t.createElementVNode("span",{class:"tb-spinner"},null,-1),t.createElementVNode("span",{class:"tb-loading-text tb-margin-left-5"},"Loading",-1)],An=["src"],Un={class:"tb-seo-studio-copy tb-inline-block tb-w-1/2 tb-align-top"},On={class:"tb-seo-studio-title"},_n=["href","innerHTML"],Pn=["innerHTML"],jn={class:"tb-seo-studio-views tb-inline-block tb-align-top tb-w-auto"},Gn=["innerHTML"],Rn={class:"buttons"},Fn=t.createElementVNode("p",{class:"copy tb-w-5/12 tb-inline-block tb-align-top"}," Keep your existing Thumbnail or create/upload a new one. ",-1),$n={class:"tb-float-right"},Hn=t.createElementVNode("label",{id:"tb-seo-studio-upload-thumbnail-button",for:"tb-seo-studio-upload-thumbnail-input",class:"tb-inline-block tb-align-top tb-px-5 tb-py-3 tb-mr-2 tb-text-base tb-bg-gray-100 hover:tb-bg-gray-200 tb-cursor-pointer"},"UPLOAD THUMBNAIL",-1),Qn={setup(o){const n=e.useStore(),{highlightMatches:i}=C(n),{read:a}=B(n),r=n.getters.getTargetKeyword,l=t.ref(null),s=t.ref([]),c=t.computed((()=>n.getters.getVideo)),d=t.computed((()=>n.getters.getVideo.videoId?`https://www.youtube.com/watch?v=${n.getters.getVideo.videoId}`:null)),u=`${TBGlobal.host}/images/modules/seostudio/seostudio-thumbnail-placeholder.png`,p=t.ref(u);let m=null;const b=t.ref("tb-btn-disabled"),g=TBGlobal.Profile().Title?TBUtilities.Truncate(TBGlobal.Profile().Title,45,!1):"Channel Name",h=t.ref(i(n.getters.getMetaData.title)),f=t.ref(i(TBUtilities.Truncate(n.getters.getMetaData.description?n.getters.getMetaData.description:"",125,!1))),v=t.computed((()=>n.getters.getVideo.views?n.getters.getVideo.views:0)),y=t.ref(!1),x=t.ref(""),T=t.computed((()=>n.getters.getIsUploadOpen)),{SeoStudioThumbnailTab:w}=M();function k(e){y.value=!0,x.value="height:377px;",s.value=[],TubeBuddyYouTubeActions.GetVideoSearchResults(e,(e=>{s.value=e,x.value="",y.value=!1}))}function E(e,t){return TBUtilities.Truncate(e,t,!1)}function S(e){if(m=e.target.files[0],m.size>2097152)return void TBUtilities.Alert("Sorry, you need to select a file less than 2MB",null);const t=new FileReader;t.readAsDataURL(m),t.onloadend=e=>{const t=n.getters.getMetaData;t.customThumbnail=e.target.result,n.commit("setMetaData",t),p.value=e.target.result},void 0===c.value.videoId&&(p.value=n.getters.getMetaData.thumbnails)}function V(){if("tb-btn-disabled"===b.value)return;const e=n.getters.getMetaData;e.hideSeoStudio=!0,n.commit("setMetaData",e),TubeBuddyThumbnailGenerator.ShowForSeoStudio(c.value.videoId,c.value.title,c.value.thumbnailDetails.thumbnails[1].url,c.value.description,null,((e,t)=>{n.commit("setMetaData",{customThumbnail:t}),e&&(n.commit("setMetaData",{hideSeoStudio:!1}),p.value=n.getters.getMetaData.customThumbnail)}))}return t.onBeforeMount((()=>{k(r),l.value=r,function(){const e=n.getters.getMetaData.draftId;a().then((()=>{if("undefined"===e||"string"!=typeof e)if("undefined"!==c.value.videoId&&"string"==typeof c.value.videoId){const e=n.getters.getMetaData;"undefined"!==e.thumbnail&&"string"==typeof e.thumbnail?p.value=e.thumbnail:(T.value||(b.value="hover:tb-bg-gray-200"),p.value=c.value.thumbnailDetails.thumbnails[1].url)}else p.value=u;else{const t=n.getters.getDrafts.filter((t=>t.Id===e));p.value="undefined"!==t[0].ThumbnailUrl&&"string"==typeof t[0].ThumbnailUrl?t[0].ThumbnailUrl:u}})).catch((e=>console.error(" VUE | DraftFunctions read() ",e)))}(),async function(){if(0===jQuery("#dialog.ytcp-uploads-dialog").length)return;const e=setInterval((()=>{if(0===jQuery("#still-0[processing]").length){if(clearInterval(e),void 0===n.getters.getVideo)return;b.value="hover:tb-bg-gray-200"}}),1e3)}()})),t.onMounted((()=>{"undefined"!==c.value.videoId&&"string"==typeof c.value.videoId&&document.location.href.match(/\/edit$/)&&(b.value="hover:tb-bg-gray-200"),w({video_id:n.getters.getVideo.videoId||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),tool:"SEO Studio",used:!0})})),(e,o)=>(t.openBlock(),t.createElementBlock("div",kn,[t.createElementVNode("section",En,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>l.value=e),type:"text",name:"search-input",class:"search-input focus:tb-outline-none tb-inline-block tb-py-1 tb-px-2 tb-border-2 tb-border-gray-100 tb-border-solid tb-h-8 tb-w-4/5 tb-text-gray-500",onKeyup:o[1]||(o[1]=t.withKeys((e=>k(l.value)),["enter"]))},null,544),[[t.vModelText,l.value]]),t.createElementVNode("input",{type:"submit",class:"tb-inline-block tb-w-auto tb-px-6 tb-py-2 tb-text-xl tb-bg-gray-100 hover:tb-bg-gray-200 tb-cursor-pointer tb-border-none tb-align-top tb-font-medium tb-text-gray-500 tb-w-1/5",value:"SEARCH",onClick:o[2]||(o[2]=e=>k(l.value))})]),t.createElementVNode("section",{class:"tb-seo-studio-search-results tb-overflow-hidden tb-overflow-y-scroll tb-mb-7 tb-pr-2 tb-pb-2 tb-pl-2 tb-border-gray-100 tb-border-solid tb-border-t-0",style:t.normalizeStyle(x.value)},[t.createElementVNode("div",Sn,[t.createElementVNode("img",{class:"tb-seo-studio-image tb-w-full tb-pr-4",src:p.value},null,8,Bn),t.createElementVNode("div",Cn,[t.createElementVNode("div",null,[t.unref(d)?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("h3",{key:0,class:"tb-seo-studio-title",innerHTML:h.value},null,8,Vn)),t.unref(d)?(t.openBlock(),t.createElementBlock("a",{key:1,href:t.unref(d),target:"_blank",innerHTML:h.value},null,8,Nn)):t.createCommentVNode("",!0)]),t.createElementVNode("p",{class:"tb-seo-studio-creator tb-inline-block tb-align-top tb-m-0 tb-pr-8 tb-w-auto",innerHTML:t.unref(g)},null,8,In),t.createElementVNode("p",Dn,t.toDisplayString(t.unref(v))+" views ",1),t.createElementVNode("p",{class:"tb-seo-studio-description",innerHTML:f.value},null,8,Ln)])]),y.value?(t.openBlock(),t.createElementBlock("div",zn,Mn)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.value,((e,o)=>(t.openBlock(),t.createElementBlock("div",{key:o,class:"tb-seo-studio-video-container"},[t.createElementVNode("img",{class:"tb-seo-studio-image tb-w-full tb-pr-4",src:e.thumbnail?e.thumbnail:u},null,8,An),t.createElementVNode("div",Un,[t.createElementVNode("h3",On,[t.createElementVNode("a",{href:"https://www.youtube.com/watch?v="+e.id,class:"tb-font-normal",innerHTML:t.unref(i)(e.title)},null,8,_n)]),t.createElementVNode("p",{class:"tb-seo-studio-creator tb-inline-block tb-align-top tb-m-0 tb-pr-8 tb-w-auto",innerHTML:t.unref(i)(E(e.channelName,45))},null,8,Pn),t.createElementVNode("p",jn,t.toDisplayString(e.views)+" "+t.toDisplayString("string"==typeof e.views&&e.views.indexOf("view")>-1?"":"view"+("1"!==e.views?"s":"")),1),t.createElementVNode("p",{class:"tb-seo-studio-description",innerHTML:t.unref(i)(E(e.description,125))},null,8,Gn)])])))),128))],4),t.createElementVNode("section",Rn,[Fn,t.createElementVNode("div",$n,[t.createElementVNode("input",{id:"tb-seo-studio-upload-thumbnail-input",type:"file",class:"tb-hidden",onChange:S},null,32),Hn,t.createElementVNode("label",{id:"tb-seo-studio-upload-create-thumbnail-button",class:t.normalizeClass(["tb-inline-block tb-align-top tb-px-5 tb-py-3 tb-text-base tb-bg-gray-100 tb-cursor-pointer",`${b.value}`]),onClick:V},"CREATE THUMBNAIL",2)])])]))}},Kn=t.createElementVNode("div",{class:"tb-p-8 tb-font-bold tb-col-12 tb-w-full tb-font-size18"}," Great job! Your optimized Title, Description, and Tags are ready. ",-1),Yn={key:0,class:"tb-pb-8 tb-pl-8 tb-col-12 tb-w-full tb-font-size22"},Wn={class:"tb-col-6 tb-p-8 tb-flex"},qn={class:"tb-shadow-lg tb-rounded-md tb-relative tb-height100-percent tb-p-8 tb-flex tb-flex-col"},Jn=t.createElementVNode("p",{class:"tb-mb-8 tb-flex-grow"},[t.createElementVNode("span",{class:"tb-font-size20 tb-text-blue-500"},"No, I'm not finished..."),t.createElementVNode("br"),t.createElementVNode("br"),t.createTextVNode(" If you plan to come back and work on this Optimization later, save it as a draft and it will be here when you return for this video. ")],-1),Zn=t.createElementVNode("hr",{class:"tb-mb-4 tb-seo-studio-apply-hr"},null,-1),Xn=t.createTextVNode(" SAVE DRAFT "),ei={key:0,class:"tb-col-6 tb-p-8 tb-flex"},ti={class:"tb-shadow-lg tb-rounded-md tb-relative tb-height100-percent tb-p-8 tb-flex tb-flex-col"},oi={class:"tb-mb-8 tb-flex-grow"},ni=t.createElementVNode("span",{class:"tb-font-size20 tb-text-green-500"},"Yes, apply to my video now.",-1),ii=t.createElementVNode("br",null,null,-1),ai=t.createElementVNode("br",null,null,-1),ri={key:0},li={key:1},si=t.createElementVNode("br",null,null,-1),ci=t.createElementVNode("br",null,null,-1),di={key:2},ui=t.createElementVNode("span",{class:"tb-bold"},"NOTE: You must still save changes on YouTube's site ",-1),pi=t.createTextVNode("afterwards for the changes to take effect. "),mi={key:0},bi=[t.createElementVNode("span",{class:"tb-bold"},"NOTE:",-1),t.createTextVNode(" Your custom thumbnail will also be applied when you save changes on YouTube's site. ")],gi=t.createElementVNode("hr",{class:"tb-mb-4 tb-seo-studio-apply-hr"},null,-1),hi=t.createTextVNode(" APPLY TO VIDEO "),fi={key:1,class:"tb-col-12 tb-w-full tb-m-9"},vi={key:0,class:"tb-text-yellow-500 tb-font-size16"},yi={key:1,class:"tb-text-yellow-500 tb-font-size16"},xi={setup(o){const n=e.useStore(),i=t.computed((()=>n.getters.getVideoContext)),{updateOrCreate:a}=B(n),{applyToVideo:r}=function(e){const{updateTagsInput:t,updateTitleInput:o,updateDescriptionInput:n}=L(),{getBlockScreenImage:i}={getBlockScreenImage:(e="loading...")=>`<div class="tb-flex tb-items-center tb-justify-center tb-h-full">\n            <span class="tb-spinner"></span>\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 587.76 472" fill="#df2726" class="tb-mx-5 tb-h-10">\n                <path class="a" d="M353,383.06l144.7-86.14L370.52,225V120.44S512.28,91.58,571.25,225s-56.88,212.44-83.64,226.66-108.73,37.63-174,0S220.8,358,220.8,296.92V0H353V383.06" />\n                <path class="a" d="M69.42,0H200.73V465.86H69.42V225H0V120.44H69.42V0" />\n            </svg>\n            <span class="tb-text-3xl tb-font-medium" id="tb-block-screen-msg-text">${e}<span class="tb-block-screen-msg-detail"></span></span>\n            </div>`},a=e.getters.getIsUploadOpen,r=async e=>{await l().then((function(){t(e,a)}))},l=()=>new Promise((function(e,t){var o=setInterval((function(){s()?(clearInterval(o),e()):jQuery(".dialog-content.ytcp-uploads-dialog #advanced").attr("hidden")?jQuery(".dialog-content.ytcp-uploads-dialog .advanced-button").click():0==jQuery("ytcp-video-metadata-editor-advanced.ytcp-video-metadata-editor").length&&jQuery(".ytcp-uploads-dialog ytcp-button#toggle-button").click()}),500)})),s=()=>1==("true"==jQuery("button.ytcp-expansion-panel").attr("aria-expanded")||jQuery("ytcp-video-metadata-editor-advanced.ytcp-video-metadata-editor").length>0&&jQuery(".allow-ratings").length>0||jQuery(".ytcp-uploads-details#advanced").is(":not([hidden])")),c=(e,t)=>new Promise((function(o,n){var i={ThumbnailId:e,VideoId:t},a=TBGlobal.host+TBGlobal.apiUrls.seoScorePublishSavedThumbnailData;try{TBExtension.Post(a,JSON.stringify(i),(function(e,t,i){e?o(i):n(i)}),null,{contentType:"application/json"})}catch(r){TBUtilities.LogError({Exception:r,Location:"[TubeBuddyUploadStudio] publishOptimizationThumbnail"}),n(r)}}));return{applyToVideo:async t=>{jQuery("body").trigger("TBcloseSeoStudioVue");const l=void 0!==e.getters.getMetaData.customThumbnail?e.getters.getMetaData.customThumbnail:null,s=e.getters.getVideoContext,d=i("Applying optimization title, description and tags..."),u="string"==typeof t?t:e.getters.getMetaData.draftId;jQuery.blockUI({message:d,blockMsgClass:"tb-apply-profile-block-screen",overlayCSS:{backgroundColor:"#fff",cursor:"unavailable",zIndex:"2210",opacity:.6}}),jQuery(".tb-upload-studio-cancel-apply-optimization").remove();var p=setTimeout((function(){jQuery(".tb-block-screen-msg-detail").after('<a class="tb-upload-studio-cancel-apply-optimization tb-ml-3">cancel</a>'),clearTimeout(p)}),6e4);await o(e.getters.getMetaData.title,a),await n(e.getters.getMetaData.description,a),await r(e.getters.getMetaData.tags),l?(setTimeout((function(){jQuery("#tb-block-screen-msg-text").text("Applying optimized thumbnail...")}),1500),c(u,s).then((function(e){jQuery("#tb-block-screen-msg-text").text("Thumbnail successfully applied")})).catch((function(e){jQuery("#tb-block-screen-msg-text").text("An error occurred applying your custom thumbnail")})).finally((function(){jQuery(".tb-block-screen-msg-detail").text(""),jQuery.unblockUI()}))):(jQuery(".tb-block-screen-msg-detail").text(""),jQuery.unblockUI())}}}(n),{addSaveChannelAction:l,applyToVideoChannelAction:s}=I(),{goToStep:c}=V(n),{SeoStudioApplyToVideoTab:d,SeoStudioApplyToVideo:u,SeoStudioSaveDraft:p}=M(),m=t.computed((()=>void 0!==n.getters.getMetaData.customThumbnail)),b=t.computed((()=>n.getters.getIsUploadOpen||!1));async function g(){try{await a();p({video_id:n.getters.getVideoContext||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),keyword:n.getters.getTargetKeyword,seo_score:n.getters.getOverallSeoScore,tool:"SEO Studio",applied:!0}),n.commit("resetMetaData"),n.commit("setCurrentPreview",!0),l(),c(0,!0)}catch(e){console.error(e)}}async function h(){u({video_id:n.getters.getVideoContext||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),keyword:n.getters.getTargetKeyword,seo_score:n.getters.getOverallSeoScore,tool:"SEO Studio",applied:!0});const e=await a(!0);r(e),l(),s(),TubeBuddyMenu.HideBackground()}return t.onMounted((()=>{d({video_id:n.getters.getVideoContext||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),tool:"SEO Studio",used:!0})})),(e,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[Kn,t.unref(i)?(t.openBlock(),t.createElementBlock("div",Yn," Would you like to apply this Optimization to your video? ")):t.createCommentVNode("",!0),t.createElementVNode("div",t.mergeProps(e.$attrs,{class:"tb-flex tb-w-full tb-margin-bottom30"}),[t.createElementVNode("div",Wn,[t.createElementVNode("div",qn,[Jn,t.createElementVNode("div",null,[Zn,t.createVNode(x,{class:"tb-seo-studio-apply-nav tb-cursor-pointer tb-rounded-md tb-px-8 tb-py-4 tb-content-center tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white",onBtnClicked:g},{default:t.withCtx((()=>[Xn])),_:1})])])]),t.unref(i)?(t.openBlock(),t.createElementBlock("div",ei,[t.createElementVNode("div",ti,[t.createElementVNode("p",oi,[ni,ii,ai,t.unref(b)?(t.openBlock(),t.createElementBlock("span",ri,"This Optimization will be applied to the video you're currently uploading.")):(t.openBlock(),t.createElementBlock("span",li,"This Optimization will be applied to the video you're currently editing.")),si,ci,t.unref(b)?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("span",di,[ui,pi,t.unref(m)?(t.openBlock(),t.createElementBlock("span",mi,bi)):t.createCommentVNode("",!0)]))]),t.createElementVNode("div",null,[gi,t.createVNode(x,{class:"tb-seo-studio-apply-nav tb-cursor-pointer tb-rounded-md tb-px-8 tb-py-4 tb-content-center tb-bg-green-500 hover:tb-bg-green-600 tb-text-white",onBtnClicked:h},{default:t.withCtx((()=>[hi])),_:1})])])])):t.createCommentVNode("",!0)],16),t.unref(m)?(t.openBlock(),t.createElementBlock("div",fi,[t.unref(b)?(t.openBlock(),t.createElementBlock("p",vi," NOTE: Your custom thumbnail will also be applied. ")):(t.openBlock(),t.createElementBlock("p",yi," NOTE: Your custom thumbnail will also be applied when you save changes on YouTube's site. "))])):t.createCommentVNode("",!0)],64))}},Ti=[t.createElementVNode("span",{class:"tb-text-3xl"},"SEO Studio",-1)],wi={class:"tb-flex",style:{position:"relative"}},ki={id:"tb-seo-studio-left-preview",class:"tb-bg-gray-100 tb-px-4 tb-py-5 tb-flex tb-flex-col"},Ei={class:"tb-bg-white tb-flex tb-items-center tb-justify-center tb-shadow-sm tb-mb-2 tb-p-2"},Si=["src"],Bi={class:"tb-mx-auto"},Ci={props:{isUpload:Boolean,videoId:String,startingKeyword:String,kwExplorerBtn:Object,source:String},setup(o){const n=o,i=e.useStore(),{SeoStudioLaunched:a,SeoStudioClosed:r,SeoStudioSaveDraft:l}=M(),{updateOrCreate:s}=B(i),{set:c}=D(i),{setVideoData:d}=function(e){return{setVideoData:async(t,o)=>{const n=await TubeBuddyYouTubeActions.GetCreatorVideosStudio(t,o);TubeBuddyYouTubeActions.GetVideoInfo(t,(t=>{n.channelname="undefined"!==t.channelname&&"string"==typeof t.channelname?t.channelname:null,n.views=void 0!==t.views?t.views:0;const o={videoId:n.videoId,channelname:n.channelname,videoDurationMs:n.videoDurationMs,title:n.title,description:n.description,thumbnails:n.thumbnailDetails.thumbnails,tags:n.tags?n.tags.map((e=>e.value)):[]};e.commit("setMetaData",o),e.commit("setVideo",n),e.commit("setVideoContext",n.videoId)}))}}}(i),{canAccess:u}=S(),p=t.computed((()=>null!=i.getters.getMetaData.title?i.getters.getMetaData.title:"New Optimization")),m=t.computed((()=>null!=i.getters.getMetaData.thumbnails?i.getters.getMetaData.thumbnails[1].url:browser.runtime.getURL("/images/modules/seostudio/seostudio-thumbnail-placeholder.png"))),b=t.computed((()=>i.getters.getCurrentStep||0)),g=t.computed((()=>[At,Zt,wn,Qn,xi][b.value])),h=t.computed((()=>!!i.getters.getMetaData&&i.getters.getMetaData.hideSeoStudio)),v=t.ref(!1);function y(){b.value>0?TBUtilities.Confirm("Would you like to save changes to this optimization before you go?",(async()=>{const e=await s();l({video_id:i.getters.getVideoContext||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),keyword:i.getters.getTargetKeyword,seo_score:i.getters.getOverallSeoScore,tool:"SEO Studio",applied:!0}),TBUtilities.Log(`VUE draft saved. ${e}`),x()}),(()=>{x()})).set({labels:{ok:"Yes",cancel:"No"}}):x()}function x(){r({video_id:n.videoId||null}),TubeBuddyMenu.HideBackground(),jQuery("body").trigger("TBcloseSeoStudioVue")}return t.onMounted((()=>{a({video_id:n.videoId||null,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),keyword:n.startingKeyword||null,tool:"SEO Studio",source_from:i.getters.getSourceFrom||null,used:!0}),TBUtilities.ReportProductExposure("tba-701-seo-studio-free-trial-gate")})),t.onBeforeMount((async()=>{const e=window.location.href.match(/video\/([^/]+)\/edit/i),{isUpload:t,videoId:o,startingKeyword:a,kwExplorerBtn:r,source:l}=n;if(a&&a.length>0){if(!u())return;c(a),i.commit("setCurrentStep",1)}if(t&&i.commit("setIsUpload",t),r&&i.commit("setCallBtn",r),l&&i.commit("setSourceFrom",l),null==e&&!t)return;const s=t?o:e[1];n.videoId=s;const p={description:!0,tags:{all:!0},thumbnailDetails:{all:!0},title:!0,videoId:!0,videoDurationMs:!0};try{d(s,p)}catch(m){TBUtilities.LogError(m)}})),(e,o)=>(t.openBlock(),t.createBlock(f,{id:"seo-studio-vue",link:"seostudio",width:1e3,height:650,"is-draggable":v.value,class:t.normalizeClass({"tb-hidden":t.unref(h)}),onModalClosing:t.withModifiers(y,["stop","prevent"])},t.createSlots({header:t.withCtx((()=>[t.createElementVNode("div",{onMousedown:o[0]||(o[0]=e=>{v.value=!0})},Ti,32)])),content:t.withCtx((()=>[t.createElementVNode("div",wi,[t.createElementVNode("div",ki,[t.createElementVNode("div",Ei,[t.createElementVNode("img",{src:t.unref(m)},null,8,Si)]),t.createElementVNode("div",Bi,t.toDisplayString(t.unref(p)),1)]),t.createElementVNode("div",{id:"tb-seo-studio-main-panel",class:"tb-flex-1 tb-flex tb-flex-wrap",onMousedown:o[1]||(o[1]=e=>{v.value=!1})},[t.unref(b)>0?(t.openBlock(),t.createBlock(X,{key:0,class:"tb-w-full"})):t.createCommentVNode("",!0),(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(g)),{class:t.normalizeClass(["tb-px-4 tb-my-2 tb-bg-white tb-w-3/5",{"tb-w-full":0===t.unref(b)||4===t.unref(b)}])},null,8,["class"])),(t.openBlock(),t.createBlock(t.KeepAlive,null,[t.unref(b)>0&&t.unref(b)<4?(t.openBlock(),t.createBlock(t.unref(Te),{key:0,class:"tb-p-2 tb-ml-5 tb-w-1/3"})):t.createCommentVNode("",!0)],1024))],32)])])),_:2},[t.unref(b)>0?{name:"footer",fn:t.withCtx((()=>[t.createVNode(R)]))}:void 0]),1032,["is-draggable","class","onModalClosing"]))}};function Vi(e,t){return e.length>t?e.substring(0,t)+"...":e}const Ni={class:"tb-flex tb-items-center tb-justify-start"},Ii=["src"],Di={class:"tb-pl-2"},Li={class:"tb-px-5"},zi={props:{comment:Object,filters:Array},emits:["updateFilter"],setup(e,{emit:o}){const n=e,i=t.ref(70),a=t.computed((()=>!n.filters.includes(n.comment.id))),r=t.computed((()=>Vi(n.comment.comment,i.value)));t.computed((()=>Vi(n.comment.title,i.value)));const l=t.computed((()=>n.comment.thumbnail)),s=()=>{o("updateFilter",{id:n.comment.id,add:a.value})};return(e,o)=>(t.openBlock(),t.createElementBlock("div",{class:"tb-py-2 tb-flex tb-items-center tb-justify-between hover:tb-bg-gray-100 tb-cursor-pointer tb-rounded",onClick:s},[t.createElementVNode("div",Ni,[t.createElementVNode("img",{src:t.unref(l),class:"tb-shadow tb-rounded tb-mx-2",style:{width:"50px"}},null,8,Ii),t.createElementVNode("span",Di,t.toDisplayString(t.unref(r)),1)]),t.createElementVNode("div",Li,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>t.isRef(a)?a.value=e:null),type:"checkbox"},null,512),[[t.vModelCheckbox,t.unref(a)]])])]))}},Mi={class:"tb-py-2 tb-flex tb-items-center tb-justify-start hover:tb-bg-green-100 tb-rounded"},Ai=["src"],Ui={class:"tb-pl-2 tb-line-through tb-text-green-500"},Oi={props:{comment:Object},setup(e){const o=e,n=t.ref(75),i=t.computed((()=>Vi(o.comment.comment,n.value))),a=t.computed((()=>o.comment.thumbnail));return(e,o)=>(t.openBlock(),t.createElementBlock("div",Mi,[t.createElementVNode("img",{src:t.unref(a),class:"tb-shadow tb-rounded tb-mx-2",style:{width:"50px"}},null,8,Ai),t.createElementVNode("span",Ui,t.toDisplayString(t.unref(i)),1)]))}},_i={class:"tb-py-1 hover:tb-bg-gray-50 tb-rounded"},Pi={class:"tb-p-1 tb-text-red-400 tb-m-1"},ji=t.createElementVNode("strong",null,"Error Message:",-1),Gi={class:"tb-p-3 tb-mx-1 tb-bg-gray-100 tb-rounded"},Ri=t.createElementVNode("strong",null,"id:",-1),Fi=t.createElementVNode("br",null,null,-1),$i=t.createElementVNode("strong",null,"comment:",-1),Hi={props:{comment:Object},setup:e=>(o,n)=>(t.openBlock(),t.createElementBlock("div",_i,[t.createElementVNode("div",Pi,[ji,t.createTextVNode(" "+t.toDisplayString(e.comment.error),1)]),t.createElementVNode("div",Gi,[Ri,t.createTextVNode(" "+t.toDisplayString(e.comment.id),1),Fi,$i,t.createTextVNode(" "+t.toDisplayString(e.comment.comment),1)])]))};function Qi(){const{track:e}=z(),t=TBGlobal.GetToolById("bulkdeletecomments").name,o=(o,n)=>{null==n.Tool&&(n.Tool=t),n.ModuleType="Vuejs",e(o,n)};return{FeatureUsed:e=>{o("Feature Used",e)},FeatureApplied:e=>{o("Feature Applied",e)}}}const Ki=t.createElementVNode("div",null,[t.createElementVNode("span",{class:"tb-text-3xl"},"Bulk Delete Comments | Beta")],-1),Yi={class:"tb-flex tb-items-center tb-justified-start tb-p-5 tb-pb-0"},Wi=["src"],qi={key:0,class:"tb-text-center tb-p-5"},Ji={key:0,class:"tb-flex tb-items-center tb-justify-center"},Zi=["src"],Xi=t.createElementVNode("div",{class:"tb-m-5 tb-font-bold"},"Finding comments...",-1),ea={key:1},ta=t.createElementVNode("div",{class:"tb-font-bold tb-text-red-500 tb-mb-4"},"Error",-1),oa={key:0,class:"tb-bg-red-50 tb-text-red-500 tb-rounded tb-p-3 tb-mb-1"},na={key:1,class:"tb-bg-red-50 tb-text-red-500 tb-rounded tb-p-3 tb-mb-1"},ia=t.createElementVNode("div",{class:"tb-bg-gray-100 tb-p-3 tb-rounded"}," This tool is still in beta. There may be times where it cannot find all the user's comments. ",-1),aa={key:2},ra={class:"tb-p-2 tb-font-bold tb-text-green-600"},la={key:0,class:"tb-text-sm tb-py-1 tb-mb-2 tb-font-bold tb-flex tb-items-center tb-justify-between"},sa=[t.createElementVNode("div",null,"Comments",-1),t.createElementVNode("div",{class:"tb-pr-5"},"Remove",-1)],ca={class:"tb-bg-gray-100 tb-p-3 tb-rounded"},da={class:"tb-mb-5 tb-overflow-y-auto tb-shadow tb-rounded tb-p-1",style:{"max-height":"150px"}},ua={class:"tb-my-5"},pa=t.createTextVNode("Delete Comments"),ma={key:1,class:"tb-p-5"},ba={class:"tb-font-bold tb-flex tb-items-center tb-justify-center tb-text-green-600"},ga=["src"],ha=t.createElementVNode("div",{class:"tb-m-5 tb-font-bold"},"Deleting Comments...",-1),fa={class:"tb-overflow-y-scroll tb-shadow tb-rounded tb-p-1",style:{"max-height":"100px"}},va={key:0},ya=t.createElementVNode("div",{class:"tb-my-5 tb-font-bold tb-text-center tb-text-red-500"},"Deletion Errors",-1),xa=t.createElementVNode("div",{class:"tb-mb-5 tb-text-lg tb-text-center"},"Please copy the following text below when creating a support ticket",-1),Ta={class:"tb-overflow-y-scroll tb-shadow tb-rounded tb-p-1",style:{"max-height":"100px"}},wa={props:{query:String,avatar:String},setup(e){const o=e,n=t.computed((()=>browser.runtime.getURL("/images/general/loading1.gif"))),i=t.computed((()=>o.avatar)),a=t.ref([]),r=t.ref([]),l=t.ref(!1),s=t.ref(!1),c=t.ref(null),d=t.ref(!1),u=t.ref([]),p=t.ref([]),{CanAccessLevel2Tools:m}=S(),{FeatureUsed:b,FeatureApplied:g}=Qi(),h=async()=>{d.value=!0;const e=r.value.filter((e=>!a.value.includes(e.id)));for(const o of e)try{await TubeBuddyYouTubeActions.DeleteCommentStudio(o.delete),u.value.push(o),await ao(500)}catch(t){o.error=t,p.value.push(o)}g({Action:"Deleted",Data:{UserName:o.query,CommentsDeleted:u.value.length,CommentsDeletedFailed:p.value.length}}),TBUtilities.AddAction({CommentCount:u.value.length},TBUtilities.ActionTypes.BulkDeleteComments_Use,"bulkdeletecomments"),p.value.length||window.location.reload()},v=({id:e,add:t})=>{t?(a.value.push(e),b({Action:"Excluded",Data:{UserName:o.query,CommentId:e}})):a.value=[...a.value.filter((t=>t!==e))]};function y(){b({Action:"Closed"}),TubeBuddyMenu.HideBackground(),jQuery("body").trigger("TBBulkDeleteCommentsClose")}return t.onBeforeMount((()=>{m("use Bulk Delete Comments",TBGlobal.limitation.bulkdeletecomments,"TBBulkDeleteCommentsClose")&&(async()=>{try{const e=await TubeBuddyYouTubeActions.GetCommentsStudio(o.query,200);l.value=!0,r.value=e.commentsList,b({Action:"Search",Data:{UserName:o.query,CommentsFound:r.value.length}})}catch(e){l.value=!0,s.value=!0,c.value=e}})()})),(o,m)=>(t.openBlock(),t.createBlock(f,{id:"bulk-delete-comments",link:"bulkdeletecomments",width:600,height:400,isDraggable:o.dragModalEnabled,onModalClosing:t.withModifiers(y,["stop","prevent"])},{header:t.withCtx((()=>[Ki])),content:t.withCtx((()=>[t.createElementVNode("div",Yi,[t.createElementVNode("img",{src:t.unref(i),class:"tb-rounded-full tb-mr-2",style:{width:"40px",height:"40px"}},null,8,Wi),t.createElementVNode("div",null,t.toDisplayString(e.query),1)]),d.value?(t.openBlock(),t.createElementBlock("div",ma,[t.createElementVNode("div",ba,[t.createElementVNode("img",{src:t.unref(n)},null,8,ga),ha]),t.createElementVNode("div",fa,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(u.value,((e,o)=>(t.openBlock(),t.createBlock(Oi,{key:`deleted-${e.id}`,comment:e,class:t.normalizeClass(["tb-mb-1",{"tb-bg-green-50":o%2==0}])},null,8,["comment","class"])))),128))]),p.value.length?(t.openBlock(),t.createElementBlock("div",va,[ya,xa,t.createElementVNode("div",Ta,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(p.value,(e=>(t.openBlock(),t.createBlock(Hi,{key:`failed-${e.id}`,comment:e,class:"tb-mb-1"},null,8,["comment"])))),128))])])):t.createCommentVNode("",!0)])):(t.openBlock(),t.createElementBlock("div",qi,[l.value?l.value&&s.value?(t.openBlock(),t.createElementBlock("div",ea,[ta,c.value?(t.openBlock(),t.createElementBlock("div",oa,t.toDisplayString(c.value.message),1)):t.createCommentVNode("",!0),c.value?(t.openBlock(),t.createElementBlock("div",na,t.toDisplayString(c.value.response),1)):t.createCommentVNode("",!0),ia])):(t.openBlock(),t.createElementBlock("div",aa,[t.createElementVNode("div",ra,"We found "+t.toDisplayString(r.value.length)+" comments for this user on all your videos.",1),r.value.length?(t.openBlock(),t.createElementBlock("div",la,sa)):t.createCommentVNode("",!0),t.withDirectives(t.createElementVNode("div",ca," This tool is still in beta. There may be times where it cannot find all the user's comments. ",512),[[t.vShow,!r.value.length]]),t.createElementVNode("div",da,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.value,((e,o)=>(t.openBlock(),t.createBlock(zi,{key:e.id,filters:a.value,comment:e,class:t.normalizeClass([{"tb-bg-gray-50":o%2==0},"tb-mb-1"]),onUpdateFilter:v},null,8,["filters","comment","class"])))),128))]),t.withDirectives(t.createElementVNode("div",ua,[t.createVNode(x,{onBtnClicked:h,class:"tb-bg-blue-500 hover:tb-bg-blue-600 tb-text-white tb-mr-2"},{default:t.withCtx((()=>[pa])),_:1})],512),[[t.vShow,r.value.length]])])):(t.openBlock(),t.createElementBlock("div",Ji,[t.createElementVNode("img",{src:t.unref(n)},null,8,Zi),Xi]))]))])),_:1},8,["isDraggable","onModalClosing"]))}};class ka extends r{constructor(){super(),this.match=/channel\/.*\/analytics\/tab-search_insights/,this.name="AnalyticsResearchQuickMenu"}initialize(){let e={};jQuery("body").on("click","div.tb-menu-item-keyword-explorer",(t=>{TubeBuddyMenu.ShowBackgroundSticky(),TubeBuddyKeywordExplorer.Show(e.searchParams.get("q"),null,null,null,null,null,"Analytics Research Quick Menu Module")})),jQuery("body").on("click","div.tb-menu-item-seo-studio",(t=>{TubeBuddyMenu.ShowBackgroundSticky(),jQuery("body").trigger("TBopenSeoStudioVue",[{isUpload:!1,videoId:"",startingKeyword:e.searchParams.get("q"),source:"analytics research quick menu"}]),jQuery("#dialog.ytcp-text-menu").css("display","none")})),jQuery("body").on("click",".search-term-list-row .more-button tp-yt-iron-icon",(t=>{let o=document.querySelector("#dialog #paper-list #text-item-0 a.ytcp-text-menu").getAttribute("href");if(null==o)return;e=new URL(o);const n=jQuery("#dialog #paper-list.ytcp-text-menu");if(n.each((function(e,t){jQuery(t).append(jQuery('<div class="tb-yt-menu-item tb-menu-item-keyword-explorer tb-flex tb-px-12 tb-py-1 tb-bg-transparent tb-cursor-pointer tb-items-center tb-justify-start">\n                <div class="tb-menu-item-icon tb-relative tb-pr-3 tb-pt-2">\n                    <svg id="tb-icon-transparent" viewBox="0 0 587.76 472" xmlns="http://www.w3.org/2000/svg" style="fill:rgb(255, 34, 34);">\n                        <path d="M353,383.06l144.7-86.14L370.52,225V120.44S512.28,91.58,571.25,225s-56.88,212.44-83.64,226.66-108.73,37.63-174,0S220.8,358,220.8,296.92V0H353V383.06" class="a"></path>\n                        <path d="M69.42,0H200.73V465.86H69.42V225H0V120.44H69.42V0" class="a"></path>\n                    </svg>\n                </div>\n                <span class="tb-menu-item-copy tb-ml-4 tb-text-gray-500">\n                    Explore Keyword\n                </span>\n            </div>\n\n            <div class="tb-yt-menu-item tb-menu-item-seo-studio tb-flex tb-px-12 tb-py-1 tb-bg-transparent tb-cursor-pointer tb-items-center tb-justify-start">\n                <div class="tb-menu-item-icon tb-relative tb-pr-3 tb-pt-2">\n                    <svg id="tb-icon-transparent" viewBox="0 0 587.76 472" xmlns="http://www.w3.org/2000/svg" style="fill:rgb(255, 34, 34);">\n                        <path d="M353,383.06l144.7-86.14L370.52,225V120.44S512.28,91.58,571.25,225s-56.88,212.44-83.64,226.66-108.73,37.63-174,0S220.8,358,220.8,296.92V0H353V383.06" class="a"></path>\n                        <path d="M69.42,0H200.73V465.86H69.42V225H0V120.44H69.42V0" class="a"></path>\n                    </svg>\n                </div>\n                <span class="tb-menu-item-copy tb-ml-4 tb-text-gray-500">\n                    Create Optimization\n                </span>\n            </div>'))})),jQuery("html[dark]").length>0){if(jQuery(".tb-menu-item-keyword-explorer").length<=0)return;const e=e=>{jQuery(e).children(".tb-menu-item-copy").css("color","#fff")},t=jQuery(".tb-menu-item-keyword-explorer"),o=jQuery(".tb-menu-item-seo-studio");t.each(((t,o)=>{e(o)})),o.each(((t,o)=>{e(o)}))}}))}}const Ea=browser.runtime.getURL("/images/modules/tutorial/alt01.png"),Sa=browser.runtime.getURL("/images/modules/tutorial/alt02.png"),Ba=browser.runtime.getURL("/images/modules/tutorial/alt03.png"),Ca=browser.runtime.getURL("/images/modules/tutorial/alt04.png"),Va={showBullets:!1,hidePrev:!0,disableInteraction:!0,steps:[{tooltipClass:"tb-tutorial-1",title:"Welcome!",intro:`<div id="tb-tutorial-step1"  class="tb-tutorial-container">\n                        <div id="tutorial-step1-msg" class="tb-font-color-gray tb-font-cbold">\n                            Thank you for installing <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span>\n                        </div>\n                        <div id="tb-tutorial-video">\n                            <iframe width="560" height="315" src="https://www.youtube.com/embed/wXnCBg3IB6E" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n                        </div>\n                        <img src=${browser.runtime.getURL("/images/modules/tutorial/star-banner.png")} alt="banner" width="560" height="72"/>\n                    </div>`},{tooltipClass:"tb-tutorial-2",position:"bottom",element:"#tb-main-menu",intro:`\n            <div id="tb-tutorial-step2" class="tb-tutorial-container">\n                  <div id="tutorial-step2-msg" class="tb-font-color-gray tb-font-cbold">\n                    This is where you can find<br/>the main TubeBuddy menu.\n                  </div>\n                  <div id="tutorial-step2-img">\n                    <img class="buddy-tutorial" alt="buddy alt 1" src=${Ea} width="90" height="90"/>\n                  </div>\n            </div>`},{title:"Tools tab",tooltipClass:"tb-tutorial-3",position:"top",element:"li.tb-main-content-tabs-tools",intro:`<div class="tab-tutorial-container">\n                        <div class="img-msg-container">\n                            <img class="buddy-tutorial" alt="buddy alt 2"  src=${Sa} width="80" height="80"/>\n                            <div id="tutorial-step3-msg" class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                                These are your featured tools! This tab will let you know what's popular and all new products we launch. <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span> has so much to offer you as a creator.\n                            </div>\n                        </div>\n                        <img class="tab-tutorial-img" alt="tools tab"  src=${browser.runtime.getURL("/images/modules/tutorial/yt-tutorial-features.png")} width="390.4" height="274.5"/>\n                    </div>`},{title:"News tab",tooltipClass:"tb-tutorial-4",position:"bottom",element:"li.tb-main-content-tabs-industrynews",intro:`<div class="tab-tutorial-container">\n                        <div class="img-msg-container">\n                            <img class="buddy-tutorial" alt="buddy alt 1" src=${Ea} width="80" height="80"/>\n                            <div id="tutorial-step4-msg" class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                              This is your one-stop shop for content creator news. Stay up to date with breaking news from YouTube and beyond.\n                            </div>\n                        </div>\n                        <img class="tab-tutorial-img" alt="news tab" src=${browser.runtime.getURL("/images/modules/tutorial/yt-tutorial-news.png")} width="390.5" height="274.7"/>\n                    </div>`},{title:"Milestones tab",tooltipClass:"tb-tutorial-5",position:"bottom",element:"li.tb-main-content-tabs-milestones",intro:`<div class="tab-tutorial-container">\n                        <div class="img-msg-container">\n                            <img class="buddy-tutorial" alt="buddy alt 3" src=${Ba} width="80" height="80"/>\n                            <div id="tutorial-step5-msg" class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                              Celebrate your channel milestones with <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span>! Toot your own horn and show the world how your channel is growing\n                            </div>\n                        </div>\n                        <img class="tab-tutorial-img" alt="milestones tab" src=${browser.runtime.getURL("/images/modules/tutorial/yt-tutorial-milestones.png")} width="390.5" height="274.7"/>\n                    </div>`},{title:"Quick Links",tooltipClass:"tb-tutorial-6",position:"left",element:"div.tb-main-menu-quick.tb-menu-signed-in",intro:`<div class="img-msg-container-sm">\n                         <div>\n                            <img class="buddy-tutorial" alt="buddy alt 3" src=${Ba} width="80" height="80"/>\n                        </div>\n                        <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                            Save time and use these quick links to jump to the tools you want to use!\n                        </div>\n                    </div>`},{title:"Extension Tools",tooltipClass:"tb-tutorial-7",element:"#tb-extension-tools-tab",position:"left",intro:`<div class="img-msg-container-sm">\n                         <div>\n                            <img class="buddy-tutorial" alt="buddy alt 4" src=${Ca} width="80" height="80"/>\n                        </div>\n                        <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                            Use these links to access tools that will help you optimize your videos to more effectively reach and grow your audience.\n                        </div>\n                    </div>`},{title:"Want to know more?",tooltipClass:"tb-tutorial-8",position:"left",intro:`<div class="tutorial-playlist-container">\n                         <div class="tb-font-color-gray tb-font-cbold tutorial-playlist-msg ">\n                            Here are a few more resources to help you get started: \n                         </div>\n                         <a class="img-playlist-container" target="_blank" href="https://youtu.be/wXnCBg3IB6E">\n                            <div>\n                                <img class="tutorial-thumbnail-img" alt="quick links thumbnail" src=${browser.runtime.getURL("/images/modules/tutorial/thumbnail1.jpg")} width="128" height="72"/>\n                            </div>\n                            <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                                <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span> Onboarding: Quick Links (1 of 4) with Daniel Batal\n                            </div>\n                         </a>\n                            <a class="img-playlist-container" target="_blank" href="https://youtu.be/evxNQYWOWBY">\n                            <div>\n                                <img class="tutorial-thumbnail-img" alt="extension tools thumbnail" src=${browser.runtime.getURL("/images/modules/tutorial/thumbnail2.jpg")} width="128" height="72"/>\n                            </div>\n                            <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                                <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span> Onboarding: Extension Tools (2 of 4) with Daniel Batal\n                            </div>\n                         </a>\n                           <a class="img-playlist-container" target="_blank" href="https://youtu.be/lQRB3iLtMag">\n                            <div>\n                                <img class="tutorial-thumbnail-img" alt="web tools thumbnail" src=${browser.runtime.getURL("/images/modules/tutorial/thumbnail3.jpg")} width="128" height="72"/>\n                            </div>\n                            <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                                <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span> Onboarding: Web Tools (3 of 4) with Daniel Batal\n                            </div>\n                         </a>\n                            <a class="img-playlist-container" target="_blank" href="https://youtu.be/NlyLjAVQ97g">\n                            <div>\n                                <img class="tutorial-thumbnail-img" alt="account and support thumbnail" src=${browser.runtime.getURL("/images/modules/tutorial/thumbnail4.jpg")} width="128" height="72"/>\n                            </div>\n                            <div class="tb-font-color-gray tb-font-cbold tab-tutorial-msg">\n                                <span class="tb-font-color-red tb-font-cbold">TubeBuddy</span> Onboarding: Account and Support (4 of 4) with Daniel Batal\n                            </div>\n                         </a>\n                    </div>`}]};const{FeatureUsed:Na}=function(){const{track:e}=z(),t=(t,o)=>{null==o.Tool&&(o.Tool="Onboarding Tutorial"),o.ModuleType="Vuejs",e(t,o)};return{FeatureUsed:e=>{t("Feature Used",e)},FeatureApplied:e=>{t("Feature Applied",e)}}}(),Ia=["Tutorial Welcome Screen","Main Menu Button","Tools Tab","News Tab","Milestones Tab","Quick Links","Extension Tools","Recommended Videos"];function Da(e){switch(browser.storage.sync.set({step:e._currentStep}),Na({Data:{Step:e._currentStep,Action:`${e._direction}`,Title:`${Ia[e._currentStep]}`}}),e._currentStep){case 2:"forward"===e._direction&&jQuery("#tb-main-menu").trigger("click"),jQuery("#tb-tools-tab").trigger("click");break;case 3:jQuery("#tb-industry-news-tab").trigger("click");break;case 4:jQuery("#tb-milestones-tab").trigger("click");break;case 7:jQuery("#tb-main-menu").trigger("click")}"backward"===e._direction&&1===e._currentStep&&jQuery("#tb-main-menu").trigger("click"),"backward"===e._direction&&6===e._currentStep&&jQuery("#tb-main-menu").trigger("click")}async function La(){const{step:e}=await browser.storage.sync.get("step"),t=e<7?"closed":"finished",o=TBGlobal.CurrentChannelId();TBUtilities.ReportProductEvent("Onboarding Tutorial Closed",{timestamp:(new Date).toISOString(),channel_id:o,screen_tab:e,tool:"Onboarding Tutorial",applied:!0}),Na({Data:{Step:e,Action:t,Title:`${Ia[e]}`}}),browser.storage.sync.set({tutorialIsFinished:!0});"Starter"===TBGlobal.Profile().LicenseName&&(TBGlobal.ShowUpgradePage("Tutorial finished open","Tutorial",void 0,void 0,"trialModal"),TBUtilities.ReportProductEvent("Done Button Click From Onboarding Tutorial",{tool:"Onboarding Tutorial",timestamp:(new Date).toISOString(),channel_id:o}))}class za extends a{constructor(){super(),this.match=null,this.type="OnLoad"}create(){}}const Ma={class:"tb-mt-5"},Aa={class:"tb-border tb-border-gray-300 tb-border-line tb-border-solid tb-rounded-lg"};const Ua=v({},[["render",function(e,o){return t.openBlock(),t.createElementBlock("div",Ma,[t.createElementVNode("div",Aa,[t.createElementVNode("header",null,[t.renderSlot(e.$slots,"header")]),t.createElementVNode("main",null,[t.renderSlot(e.$slots,"default")]),t.createElementVNode("footer",null,[t.renderSlot(e.$slots,"footer")])])])}]]),Oa=["href"],_a=["src","title"],Pa={props:{title:{type:String,default:"TubeBuddy Setting"}},setup(e){const o=e,n=t.computed((()=>browser.extension.getURL("images/icons/settings.png"))),i=t.computed((()=>o.title)),a=t.computed((()=>`${TBGlobal.host}/channel/preferences/${TBGlobal.CurrentChannelId()}`));return(e,o)=>(t.openBlock(),t.createElementBlock("a",{href:t.unref(a),target:"_blank",class:"tb-flex tb-items-center"},[t.createElementVNode("img",{src:t.unref(n),title:t.unref(i),class:"tb-opacity-50"},null,8,_a)],8,Oa))}},ja=["href"],Ga=["src","title","alt"],Ra={props:{title:{type:String,default:"Help?"},linkTo:{type:String}},setup(e){const o=e,n=t.computed((()=>browser.extension.getURL("images/icons/question.png"))),i=t.computed((()=>o.title)),a=t.computed((()=>o.linkTo?`${TBGlobal.host}/tools?tool=${o.linkTo}`:"#"));return(e,o)=>(t.openBlock(),t.createElementBlock("a",{target:"_blank",href:t.unref(a),class:"tb-flex tb-items-center"},[t.createElementVNode("img",{src:t.unref(n),title:t.unref(i),class:"tb-opacity-50",alt:t.unref(i),style:{width:"17px",height:"17px"}},null,8,Ga)],8,ja))}},Fa=[t.createElementVNode("path",{d:"M353,383.06l144.7-86.14L370.52,225V120.44S512.28,91.58,571.25,225s-56.88,212.44-83.64,226.66-108.73,37.63-174,0S220.8,358,220.8,296.92V0H353V383.06"},null,-1),t.createElementVNode("path",{d:"M69.42,0H200.73V465.86H69.42V225H0V120.44H69.42V0"},null,-1)],$a={props:{width:{type:Number,default:14},heigth:{type:Number,default:14}},setup(e){const o=e,n=t.computed((()=>`width:${o.width}px;height:${o.height}px`));return(e,o)=>(t.openBlock(),t.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 587.76 472",fill:"#df2726","fill-rule":"evenodd",style:t.normalizeStyle(t.unref(n))},Fa,4))}},Ha={key:0,class:"tb-text-green-600 tb-flex tb-items-center tb-justify-between"},Qa=[t.createElementVNode("i",{class:"material-icons tb-demonetization-studio-no-problems-icon tb-font-size18"},"check",-1),t.createElementVNode("span",{class:"tb-mx-1"},"No warnings!",-1)],Ka={key:1,class:"tb-text-yellow-500 tb-flex tb-items-center tb-justify-between"},Ya=[t.createElementVNode("i",{class:"material-icons tb-font-size18"},"warning",-1),t.createElementVNode("span",{class:"tb-mx-1"},"Warning!",-1)],Wa={props:{status:{type:String,default:"ok"}},setup(e){const o=e,n=t.computed((()=>"ok"==o.status));return(e,o)=>(t.openBlock(),t.createElementBlock("div",null,[t.unref(n)?(t.openBlock(),t.createElementBlock("div",Ha,Qa)):(t.openBlock(),t.createElementBlock("div",Ka,Ya))]))}};const qa={class:"tb-flex tb-justify-between tb-items-center tb-p-4"},Ja={class:"tb-flex tb-items-center"},Za=t.createElementVNode("span",{class:"tb-opacity-50"},"Demonetization Audit",-1),Xa={class:"tb-flex tb-justify-between tb-items-center"},er={class:"tb-flex tb-items-center tb-justify-between"},tr={key:0},or=t.createElementVNode("div",{class:"tb-font-bold tb-bg-gray-400 tb-p-4"}," The following words may potentially trigger demonetization ",-1),nr=t.createElementVNode("hr",null,null,-1),ir={class:"tb-p-4"},ar={key:0},rr=t.createElementVNode("h3",{class:"tb-flex tb-items-center"},[t.createElementVNode("i",{class:"material-icons tb-text-red-500 tb-mr-3"},"error_outline"),t.createTextVNode(" Title ")],-1),lr={class:"tb-p-2 tb-pl-10 tb-flex tb-flex-wrap"},sr={class:"tb-flex tb-flex-wrap tb-text-red-600 tb-justify-start tb-items-center"},cr=t.createElementVNode("span",{class:"tb-font-bold tb-mr-3"},"Demonetization Warning!",-1),dr={key:1},ur=t.createElementVNode("h3",{class:"tb-flex tb-items-center"},[t.createElementVNode("i",{class:"material-icons tb-text-red-500 tb-mr-3"},"error_outline"),t.createTextVNode(" Description ")],-1),pr={class:"tb-p-2 tb-pl-10 tb-flex tb-flex-wrap"},mr={class:"tb-flex tb-flex-wrap tb-text-red-600 tb-justify-start tb-items-center"},br=t.createElementVNode("span",{class:"tb-font-bold tb-mr-3"},"Demonetization Warning!",-1),gr={key:2},hr=t.createElementVNode("h3",{class:"tb-flex tb-items-center"},[t.createElementVNode("i",{class:"material-icons tb-text-red-500 tb-mr-3"},"error_outline"),t.createTextVNode(" Tags ")],-1),fr={class:"tb-p-2 tb-pl-10 tb-flex tb-flex-wrap"},vr={setup(e){!function(){const{track:e}=z(),t=TBGlobal.GetToolById("demonetizationaudit").name,o=(o,n)=>{const{Data:{Title:i,Description:a,Tags:r,...l}}=n,s=l;let c=Object.keys(n.Data).reduce(((e,t)=>(n.Data[t].Warnings&&(e.Data[t]={Warnings:n.Data[t].Warnings}),e)),{Data:{...s}});c.Tool=t,c.ModuleType="Vuejs";try{e(o,c)}catch(d){TBUtilities.Log(d)}}}();const o=t.ref(""),n=t.ref(""),i=t.ref([]),a=t.ref([]),r=t.computed((()=>a.value.filter((e=>null!=o.value.match(`\\b${e}\\b`))).reverse())),l=t.computed((()=>a.value.filter((e=>null!=n.value.match(`\\b${e}\\b`))).reverse())),s=t.computed((()=>a.value.filter((e=>null!=i.value.join(" ").match(`\\b${e}\\b`))).reverse())),c=t.computed((()=>r.value.length+l.value.length+s.value.length>0)),d=()=>{o.value=jQuery(".title #textbox").text().trim()},u=()=>{n.value=jQuery(".description #textbox").text().trim()},p=()=>{i.value=[...jQuery("ytcp-chip-bar#chip-bar ytcp-chip").find("div.ytcp-chip").map(((e,t)=>t.innerText))]},m=()=>{d(),u(),p()};return t.onBeforeMount((()=>{a.value=TBUtilities.GetCensoredWords()})),t.onMounted((()=>{m(),jQuery(document).on("click","ytcp-button#save",m),jQuery(document).on("keyup",".title #textbox",d),jQuery(document).on("keyup",".description textarea, .description #textbox",u),jQuery(document).on("click","#tags-container .delete-icon",p),jQuery(document).on("change keyup keypress paste",".text-input",p),jQuery(document).on("focusout paste",".text-input",p),jQuery(document).on("click",".remove-defaults",p),jQuery('ytcp-form-input-container#container #child-input div[slot="body"]').append('<div id="title-teleport" class="tb-absolute tb-bottom-2 tb-left-0 tb-ml-2 tb-opacity-75"></div>'),jQuery('div#description-container ytcp-form-input-container#container #child-input div[slot="body"]').append('<div id="desc-teleport" class="tb-absolute tb-bottom-2 tb-left-0 tb-ml-2 tb-opacity-75"></div>')})),(e,o)=>(t.openBlock(),t.createBlock(Ua,null,{header:t.withCtx((()=>[t.createElementVNode("div",qa,[t.createElementVNode("div",Ja,[t.createVNode($a,{class:"tb-mr-3"}),Za]),t.createElementVNode("div",Xa,[t.createVNode(Wa,{status:t.unref(c)?"warning":"ok",class:"tb-mx-4"},null,8,["status"]),t.createElementVNode("div",er,[t.createVNode(Pa,{title:"Demonetization Audit Settings",class:"tb-mr-2"}),t.createVNode(Ra,{"link-to":"demonetizationaudit"})])])])])),default:t.withCtx((()=>[t.unref(c)?(t.openBlock(),t.createElementBlock("div",tr,[or,nr,t.createElementVNode("div",ir,[t.unref(r).length?(t.openBlock(),t.createElementBlock("div",ar,[rr,t.createElementVNode("div",lr,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(r),((e,o)=>(t.openBlock(),t.createElementBlock("span",{key:`title-${o}`,class:"tb-px-2 tb-py-1 tb-bg-red-600 tb-text-white tb-rounded tb-m-1"},t.toDisplayString(e),1)))),128))]),(t.openBlock(),t.createBlock(t.Teleport,{to:"#title-teleport"},[t.createElementVNode("div",sr,[t.createVNode($a,{class:"tb-mx-3"}),cr,(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(r),((e,o)=>(t.openBlock(),t.createElementBlock("span",{key:`title-${o}`,class:"tb-px-2 tb-py-1 tb-mx-1 tb-bg-gradient-to-b tb-from-white tb-to-gray-100 tb-shadow tb-rounded-lg"},t.toDisplayString(e),1)))),128))])]))])):t.createCommentVNode("",!0),t.unref(l).length?(t.openBlock(),t.createElementBlock("div",dr,[ur,t.createElementVNode("div",pr,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(l),((e,o)=>(t.openBlock(),t.createElementBlock("span",{key:`title-${o}`,class:"tb-px-2 tb-py-1 tb-bg-red-600 tb-text-white tb-rounded tb-m-1"},t.toDisplayString(e),1)))),128))]),(t.openBlock(),t.createBlock(t.Teleport,{to:"#desc-teleport"},[t.createElementVNode("div",mr,[t.createVNode($a,{class:"tb-mx-3"}),br,(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(l),((e,o)=>(t.openBlock(),t.createElementBlock("span",{key:`title-${o}`,class:"tb-px-2 tb-py-1 tb-mx-1 tb-bg-gradient-to-b tb-from-white tb-to-gray-100 tb-shadow tb-rounded-lg"},t.toDisplayString(e),1)))),128))])]))])):t.createCommentVNode("",!0),t.unref(s).length?(t.openBlock(),t.createElementBlock("div",gr,[hr,t.createElementVNode("div",fr,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(s),((e,o)=>(t.openBlock(),t.createElementBlock("span",{key:`title-${o}`,class:"tb-px-2 tb-py-1 tb-bg-red-600 tb-text-white tb-rounded tb-m-1"},t.toDisplayString(e),1)))),128))])])):t.createCommentVNode("",!0)])])):t.createCommentVNode("",!0)])),_:1}))}};function yr(e){const{track:t}=z(),o=(o,n)=>{n.video_id=e?e.getters.getVideoId:null,t(o,n)};return{ChapterEditorLaunched:e=>{t("Chapter Editor Launched",e)},ChapterEditorClosed:()=>{o("Chapter Editor Closed",{used:!0,channel_id:TBGlobal.CurrentChannelId(),tool:"Chapter Editor"})},ChapterEditorApplied:async t=>{const n=e?e.getters.getVideoId:null,i=e.getters.getVideoChaptersAutoSort;let a={};a.chapter_count=i.length,a.channel_id=TBGlobal.CurrentChannelId(),a.applied=!0,a.tool="Chapter Editor","applied"===t?o("Chapter Editor Applied To Video",a):"copied"===t&&o("Chapter Editor Copied To Clipboard",a);const r={videoId:n,checkDate:moment().add("days",30)},l="tb-"+TBGlobal.CurrentChannelId()+"-ch-ed-30day";TBExtension.GetDbValue(l,((e,t)=>{if(t){const o=JSON.parse(t);o.push(r),TBExtension.SetDbValue(e,JSON.stringify(o),null),TBUtilities.Log("Chapter Editor Updated VideoIds to fetch: "+JSON.stringify(o))}else TBExtension.SetDbValue(e,JSON.stringify([r]),null),TBUtilities.Log("Chapter Editor Create list of VideoIds to fetch: "+JSON.stringify([r]))}))},ChapterEditorStatsCheck:e=>{TBExtension.GetDbValue(`tb-${e}-ch-ed-30day`,(async(e,t)=>{if(!t)return;const o=JSON.parse(t);if(o.length<1)return;const n=o.filter((e=>moment(e.checkDate).isSameOrBefore(moment())));if(n.length<1)return;TBUtilities.Log("Chapter Editor - fetching data for: "+JSON.stringify(n));const i=o.filter((e=>!n.map((e=>e.videoId)).includes(e.videoId)));TBExtension.SetDbValue(e,JSON.stringify(i)),TBUtilities.Log("Chapter Editor - removing fetched videoIds from list: "+JSON.stringify(i))}))}}}function xr(e){const t=()=>e.getters.getVideoChaptersAutoSort.length>2,o=()=>{const t=e.getters.getVideoChaptersAutoSort;return t.filter((e=>e.title&&e.title.length>0)).length===t.length},n=()=>0===e.getters.getVideoChaptersAutoSort.filter((e=>!e.isValidLength)).length;return{atLeastThreeChapters:t,allChaptersHaveTitles:o,allChaptersAtLeastTenSecondsLong:n,allChaptersAtLeastTenSecondsLongCount:()=>e.getters.getVideoChaptersAutoSort.filter((e=>e.isValidLength)).length,allChaptersHaveTitlesCount:()=>e.getters.getVideoChaptersAutoSort.filter((e=>e.title&&e.title.length>0)).length,runAllValidationChecks:()=>({atLeastThreeCheck:t(),titlesCheck:o(),lengthCheck:n()})}}function Tr(){const e=e=>{const t=moment.duration(e,"seconds");return{hours:Math.floor(t.asHours()),minutes:t.minutes(),seconds:t.seconds()}};return{getFormattedTimestampString:t=>{const o=e(t),n=e=>e<10?"0"+e:e;return n(o.hours)+":"+n(o.minutes)+":"+n(o.seconds)},getTimeInSeconds:e=>{const t=e.match(/\d{1,2}(?::[0-5]\d){1,2}/gm)[0].split(":");return t?3==t.length?60*parseInt(t[0])*60+60*parseInt(t[1])+parseInt(t[2]):2==t.length?60*parseInt(t[0])+parseInt(t[1]):void 0:NaN},getTimestampParts:e}}const wr={id:"tb-video-player-component"},kr={setup(o){const n=e.useStore(),i=t.computed((()=>n.getters.getVideoId)),a=t.ref(null);let r,l=!1,s=!1;const c=t.computed((()=>n.getters.getVideoCheckInterval)),d=t.computed((()=>n.getters.getSelectedChapter));function u(e){e.target.playVideo();let t=-1,o=r.getCurrentTime();const i=()=>{-1!=t&&(r.getPlayerState()!=YT.PlayerState.PLAYING&&r.getPlayerState()!=YT.PlayerState.PAUSED||(o=r.getCurrentTime(),o!==n.getters.getProgressBarCurrentTimestamp&&(n.commit("setProgressBarCurrentTimestamp",o),d.value&&Math.floor(d.value.timestampSeconds)!=Math.floor(o)&&n.commit("setSelectedChapterId",null)))),t=r.getCurrentTime(),setTimeout(i,c.value)};setTimeout(i,c.value)}function p(e){e.data!=YT.PlayerState.PLAYING||l||(l=!0),2===r.getPlayerState()&&(n.commit("setCurrentTimestamp",r.getCurrentTime()),s=!0)}return t.watch((()=>n.getters.getCurrentTimestamp),((e,t)=>{e!=t&&1!=s?r.seekTo(n.getters.getCurrentTimestamp,!0):s=!1})),t.onMounted((()=>{r=new YT.Player("player-container",{height:"390",width:"640",videoId:i.value,playerVars:{playsinline:1,rel:0,origin:window.location.origin},events:{onReady:u,onStateChange:p}}),n.commit("setPlayer",r)})),(e,o)=>(t.openBlock(),t.createElementBlock("div",wr,[t.createElementVNode("div",{id:"player-container",ref_key:"playerContainer",ref:a},null,512)]))}},Er=[t.createElementVNode("div",{class:"body"},null,-1),t.createElementVNode("svg",{class:"body-point",height:"3",width:"7"},[t.createElementVNode("polygon",{points:"0,0 7,0 3,3"}),t.createTextVNode(" Sorry, your browser does not support inline SVG. ")],-1)],Sr={props:{chapter:Object,styling:String},setup(o){const n=e.useStore(),i=t.computed((()=>n.getters.getVideoChaptersAutoSort)),a=t.computed((()=>n.getters.getSelectedChapterId)),r=t.computed((()=>{const e=i.value.filter((e=>e.id===a.value))[0];return!(e&&e.length>0)||e.isValidLength}));function l(e){var t;n.commit("setSelectedChapterId",null),n.getters.getPlayer.pauseVideo(),n.getters.getPlayer.seekTo(e.timestampSeconds),a.value!==e.id&&r.value&&(t=e.timestampSeconds,n.commit("setCurrentTimestamp",t),n.commit("setSelectedChapterId",e.id))}return(e,n)=>(t.openBlock(),t.createElementBlock("div",{class:"tb-chapter-marker",onClick:n[0]||(n[0]=e=>l(o.chapter)),style:t.normalizeStyle(o.styling)},Er,4))}},Br={class:"tb-relative"},Cr={class:"tb-tooltip-vue"},Vr={props:{text:{type:String,required:!0},position:{type:String,default:"bottom"},showTooltip:{type:Boolean,default:!1}},setup(e){const o=e,n=t.ref(!1),i=t.ref(null),a=t.ref(null);function r(){if(!a.value)return;const e=a.value.children[0],t=e.getBoundingClientRect().height>0?e.getBoundingClientRect():e.children[0].getBoundingClientRect(),n=i.value.getBoundingClientRect();let r=0,s=0;"bottom"===o.position?(r=t.height+5,s=0-(n.width/2-t.width/2)):"top"===o.position?(r=0-n.height-10,s=0-(n.width/2-t.width/2)):"right"===o.position?(r=t.height/2-n.height/2,s=t.width+5):"left"===o.position&&(r=t.height/2-n.height/2,s=0-n.width-10);let c=l(e);return r-=c?c.scrollTop:0,`top:${r}px;left:${s}px;width:${n.width}px;`}function l(e){try{if(null==e)return null;const t=window.getComputedStyle(e).overflowY;return"visible"!==t&&"hidden"!==t&&e.scrollHeight>e.clientHeight?e:l(e.parentNode)}catch{return null}}return(o,l)=>(t.openBlock(),t.createElementBlock("span",Br,[t.createVNode(t.Transition,null,{default:t.withCtx((()=>[n.value&&e.text.length>0?(t.openBlock(),t.createElementBlock("div",{key:0,class:"tb-absolute tb-z-10",style:t.normalizeStyle(r())},[t.createElementVNode("div",{class:t.normalizeClass(["tb-flex tb-justify-center tb-items-center tb-fixed",{"tb-flex-wrap tb-flex-col":"bottom"==e.position||"top"==e.position}])},["bottom"===e.position||"right"===e.position?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["tb-flex tb-justify-center tb-items-center",{"tb-w-full tb-tooltip-arrow-up":"bottom"===e.position,"tb-h-full tb-tooltip-arrow-left":"right"===e.position}])},null,2)):t.createCommentVNode("",!0),t.createElementVNode("div",Cr,t.toDisplayString(e.text),1),"top"===e.position||"left"===e.position?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["tb-flex tb-justify-center tb-items-center",{"tb-w-full tb-tooltip-arrow-down":"top"===e.position,"tb-h-full tb-tooltip-arrow-right":"left"===e.position}])},null,2)):t.createCommentVNode("",!0)],2)],4)):t.createCommentVNode("",!0)])),_:1}),t.createElementVNode("span",{onMouseenter:l[0]||(l[0]=e=>n.value=!0),onMouseleave:l[1]||(l[1]=e=>n.value=!1),ref_key:"slotContainer",ref:a,class:"tb-tooltip-slot-container"},[t.renderSlot(o.$slots,"default")],544),t.createElementVNode("div",{ref_key:"tooltipEl",ref:i,class:t.normalizeClass(["tb-tooltip-vue tb-invisible tb-fixed",{"tb-my-1":"top"===e.position||"bottom"===e.position,"tb-mx-1":"left"===e.position||"right"===e.position}])},t.toDisplayString(e.text),3)]))}},Nr=["tb-inline"],Ir=["id","disabled"],Dr=t.createElementVNode("span",{class:"timestamp-divider"},":",-1),Lr=["id","disabled"],zr=t.createElementVNode("span",{class:"timestamp-divider"},":",-1),Mr=["id","disabled"],Ar={props:{isDisabled:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!0},seconds:{type:Number,default:0},chapterId:{type:String,default:""},isActive:{type:Boolean,default:!1},isInline:{type:Boolean,default:!1}},emits:"updated",setup(e,{emit:o}){const n=e,{getTimestampParts:i,getFormattedTimestampString:a}=Tr(),r=t.computed((()=>i(n.seconds))),l=t.ref(r.value.hours),s=t.ref(r.value.minutes),c=t.ref(r.value.seconds);let d;function u(){clearTimeout(d),o("focused")}function p(e=500){clearTimeout(d),d=setTimeout((()=>{o("updated",v.value)}),e)}const m=t.computed((()=>n.isDisabled?"tb-timestamp-disabled":n.isActive&&void setTimeout((()=>document.activeElement.id.indexOf(n.chapterId)>-1),500)?"tb-timestamp-active":n.isInvalid?"tb-border-red-500":void 0)),b=t.computed({get:()=>x(r.value.hours),set(e){l.value=y(e),p()}}),g=t.computed({get:()=>x(r.value.minutes),set(e){s.value=y(e),p()}}),h=t.computed({get:()=>x(r.value.seconds),set(e){c.value=y(e),p()}}),f=t.computed((()=>60*parseInt(l.value)*60+60*parseInt(s.value)+parseInt(c.value))),v=t.computed((()=>({timestampFormatted:a(f.value),timestampSeconds:f.value})));function y(e){const t=parseInt(e),o=t&&!Number.isNaN(t)?t:0;return o>59?59:o}function x(e){const t=parseInt(e);let o=t&&!Number.isNaN(t)?t:0;return t>59?o=59:t<10&&(o="0"+t),o}return(o,n)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["tb-timestamp-input-container tb-rounded-md",t.unref(m)]),"tb-inline":e.isInline},[t.withDirectives(t.createElementVNode("input",{id:`${e.chapterId}-hh`,"onUpdate:modelValue":n[0]||(n[0]=e=>t.isRef(b)?b.value=e:null),type:"text",maxlength:"2",disabled:e.isDisabled,class:t.normalizeClass({"tb-cursor-not-allowed":e.isDisabled}),onFocus:u,onBlur:p},null,42,Ir),[[t.vModelText,t.unref(b),void 0,{lazy:!0}]]),Dr,t.withDirectives(t.createElementVNode("input",{id:`${e.chapterId}-mm`,"onUpdate:modelValue":n[1]||(n[1]=e=>t.isRef(g)?g.value=e:null),type:"text",maxlength:"2",disabled:e.isDisabled,class:t.normalizeClass({"tb-cursor-not-allowed":e.isDisabled}),onFocus:u,onBlur:p},null,42,Lr),[[t.vModelText,t.unref(g),void 0,{lazy:!0}]]),zr,t.withDirectives(t.createElementVNode("input",{id:`${e.chapterId}-ss`,"onUpdate:modelValue":n[2]||(n[2]=e=>t.isRef(h)?h.value=e:null),type:"text",maxlength:"2",disabled:e.isDisabled,class:t.normalizeClass({"tb-cursor-not-allowed":e.isDisabled}),onFocus:u,onBlur:p},null,42,Mr),[[t.vModelText,t.unref(h),void 0,{lazy:!0}]])],10,Nr))}},Ur={class:"tb-flex tb-items-center tb-justify-center tb-w-1/6"},Or={class:"tb-inline-editor-chapter-number"},_r={class:"tb-w-9/12 tb-mr-3"},Pr={setup(o){const n=e.useStore(),i=t.computed((()=>n.getters.getVideoChaptersAutoSort)),a=t.computed((()=>n.getters.getSelectedChapterId)),r=t.computed((()=>null===a.value?"":i.value.filter((e=>e.id===a.value))[0])),l=t.computed((()=>i.value.findIndex((e=>e.id===a.value))));function s(e,t){var o;o=t.timestampSeconds,n.commit("setCurrentTimestamp",o);const i=Object.assign(e,t);n.commit("updateVideoChapter",i)}function c(){n.commit("updateVideoChapter",r.value)}function d(){n.commit("setSelectedChapterId",null)}return(e,o)=>(t.openBlock(),t.createElementBlock("div",{class:"tb-inline-editor-container",style:t.normalizeStyle(0==l.value?"right:-110px;":"right: 0px;")},[t.createElementVNode("div",Ur,[t.createElementVNode("div",Or,t.toDisplayString(t.unref(l)+1),1)]),t.createElementVNode("div",_r,[t.withDirectives(t.createElementVNode("input",{type:"text",name:"chapter title",class:"tb-inline-chapter-title tb-mb-2","onUpdate:modelValue":o[0]||(o[0]=e=>t.unref(r).title=e),onInput:c,placeholder:"Insert chapter title",style:{}},null,544),[[t.vModelText,t.unref(r).title]]),t.createVNode(Ar,{isDisabled:0===t.unref(l),isActive:"true",seconds:t.unref(r).timestampSeconds,chapterId:t.unref(r).id,isInline:"true",onUpdated:o[1]||(o[1]=e=>s(t.unref(r),e))},null,8,["isDisabled","seconds","chapterId"])]),t.createElementVNode("div",{class:"tb-mr-1 tb-mt-1"},[t.createElementVNode("i",{class:"material-icons tb-icon-white tb-close-modal",onClick:d},"close")])],4))}},jr={class:"tb-chapter-editor-progress-bar-container"},Gr={class:"tb-chapter-editor-progress-bar"},Rr=t.createElementVNode("div",{id:"tb-progress-bar-elapsed",style:{width:"0%"}},null,-1),Fr={id:"tb-chapter-editor-playhead",style:{left:"-6px"}},$r=t.createElementVNode("div",{class:"body"},null,-1),Hr=t.createElementVNode("svg",{class:"body-point",height:"5",width:"13"},[t.createElementVNode("polygon",{points:"0,0 13,0 6,5"}),t.createTextVNode(" Sorry, your browser does not support inline SVG. ")],-1),Qr={setup(o){const n=e.useStore(),{getFormattedTimestampString:i}=Tr(),{CanAccessLevel1Tools:a}=S(),r=t.computed((()=>n.getters.getVideoChaptersAutoSort)),l=n.getters.getVideo.videoDurationMs,s=t.ref(1),c=t.computed((()=>n.getters.getSelectedChapterId)),d=(e,t)=>e/t*100-.5,u=t.ref(-1),p=t.ref(0);let m=!1,b=0,g=0,h=0,f=t.ref(!1);function v(e){let t=(e=>Math.floor(e/36e5%24))(e),o=(e=>Math.floor(e/6e4%60))(e),n=(e=>Math.floor(e/1e3%60))(e);return(e=>60*e*60)(t)+(e=>60*e)(o)+n}return t.watch((()=>n.getters.getProgressBarCurrentTimestamp),((e,t)=>{e!==t&&(!1===m?(m=!0,b=performance.now()):(g=performance.now(),m=!1,h=Math.floor(Math.abs(g-b)))),s.value=n.getters.getPlayer.getPlayerState(),f.value=function(e){let t=!1;for(let o=0;o<r.value.length;o++)if(e>r.value[o].timestampSeconds-10&&e<r.value[o].timestampSeconds+10){t=!0;break}return t}(e);let o=u.value;p.value=v(l),u.value=d(e,p.value)-.5,o!==u.value&&(document.getElementById("tb-chapter-editor-playhead").animate([{left:o.toString()+"%"},{left:u.value.toString()+"%"}],{duration:0===h||e>t+1||e<t?500:h,iterations:1,easing:"linear",fill:"forwards"}),document.getElementById("tb-progress-bar-elapsed").animate([{width:(o+1).toString()+"%"},{width:(u.value+1).toString()+"%"}],{duration:0===h||e>t+1||e<t?500:h,iterations:1,easing:"linear",fill:"forwards"}))})),(e,o)=>(t.openBlock(),t.createElementBlock("div",jr,[t.createElementVNode("div",Gr,[Rr,t.unref(r).length>=0?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(t.unref(r),((e,o)=>{return t.openBlock(),t.createBlock(Sr,{chapter:e,key:e.id,styling:(n=e.timestampSeconds,"left:"+d(n,v(l))+"%;")},null,8,["chapter","styling"]);var n})),128)):t.createCommentVNode("",!0),t.createElementVNode("div",Fr,[t.createVNode(Vr,{text:null===c.value?f.value?"Chapters need to be at least ten seconds apart":"Add chapter":"Remove chapter",position:"right"},{default:t.withCtx((()=>[t.createElementVNode("div",{class:t.normalizeClass(["button",[null===t.unref(c)?"plus":"minus",t.unref(f)?"within-ten-seconds":""]]),onClick:o[0]||(o[0]=e=>function(){let e=n.getters.getSelectedChapterId;if(null===c.value){a("use Chapter Editor",TBGlobal.limitation.chaptereditor,"TBcloseChapterEditor"),n.getters.getPlayer.pauseVideo();const e=n.getters.getPlayer.getCurrentTime();if(f.value)return;const t={id:TBUtilities.CreateGuid(),timestampSeconds:e,timestampFormatted:i(e),title:""};n.commit("addVideoChapter",t),n.commit("setSelectedChapterId",t.id)}else{if(n.commit("setSelectedChapterId",null),"defaultFirstChapter"===e)return;n.commit("deleteVideoChapterById",e)}}())},null,2)])),_:1},8,["text"]),$r,Hr,t.createVNode(t.Transition,null,{default:t.withCtx((()=>[null!==t.unref(c)&&2===s.value?(t.openBlock(),t.createBlock(Pr,{key:0})):t.createCommentVNode("",!0)])),_:1})])])]))}},Kr={props:{buttonStyle:String},setup(o){const n=e.useStore(),{getFormattedTimestampString:i}=Tr(),{CanAccessLevel1Tools:a}=S();function r(){a("use Chapter Editor",TBGlobal.limitation.chaptereditor,"TBcloseChapterEditor");let e=0;n.getters.getPlayer&&(n.getters.getPlayer.pauseVideo(),e=Math.floor(n.getters.getPlayer.getCurrentTime()));const t={id:TBUtilities.CreateGuid(),timestampSeconds:e,timestampFormatted:i(e),title:""};n.commit("addVideoChapter",t),n.commit("setSelectedChapterId",t.id)}return(e,n)=>(t.openBlock(),t.createElementBlock("button",{class:t.normalizeClass(["tb-btn",o.buttonStyle]),onClick:r}," Add Chapter ",2))}},Yr=[t.createElementVNode("i",{class:"material-icons tb-material-icon"},"delete_outline",-1)],Wr={props:{index:Number,id:String},setup(o){const n=e.useStore();return(e,i)=>(t.openBlock(),t.createBlock(Vr,{text:0===o.index?"":"Remove chapter"},{default:t.withCtx((()=>[t.createElementVNode("a",{class:t.normalizeClass([0===o.index?"disabledButtonStyle":"buttonStyle"]),onClick:i[0]||(i[0]=e=>{return t=o.id,n.commit("deleteVideoChapterById",t),void(n.getters.getSelectedChapterId===t&&n.commit("setSelectedChapterId",null));var t})},Yr,2)])),_:1},8,["text"]))}},qr={class:"requirementsRect",ref:"reqList"},Jr={class:"reqListCheckboxContainer"},Zr={class:"summary-content-wrapper"},Xr={class:"summary-chapters-wrapper"},el=t.createElementVNode("span",{class:"requirements-list-summary"}," Chapters must include ",-1),tl=t.createElementVNode("span",{class:"disclosure-wrapper"},[t.createElementVNode("i",{id:"disclosure_icon",class:"material-icons"}," expand_less ")],-1),ol={class:"details-chapter-wrapper"},nl=t.createElementVNode("span",null," Minimum of three chapters ",-1),il={class:"chaptersProgress"},al={class:"tb-text-green-800 tb-font-bold"},rl={class:"details-duration-wrapper"},ll=t.createElementVNode("span",null," All chapters must be at least 10 seconds ",-1),sl={class:"durationsProgress"},cl={class:"tb-text-green-800 tb-font-bold"},dl={class:"details-title-wrapper"},ul=t.createElementVNode("span",null," All chapters must have titles ",-1),pl={class:"titlesProgress"},ml={class:"tb-text-green-800 tb-font-bold"},bl={emits:["closeModal"],setup(o,{emit:n}){const i=e.useStore(),{atLeastThreeChapters:a,allChaptersHaveTitles:r,allChaptersAtLeastTenSecondsLong:l,allChaptersAtLeastTenSecondsLongCount:s,allChaptersHaveTitlesCount:c}=xr(i),d=t.computed((()=>a())),u=t.computed((()=>r())),p=t.computed((()=>l())),m=t.computed((()=>s())),b=t.computed((()=>c())),g=t.computed((()=>i.getters.getVideoChapters)),h=t.computed((()=>!d.value||!u.value||!p.value));t.ref(!1);let f=t.ref(!1);function v({target:e}){f=e.open,n("toggle",f)}return(e,o)=>(t.openBlock(),t.createElementBlock("div",qr,[t.createElementVNode("div",Jr,[t.createElementVNode("details",{open:"",id:"requirementListDetails",onToggle:v},[t.createElementVNode("summary",null,[t.createElementVNode("div",Zr,[t.createElementVNode("div",Xr,[t.createElementVNode("span",{class:t.normalizeClass(["material-icons tb-text-gray-200 tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4",{"material-icons tb-font-color-green tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4":!t.unref(h)}])}," check_circle ",2),el]),tl])]),t.createElementVNode("div",ol,[t.createElementVNode("span",{class:t.normalizeClass(["material-icons tb-text-gray-200 tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4",{"material-icons tb-font-color-green tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4":1==t.unref(d)}])}," check_circle ",2),nl,t.createElementVNode("span",il,[t.createElementVNode("span",al,t.toDisplayString(t.unref(g).length),1),t.createElementVNode("span",{class:t.normalizeClass(["tb-text-gray-200",{"tb-text-green-800 tb-font-bold":1==t.unref(d)}])},"/"+t.toDisplayString(1==t.unref(d)?t.unref(g).length:"3"),3)])]),t.createElementVNode("div",rl,[t.createElementVNode("span",{class:t.normalizeClass(["material-icons tb-text-gray-200 tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4",{"material-icons tb-font-color-green tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4":1==t.unref(p)&&1==t.unref(d)}])}," check_circle ",2),ll,t.createElementVNode("span",sl,[t.createElementVNode("span",cl,t.toDisplayString(t.unref(m)),1),t.createElementVNode("span",{class:t.normalizeClass(["tb-text-gray-200",{"tb-text-green-800 tb-font-bold":1==t.unref(p)&&1==t.unref(d)}])},"/"+t.toDisplayString(1==t.unref(d)?t.unref(g).length:"3"),3)])]),t.createElementVNode("div",dl,[t.createElementVNode("span",{class:t.normalizeClass(["material-icons tb-text-gray-200 tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4",{"material-icons tb-font-color-green tb-move-left4 tb-margin-top4 tb-margin-bottom4 tb-margin-right2 tb-margin-left-4":1==t.unref(u)&&1==t.unref(d)}])}," check_circle ",2),ul,t.createElementVNode("span",pl,[t.createElementVNode("span",ml,t.toDisplayString(t.unref(b)),1),t.createElementVNode("span",{class:t.normalizeClass(["tb-text-gray-200",{"tb-text-green-800 tb-font-bold":1==t.unref(u)&&1==t.unref(d)}])},"/"+t.toDisplayString(1==t.unref(d)?t.unref(g).length:"3"),3)])])],32)])],512))}},gl={id:"tb-chapter-editor-right-panel"},hl={id:"requirements-list-container"},fl={key:0},vl=["data-row"],yl={class:"tb-chapter-row"},xl=["onClick"],Tl=["onUpdate:modelValue","onFocus","onInput"],wl=t.createTextVNode(" delete "),kl={key:0,class:"tb-text-red-500"},El={setup(o){const n=e.useStore();n.getters.getVideo.videoDurationMs;const i=t.computed((()=>n.getters.getVideoChaptersAutoSort)),a=TBGlobal.CanAccessLevel1Tools(),r=t.computed((()=>n.getters.getSelectedChapterId)),l=t.computed((()=>{const e=i.value.filter((e=>e.id===r.value))[0];return!(e&&e.length>0)||e.isValidLength}));function s(e){n.commit("setCurrentTimestamp",e)}function c(e,t){r.value===e.id&&t&&e.isValidLength?n.commit("setSelectedChapterId",null):r.value!==e.id&&(s(e.timestampSeconds),n.commit("setSelectedChapterId",e.id),n.getters.getPlayer&&(n.getters.getPlayer.pauseVideo(),n.getters.getPlayer.seekTo(e.timestampSeconds)))}const d=t.ref(!0);function u(e){d.value=!!e}return(e,o)=>(t.openBlock(),t.createElementBlock("div",gl,[t.createElementVNode("div",hl,[t.createVNode(bl,{onToggle:u})]),t.createElementVNode("div",{id:"tb-video-chapters-container",class:t.normalizeClass(!0===d.value?"tb-video-chapters-container-details-open":"tb-video-chapters-container-details-closed")},[t.unref(a)&&t.unref(i).length>0?(t.openBlock(),t.createElementBlock("div",fl,[t.createVNode(t.TransitionGroup,{name:"list"},{default:t.withCtx((()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(i),((e,o)=>(t.openBlock(),t.createElementBlock("div",{key:e.id,class:"tb-flex tb-items-center tb-flex-wrap","data-row":o},[t.createElementVNode("div",yl,[t.createElementVNode("div",{class:t.normalizeClass(["tb-chapter-number tb-rounded-md",t.unref(r)===e.id?"tb-chapter-selected":""]),onClick:t.withModifiers((t=>c(e,!0)),["stop"])},t.toDisplayString(o+1),11,xl),t.createVNode(Vr,{text:0===o?"Chapter 1 timestamp must start at the beginning":"Hours:Minutes:Seconds",position:"right"},{default:t.withCtx((()=>[t.createVNode(Ar,{"is-disabled":0===o||t.unref(r)&&e.id!==t.unref(r)&&!t.unref(l),"is-invalid":!e.isValidLength,"is-active":t.unref(r)&&e.id==t.unref(r),seconds:e.timestampSeconds,"chapter-id":e.id,onUpdated:t=>function(e,t){s(t.timestampSeconds);const o=Object.assign(e,t);n.commit("updateVideoChapter",o)}(e,t),onClick:t=>c(e),onFocused:t=>c(e)},null,8,["is-disabled","is-invalid","is-active","seconds","chapter-id","onUpdated","onClick","onFocused"])])),_:2},1032,["text"]),t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":t=>e.title=t,class:"tb-rounded-md flex items-center justify-center tb-input-chapter-title",type:"text",placeholder:"Insert chapter title",onFocus:t=>c(e),onInput:t=>function(e){n.commit("updateVideoChapter",e)}(e)},null,40,Tl),[[t.vModelText,e.title]]),t.createVNode(Wr,{id:e.id,index:o},{default:t.withCtx((()=>[wl])),_:2},1032,["id","index"])]),e.isValidLength?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",kl,t.toDisplayString("Chapters must be at least 10 seconds long")))],8,vl)))),128))])),_:1})])):t.createCommentVNode("",!0)],2)]))}},Sl={class:"tb-flex tb-items-center tb-justify-end tb-mt-8"},Bl=["onClick"],Cl=["onClick"],Vl={emits:["closeModal"],setup(o,{emit:n}){const i=e.useStore(),{atLeastThreeChapters:a,allChaptersHaveTitles:r,allChaptersAtLeastTenSecondsLong:l}=xr(i),{updateDescriptionInput:s}=L(),{ChapterEditorApplied:c}=yr(i),d=t.computed((()=>a())),u=t.computed((()=>r())),p=t.computed((()=>l())),m=t.computed((()=>i.getters.getVideoChapters)),b=t.computed((()=>!d.value||!u.value||!p.value)),g=t.ref(!1);function h(){TubeBuddyMenu.HideBackground(),jQuery("body").trigger("TBcloseChapterEditor")}function f(){g.value=!0,setTimeout((()=>{g.value=!1}),1e4)}function v(){!0!==b.value?(navigator.clipboard.writeText(x()),c("copied"),TBUtilities.Alert("Your video chapters have been copied to your clipboard. Paste them into your video's Description on a new line and click 'Save' on the YouTube page.",h())):f()}function y(){if(!0===b.value)return void f();const e=i.getters.getVideoDescription,t=x();let o=e.text;if(null===e.existingChaptersStartIndex)o+=0===e.text.length?t:"\n"+t;else{o=e.text.slice(0,e.existingChaptersStartIndex)+t+e.text.slice(e.existingChaptersEndIndex)}s(o,!1),c("applied");const n=null===e.existingChaptersStartIndex?"Your chapters have been added to your video's description. Please review and click 'Save' on the YouTube page to apply them to your video.":"Your video's description has been updated with your new chapters. Please review and click 'Save' on the YouTube page to apply them to your video";TBUtilities.Alert(n,h())}function x(){const e=i.getters.getVideoChaptersAutoSort,t=moment.duration(i.getters.getVideo.videoDurationMs).asMinutes();return e.map((e=>(t>59?e.timestampFormatted:e.timestampFormatted.slice(3))+" "+e.title)).join("\n")}return(e,o)=>(t.openBlock(),t.createElementBlock("div",Sl,[t.createElementVNode("button",{class:t.normalizeClass(["tb-btn tb-btn-sm tb-mr-4 tb-copy-to-clipboard-neutral",{"tb-copy-to-clipboard-disabled":1==t.unref(m).length||t.unref(b)}]),onClick:t.withModifiers(v,["stop"])},"Copy to Clipboard",10,Bl),t.createElementVNode("button",{class:t.normalizeClass(["tb-btn tb-btn-sm tb-btn-primary-add-chapter-to-video-neutral",{"tb-btn-primary-add-chapter-to-video-disabled":1==t.unref(m).length||t.unref(b)}]),onClick:t.withModifiers(y,["stop"])},"Add to Video",10,Cl)]))}},Nl={id:"ce-age-restrict",class:"tb-m-5 tb-flex tb-items-center tb-w-9/12 tb-justify-center"},Il=["src"],Dl=t.createElementVNode("div",{class:"tb-flex tb-flex-col tb-w-96"},[t.createElementVNode("h3",{class:"tb-mb-5"}," We are unable to preview this video due to the age restriction settings "),t.createElementVNode("div",null," YouTube prevents age restricted videos from being played in a preview window. You can manually edit your chapters on the right. ")],-1),Ll={setup(e){const o=browser.runtime.getURL("/images/modules/chaptereditor/Locked-door.png");return(e,n)=>(t.openBlock(),t.createElementBlock("div",Nl,[t.createElementVNode("img",{class:"tb-mr-5",src:t.unref(o)},null,8,Il),Dl]))}};function zl(e){const o=t.ref(e);return[t.readonly(o),e=>{o.value=e}]}const Ml={state:()=>({video:{}}),mutations:{setVideo(e,t){e.video={...e.video,...t}}},getters:{getVideo:e=>e.video}},Al={state:()=>({videoId:0}),mutations:{setVideoId(e,t){e.videoId=t}},getters:{getVideoId:e=>e.videoId}},Ul={state:()=>({videoDescription:{text:"",existingChaptersStartIndex:null,existingChaptersEndIndex:null}}),mutations:{setVideoDescription(e,t){e.videoDescription=t}},getters:{getVideoDescription:e=>e.videoDescription}},Ol={state:()=>({currentTimestamp:0}),mutations:{setCurrentTimestamp(e,t){e.currentTimestamp=t}},getters:{getCurrentTimestamp:e=>e.currentTimestamp}},_l={state:()=>({progressBarCurrentTimestamp:0}),mutations:{setProgressBarCurrentTimestamp(e,t){e.progressBarCurrentTimestamp=t}},getters:{getProgressBarCurrentTimestamp:e=>e.progressBarCurrentTimestamp}},Pl={state:()=>({chapterList:[{id:"defaultFirstChapter",timestampSeconds:0,timestampFormatted:"00:00:00",title:"Introduction"}]}),mutations:{setVideoChapters(e,t){e.chapterList=t},addVideoChapter(e,t){e.chapterList.push(t)},deleteVideoChapterById(e,t){"defaultFirstChapter"!=t&&(e.chapterList=e.chapterList.filter((e=>e.id!==t)))},updateVideoChapter(e,t){const o=e.chapterList.findIndex((e=>e.id==t.id));e.chapterList[o]={...e.chapterList[o],...t}},resetVideoChapters(e){e.chapterList=[{id:"defaultFirstChapter",timestampSeconds:0,timestampFormatted:"00:00:00",title:"Introduction"}]}},getters:{getVideoChapters:e=>e.chapterList,getVideoChaptersAutoSort(e,t,o){const n=o.video.video.videoDurationMs?o.video.video.videoDurationMs/1e3:0,i=e.chapterList.sort(((e,t)=>e.timestampSeconds-t.timestampSeconds));return i.map(((e,t)=>({...e,isValidLength:0===t||e.timestampSeconds-i[t-1].timestampSeconds>=10&&e.timestampSeconds<=n-8})))},getSelectedChapter(e,t,o){const n=e.chapterList.filter((e=>e.id===o.selectedChapterId.selectedChapterId));return n.length>0?n[0]:null}}},jl={state:()=>({player:null}),mutations:{setPlayer(e,t){e.player=t}},getters:{getPlayer:e=>e.player}},Gl={state:()=>({selectedChapterId:null}),mutations:{setSelectedChapterId(e,t){e.selectedChapterId=t}},getters:{getSelectedChapterId:e=>e.selectedChapterId}},Rl={state:()=>({videoCheckInterval:500}),mutations:{setVideoCheckInterval(e,t){e.videoCheckInterval=t}},getters:{getVideoCheckInterval:e=>e.videoCheckInterval}},Fl={state:()=>({source:""}),mutations:{setSourceFrom(e,t){e.sourceFrom=t}},getters:{getSourceFrom:e=>e.sourceFrom}},$l={class:"tb-chapter-editor-header"},Hl=t.createTextVNode("Chapter Editor | "),Ql={class:"tb-chapter-editor-header-sub"},Kl={key:0},Yl={class:"tb-title-container tb-flex tb-justify-between tb-items-center tb-mb-4"},Wl=t.createElementVNode("div",{class:"tb-text-3xl tb-font-semibold"}," Chapters ",-1),ql={class:"tb-pt-6 tb-flex tb-justify-end tb-items-center"},Jl={key:1,class:"tb-chapter-editor-container tb-flex tb-justify-center tb-items-center tb-px-2 tb-pt-6"},Zl=[t.createElementVNode("div",{class:"tb-spinner"},null,-1),t.createElementVNode("div",{class:"tb-text-2xl"}," Loading... ",-1)],Xl={props:{isUpload:Boolean,videoId:String,source:String},setup(o){const n=o,i=e.useStore(),{CanAccessLevel1Tools:a}=S();TBGlobal.CanAccessLevel1Tools();const{getFormattedTimestampString:r,getTimeInSeconds:l,getTimestampParts:s}=Tr(),{ChapterEditorLaunched:c,ChapterEditorClosed:d}=yr(i),u=t.computed((()=>null!=i.getters.getVideo.title?i.getters.getVideo.title:""));t.computed((()=>i.getters.getVideoChapters));const[p,m]=zl(!1);function b(){TubeBuddyMenu.HideBackground(),jQuery("body").trigger("TBcloseChapterEditor")}function g(e){i.commit("setSelectedChapterId",null)}return t.onMounted((()=>{c({video_id:i.getters.getVideoId,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),tool:"Chapter Editor",source:n.source,used:!0});const e=document.querySelector("#description-container #textbox").innerText;if("18+ only"===document.querySelector("#visibility-text").innerText&&m(!0),e.length>0){let t=function(e){const t=new RegExp("^(?<timestamp>\\d{1,2}(?::[0-5]\\d){1,2}) (?<title>.+)$","gmd");let o=t.exec(e);if(null==o)return null;const n=[];do{const e=l(o.groups.timestamp);n.push({title:o.groups.title,timestampSeconds:e,timestampFormatted:r(e),existingChapterStartIndex:o.indices[0][0],existingChapterEndIndex:o.indices[0][1]})}while(null!==(o=t.exec(e)));return n}(e);const o={text:e,existingChaptersStartIndex:null,existingChaptersEndIndex:null};t&&t.length>0&&0===t[0].timestampSeconds&&(t=t.map(((e,t)=>({...e,id:0===t?"defaultFirstChapter":TBUtilities.CreateGuid()}))),i.commit("setVideoChapters",t),o.existingChaptersStartIndex=t[0].existingChapterStartIndex,o.existingChaptersEndIndex=t[t.length-1].existingChapterEndIndex),i.commit("setVideoDescription",o)}})),t.onUnmounted((()=>{d()})),t.onBeforeMount((async()=>{a("use Chapter Editor",TBGlobal.limitation.chaptereditor,"TBcloseChapterEditor");const e=window.location.href.match(/video\/[^/]+\/edit/gi);if(null==e)return;const t=e[0].replace(/video\/|\/edit/gi,"");i.commit("setVideoId",t);const o={description:!0,title:!0,videoId:!0,videoDurationMs:!0};try{await async function(e,t){const o=await TubeBuddyYouTubeActions.GetCreatorVideosStudio(e,t);i.commit("setVideo",o)}(t,o)}catch(n){TBUtilities.LogError(n)}})),(e,o)=>(t.openBlock(),t.createBlock(f,{id:"chapter-editor-vue",link:"chaptereditor",width:1100,height:800,left:"26%",onModalClosing:t.withModifiers(b,["stop","prevent"])},{header:t.withCtx((()=>[t.createElementVNode("div",null,[t.createElementVNode("span",$l,[Hl,t.createElementVNode("span",Ql,t.toDisplayString(t.unref(u)),1)])])])),content:t.withCtx((()=>[t.unref(u)?(t.openBlock(),t.createElementBlock("div",{key:0,class:"tb-chapter-editor-container tb-flex",onClick:g},[t.unref(p)?(t.openBlock(),t.createElementBlock("div",Kl,[t.createVNode(Ll)])):t.createCommentVNode("",!0),t.unref(p)?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",{key:1,onClick:g},[t.createVNode(kr),t.createElementVNode("div",{class:"tb-justify-center tb-items-center",onClick:o[0]||(o[0]=t.withModifiers((()=>{}),["stop"]))},[t.createVNode(Qr)])])),t.createElementVNode("div",{id:"tb-chapter-editor",onClick:o[1]||(o[1]=t.withModifiers((()=>{}),["stop"]))},[t.createElementVNode("div",Yl,[Wl,t.createVNode(Kr,{"button-style":"tb-btn-sm tb-btn-gray"})]),t.createVNode(El),t.createElementVNode("div",ql,[t.createVNode(Vl)])])])):(t.openBlock(),t.createElementBlock("div",Jl,Zl))])),_:1},8,["onModalClosing"]))}};const{ChapterEditorStatsCheck:es}=yr();const ts=["src"],os={class:"learn-video-container-text tb-font-bold tb-p-3"},ns={props:{id:{required:!0,type:String},index:{type:Number,default:0},title:{required:!0,type:String,default:""},thumbnails:{required:!1,type:Object,default:()=>null},currentSelectedVideo:{type:String,default:""}},emits:["handle-video-click"],setup(e,{emit:o}){const n=e,i=t.computed((()=>n.id)),a=t.computed((()=>n.index)),r=t.computed((()=>n.title)),l=t.computed((()=>n.thumbnails.thumbnailDefault)),s=t.computed((()=>n.currentSelectedVideo));return(e,n)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["learn-video-container tb-flex tb-items-center hover:tb-bg-gray-100 tb-cursor-pointer tb-border-b tb-border-solid tb-border-gray-200",t.unref(s)===t.unref(i)?"tb-bg-gray-300":""]),onClick:n[0]||(n[0]=e=>o("handle-video-click",{videoId:t.unref(i),index:t.unref(a)}))},[t.createElementVNode("img",{class:"tb-m-2",src:t.unref(l)},null,8,ts),t.createElementVNode("div",os,t.toDisplayString(t.unref(r)),1)],2))}};function is(){const{track:e}=z(),t=(t,o,n,i)=>{const a={Action:o,ModuleType:"Vuejs"};a.Tool=i||"Learnings",n&&(a.Data=n);try{e(t,a)}catch(r){TBUtilities.Log(r)}};return{FeatureUsed:(e,o,n)=>{t("Feature Used",e,o,n)},FeatureApplied:(e,o,n)=>{t("Feature Applied",e,o,n)}}}const as=["src"],rs={props:{videoId:{type:String,required:!0,default:""},toolType:{type:String,required:!0,default:"Learning"},index:{type:Number,default:0}},setup(e){const o=e,{FeatureUsed:n}=is(),i=t.computed((()=>o.videoId)),a=t.ref(null),r=e=>{0===e.target.playerInfo.playerState&&n("Finished",{VideoId:i.value,Index:o.index,TimeWatched:e.target.playerInfo.currentTime,FinishedVideo:!0},o.toolType)},l=()=>{new YT.Player("frame-player",{events:{onStateChange:r}})};return t.onMounted((()=>{l()})),t.onUpdated((()=>{l()})),(e,o)=>(t.openBlock(),t.createElementBlock("div",{id:"player-container",ref_key:"playerContainer",ref:a},[t.createElementVNode("iframe",{id:"frame-player",width:"720",height:"450",src:`https://www.youtube.com/embed/${t.unref(i)}?enablejsapi=1`,title:"YouTube video player",frameborder:"0",allow:"accelerometer;\r\n          autoplay;\r\n          clipboard-write;\r\n          encrypted-media;\r\n          gyroscope;\r\n          picture-in-picture",enablejsapi:"true",allowfullscreen:""},null,8,as)],512))}},ls={class:"learn-modal-backdrop"},ss={id:"learn-module",class:"tb-flex"},cs={id:"learn-video-sidebar",class:"tb-flex-col tb-overflow-y-auto"},ds={props:{playlistId:{required:!0,type:String,default:""},toolType:{required:!0,type:String,default:"Learning"}},setup(e){const o=e,{FeatureUsed:n}=is(),[i,a]=zl([]),[r,l]=zl(""),[s,c]=zl(0);t.onBeforeMount((()=>{n("Opened",null,o.toolType);const e=`${TBGlobal.host+TBGlobal.apiUrls.getPlaylist}?playlistId=${o.playlistId}`;TBExtension.Get(e,((e,t,o)=>{const n=JSON.parse(o);if(e){const e=n.reduce(((e,{snippet:t,id:o,url:n})=>(e.push({...t,id:o,url:n}),e)),[]);a(e),l(i.value[0].id)}}))}));const d=()=>{jQuery("body").trigger("TBCloseLearnModule")},u=({videoId:e,index:t})=>{e!==r.value&&(n("Clicked",{VideoId:e,Index:t},o.toolType),l(e),c(t))};return(e,n)=>(t.openBlock(),t.createElementBlock("div",ls,[t.createVNode(f,{id:"learn",width:1050,height:600,margin:"margin-top: 0px;","is-draggable":!1,onModalClosing:t.withModifiers(d,["stop","prevent"])},{header:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(o.toolType),1)])),content:t.withCtx((()=>[t.createElementVNode("div",ss,[t.createVNode(rs,{"video-id":t.unref(r),"tool-type":o.toolType,index:t.unref(s)},null,8,["video-id","tool-type","index"]),t.createElementVNode("div",cs,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(i),(({id:e,title:o,thumbnails:n},i)=>(t.openBlock(),t.createElementBlock("div",{key:e,class:"learn-video-parent"},[t.createVNode(ns,{id:e,title:o,thumbnails:n,"current-selected-video":t.unref(r),index:i,onHandleVideoClick:u},null,8,["id","title","thumbnails","current-selected-video","index"])])))),128))])])])),_:1},8,["onModalClosing"])]))}};const us={state:()=>({route:"paywall",gates:[]}),mutations:{setGates(e,t){e.gates=t},setRoute(e,t){e.route=t}},getters:{getRoute:e=>e.route,getGates:e=>e.gates,getToolGate:e=>t=>e.gates.find((e=>e.Feature===t))}};function ps(){const{track:e}=z(),t=TBGlobal.GetToolById("seostudio").name,o=(o,n)=>{void 0===n.Tool&&(n.Tool=t),n.hasOwnProperty("Data")&&n.Data.hasOwnProperty("Step")&&(n.Data.Tab=stepTitles[n.Data.Step]),n.ModuleType="Vuejs",e(o,n)},n=(e,t=null,o=!1)=>{let n=!1;const i=location.hostname;"youtube.com"!==i&&"studio.youtube.com"!==i||(n=!0);let a="",r="";return a=new URL("/account/upgrade",TBGlobal.host),a.searchParams.append("id",TBGlobal.CurrentChannelId()),a.searchParams.append("f",e),a.searchParams.append("utm_term",e),!0===n?(a.searchParams.append("utm_source","youtube"),a.searchParams.append("utm_medium","extension")):(a.searchParams.append("utm_source","site"),a.searchParams.append("utm_medium","home")),a.searchParams.append("utm_campaign",e),a.searchParams.append("paywall",!0),r=new URL("/pricing",TBGlobal.host),!0===n?(r.searchParams.append("utm_source","youtube"),r.searchParams.append("utm_medium","extension")):(r.searchParams.append("utm_source","site"),r.searchParams.append("utm_medium","home")),r.searchParams.append("utm_campaign",e),r.searchParams.append("paywall",!0),t&&a.searchParams.append("license",t),"Enterprise"!==t||"Bulk End Screens"!==e&&"Bulk Cards"!==e?o?r:a:"https://www.tubebuddy.com/enterprise/bulk-tools"};return{FeatureUsed:e=>{o("Feature Used",e)},FeatureApplied:e=>{o("Feature Applied",e)},getOrderPageLink:n,getImage:e=>browser.runtime.getURL(e),getPricingPageLink:(e,t=null)=>n(e,t,!0)}}const ms=e=>(t.pushScopeId("data-v-6daa9afd"),e=e(),t.popScopeId(),e),bs={id:"tb-upgrade-screen-slideshow-test",class:"tb-pl-28 tb-p-8 tb-pr-28"},gs={class:"tb-upgrade-screen-slide tb-items-center"},hs={class:"img-placeholder"},fs=["src"],vs={class:"tb-pl-8 tb-upgrade-screen-testimonial"},ys={class:"tb-upgrade-screen-testimonial-test"},xs=ms((()=>t.createElementVNode("b",{style:{"font-weight":"600"}},'" ',-1))),Ts=ms((()=>t.createElementVNode("b",{style:{"font-weight":"600"}},' "',-1))),ws=ms((()=>t.createElementVNode("br",null,null,-1))),ks=ms((()=>t.createElementVNode("br",null,null,-1))),Es={style:{"font-weight":"bold"}},Ss=v({setup(e){const o=t.computed((()=>r.value[a.value])),{getImage:n}=ps();let i=null;const a=t.ref(0);t.computed((()=>`url(${n("/images/bg_pattern_dark.png")}`));const r=t.ref([{name:"Derral Eves",thumbnail:"/images/modules/upgradeScreen/derraleves.jpg",quote:"TubeBuddy has completely transformed the way I manage my personal YouTube channel and my clients' channels.",subtitle:"#1 YouTube Certified Expert"},{name:"Matthew Santoro",thumbnail:"/images/modules/upgradeScreen/matthewsantoro_2021.jpg",quote:"I'm so glad I discovered TubeBuddy! It's super helpful. Love you guys!",subtitle:"6.2+ Million Subscribers"},{name:"Ed Delage",thumbnail:"/images/modules/upgradeScreen/familyfeud.jpg",quote:"TubeBuddy's bulk processing tools have literally saved us hundreds of hours managing the Family Feud YouTube channel.",subtitle:"350+ Million Views"}]);return t.onMounted((()=>{i=setInterval((()=>{a.value++,a.value>=r.value.length&&(a.value=0)}),8e3)})),t.onDeactivated((()=>{clearInterval(i)})),(e,i)=>(t.openBlock(),t.createElementBlock("div",bs,[t.createElementVNode("div",gs,[t.createElementVNode("div",hs,[t.createElementVNode("img",{alt:"profile picture",src:t.unref(n)(t.unref(o).thumbnail),class:"tb-rounded-full",style:{width:"80px"}},null,8,fs)]),t.createElementVNode("div",vs,[t.createElementVNode("span",ys,[xs,t.createTextVNode(t.toDisplayString(t.unref(o).quote),1),Ts,ws,ks,t.createElementVNode("span",Es,t.toDisplayString(t.unref(o).name),1),t.createElementVNode("span",null,", "+t.toDisplayString(t.unref(o).subtitle),1)])])])]))}},[["__scopeId","data-v-6daa9afd"]]),Bs={class:"wrapper"},Cs={class:"header"},Vs={class:"header--text-bg"},Ns=["href"],Is={class:"includes"},Ds={class:"other-tools"},Ls={class:"other-tools--header"},zs={class:"tag"},Ms=t.createTextVNode(" For more information about this license see our "),As=["href"],Us=v({props:{msg:String,feature:String,overrideDefaultMessage:Boolean,tool:Object,license:String,channelId:String,action:String},setup(e){const o=e;t.useCssVars((e=>({"784fd5f5":t.unref(d)})));const{getImage:n,getOrderPageLink:i,getPricingPageLink:a}=ps();t.onMounted((()=>{const e=TBGlobal.Profile().LicenseName,t={ChannelId:o.channelId,LicenseName:e,Tool:o.tool.name,Platform:"extension",action:o.action};"tb-menu"===o.feature&&(t.Tool="TubeBuddy Menu",t.action="click"),TBUtilities.ReportProductEvent("Subscription Paywall",t)}));const r=e=>{let t="";t="Bulk Cards"===o.feature||"Bulk End Screens"===o.feature?o.feature:e,TBUtilities.ReportProductEvent("Subscription Paywall Upgrade Click",{from:t})},l=t.computed((()=>{const e=[{name:"A/B Testing"},{name:"Tag Translator"},{name:"Auto Translator"}];return"Legend"===o.license||"Star"===o.license?e:[{name:"Keyword Explorer"},{name:"Canned Responses"},{name:"Thumbnail Generator"}]})),s=t.computed((()=>o.license)),c=t.computed((()=>"Unknown"!==o.tool.name?o.tool.name:"TubeBuddy")),d=t.computed((()=>`url(${n("/images/bg_pattern_dark.png")}`));return(e,n)=>(t.openBlock(),t.createElementBlock("div",Bs,[t.createElementVNode("div",Cs,[t.createElementVNode("h2",null," unlock the full potential of "+t.toDisplayString(t.unref(c))+" with our ",1),t.createElementVNode("div",Vs,[t.createElementVNode("h1",null,t.toDisplayString(t.unref(s))+" License",1),t.createElementVNode("a",{class:"upgrade",target:"_blank",href:t.unref(a)(o.feature,t.unref(s)),onClick:n[0]||(n[0]=e=>r("upgrade now"))}," upgrade now ",8,Ns)])]),t.createElementVNode("div",Is,[t.createElementVNode("span",null," get total access to these popular tools with the "+t.toDisplayString(t.unref(s))+" license:",1)]),t.createElementVNode("div",Ds,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(l),((e,o)=>(t.openBlock(),t.createElementBlock("div",{key:o,class:"other-tools--individual"},[t.createElementVNode("div",Ls,[t.createElementVNode("h2",null,t.toDisplayString(e.name),1)])])))),128))]),t.createElementVNode("div",zs,[t.createElementVNode("p",null,[Ms,t.createElementVNode("a",{target:"_blank",href:t.unref(a)(o.feature,t.unref(s)),onClick:n[1]||(n[1]=e=>r("Pricing Page"))}," Pricing Page ",8,As)])])]))}},[["__scopeId","data-v-f709a008"]]),Os={class:"header-container"};const _s=v({},[["render",function(e,o){return t.openBlock(),t.createElementBlock("div",Os)}],["__scopeId","data-v-2e746842"]]),Ps={},js=e=>(t.pushScopeId("data-v-9066af8e"),e=e(),t.popScopeId(),e),Gs={class:"header"},Rs=[js((()=>t.createElementVNode("h3",null," As a thank you for using TubeBuddy, we're giving you",-1))),js((()=>t.createElementVNode("div",{class:"header--text-bg"},[t.createElementVNode("h1",null,"free samples of top tools")],-1)))];const Fs=v(Ps,[["render",function(e,o){return t.openBlock(),t.createElementBlock("div",Gs,Rs)}],["__scopeId","data-v-9066af8e"]]),$s=e=>(t.pushScopeId("data-v-c8fde4f9"),e=e(),t.popScopeId(),e),Hs={class:"cta-container"},Qs=$s((()=>t.createElementVNode("h3",null,"Test-drive each tool with your next video, then decide to upgrade.",-1))),Ks=["href"],Ys=[$s((()=>t.createElementVNode("i",{class:"untitled-ui untitled-ui-stars-03-line"},null,-1))),t.createTextVNode(" upgrade now ")],Ws=v({props:{feature:String,license:String},setup(e){const o=e,{getImage:n,getOrderPageLink:i}=ps();return(n,a)=>(t.openBlock(),t.createElementBlock("div",Hs,[Qs,t.createElementVNode("a",{class:"cta-button",href:`${t.unref(i)(o.feature,e.license)}`,target:"_blank",onClick:a[0]||(a[0]=e=>{TBUtilities.ReportProductEvent("Free Trial Modal Upgrade Now Button Click",{tool:"Free Trial Modal",timestamp:(new Date).toISOString(),channel_id:TBGlobal.CurrentChannelId()})})},Ys,8,Ks)]))}},[["__scopeId","data-v-c8fde4f9"]]),qs={class:"other-tools--header"},Js={class:"other-tools--body"},Zs={class:"bottom-text"},Xs=["href"],ec=(e=>(t.pushScopeId("data-v-6b58bce5"),e=e(),t.popScopeId(),e))((()=>t.createElementVNode("div",{class:"chevron-container"},[t.createElementVNode("div",{class:"chevron-license"}," Pro "),t.createElementVNode("i",{class:"chevron untitled-ui untitled-ui-chevron-down-line"})],-1))),tc=v({props:{name:String,description:String,bullets:Array,videoLink:String,icon:String,id:String,linkCta:String,uses:Object},setup(o){const n=o,i=e.useStore();t.ref(!0),t.computed((()=>i.getters.getToolGate(n.id)));return(e,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createElementVNode("div",qs,[t.createElementVNode("i",{class:t.normalizeClass(`untitled-ui untitled-ui-${n.icon}-line`)},null,2),t.createElementVNode("h2",null,t.toDisplayString(n.name),1),t.createElementVNode("p",null,t.toDisplayString(n.description),1)]),t.createElementVNode("div",Js,[t.createElementVNode("ul",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.bullets,(e=>(t.openBlock(),t.createElementBlock("li",null,t.toDisplayString(e),1)))),256))]),t.createElementVNode("div",Zs,[t.createElementVNode("a",{target:"_blank",href:n.videoLink,onClick:o[0]||(o[0]=e=>{TBUtilities.ReportProductEvent("Free Trial Modal See It In Action Click",{tool:"Free Trial Modal",feature_name:n.name,timestamp:(new Date).toISOString(),channel_id:TBGlobal.CurrentChannelId()})})}," see it in action ",8,Xs)])]),ec],64))}},[["__scopeId","data-v-6b58bce5"]]),oc=e=>(t.pushScopeId("data-v-a6e606f8"),e=e(),t.popScopeId(),e),nc={key:0,class:"footer"},ic={class:"footer-number"},ac=oc((()=>t.createElementVNode("span",{class:"footer-text"},"free uses left",-1))),rc={key:1,class:"footer-zero"},lc={class:"footer-zero-left"},sc={class:"footer-number-zero"},cc=oc((()=>t.createElementVNode("span",{class:"footer-text-zero-left"}," uses left",-1))),dc={class:"footer-zero-right"},uc=["href"],pc={key:2,class:"footer-zero"},mc=oc((()=>t.createElementVNode("div",{class:"footer-zero-left"},[t.createElementVNode("span",{class:"footer-number-zero"},"0"),t.createElementVNode("span",{class:"footer-text-zero-left"}," uses left")],-1))),bc={class:"footer-zero-right"},gc=["href"],hc={key:3,class:"footer"},fc={class:"footer-number"},vc=oc((()=>t.createElementVNode("span",{class:"footer-text"},"free uses left",-1))),yc=v({props:{limit:Number,id:String,uses:{type:Object,default:()=>({UsesLeft:0})},feature:String,license:String,name:String},setup(o){const n=o;t.useCssVars((e=>({"1cf6a13c":t.unref(l)})));const i=e.useStore(),{getImage:a,getOrderPageLink:r}=ps(),l=t.computed((()=>`url(${a("/images/bg_pattern_dark.png")}`)),s=t.computed((()=>i.getters.getToolGate(n.id))),c=()=>{TBUtilities.ReportProductEvent("Free Trial Modal Upgrade Button Click From Feature Card",{tool:"Free Trial Modal",feature_name:n.name,timestamp:(new Date).toISOString(),channel_id:TBGlobal.CurrentChannelId()})};return(e,i)=>void 0===t.unref(s)&&0!==o.limit?(t.openBlock(),t.createElementBlock("div",nc,[t.createElementVNode("span",ic,t.toDisplayString(o.limit),1),ac])):void 0===t.unref(s)&&0===o.limit?(t.openBlock(),t.createElementBlock("div",rc,[t.createElementVNode("div",lc,[t.createElementVNode("span",sc,t.toDisplayString(o.limit),1),cc]),t.createElementVNode("span",dc,[t.createElementVNode("a",{href:`${t.unref(r)(n.feature,o.license)}`,target:"_blank",onClick:i[0]||(i[0]=e=>c())}," upgrade ",8,uc)])])):0===t.unref(s).UsesLeft?(t.openBlock(),t.createElementBlock("div",pc,[mc,t.createElementVNode("span",bc,[t.createElementVNode("a",{href:`${t.unref(r)(n.feature,o.license)}`,target:"_blank",onClick:i[1]||(i[1]=e=>c())}," upgrade ",8,gc)])])):(t.openBlock(),t.createElementBlock("div",hc,[t.createElementVNode("span",fc,t.toDisplayString(t.unref(s).UsesLeft),1),vc]))}},[["__scopeId","data-v-a6e606f8"]]),xc=[{id:"tagexplorer",icon:"telescope",name:"Keyword Explorer",description:"Unlock the secret to video optimization!",bullets:["Identify tags your audience loves","Utilize data-driven tag options","Add tags with a single click","Improve video discoverability"],socialProof:"63% of our Creators use this tool.",linkCta:"see it in action",videoLink:"https://www.tubebuddy.com/wp-content/uploads/2023/05/Keyword-Explorer-WITH-Zoom-music.mp4",limit:5},{id:"instasuggest",icon:"file-search-03",name:"Related Search Terms",description:"Quickly elevate your reach with trending terms.",bullets:["Discover hot search terms","Evaluate popularity instantly","Embed high-performing tags","Stay ahead with current trends"],linkCta:"see it in action",socialProof:"33% of our Creators use this tool.",videoLink:"https://youtu.be/dQ3zTDZXYoQ",limit:3},{id:"titlegenerator",icon:"type-square",name:"Title Generator",description:"Instantly craft compelling titles that capture clicks.",bullets:["Generate AI-driven titles","Utilize popular keywords","Optimize for YouTube SEO","Integrate with your videos"],linkCta:"see it in action",socialProof:"92% of our Creators use this tool.",videoLink:"https://www.tubebuddy.com/wp-content/uploads/2023/07/Title-Generator-music_compressed.mp4",limit:5}],Tc=[{id:"legendtools",icon:"stars-03",name:"All pro-level tools",description:"Unlock the secret to video optimization!",socialProof:"",bullets:["Dive into trending topics.","Assess keyword competitiveness","Optimize for maximum visibility."],linkCta:"pro-level details",videoLink:"https://www.tubebuddy.com/pro/",limit:0},{id:"videoabtests",icon:"file-search-02",name:"A/B Testing",description:"Elevate engagement with data",socialProof:"",bullets:["Compare 2 thumbnails for max clicks.","Instantly see which performs better.","Make data-driven decisions for higher engagement."],linkCta:"see it in action",videoLink:"https://youtu.be/4CyUvv7j7Ao?feature=shared",limit:0},{id:"clickmagnet",icon:"cursor-click-01",name:"Click Magnet",description:"Catch viewer’s eyes like never before.",socialProof:"",bullets:["Run experiments to find the most effective thumbnails.","Get tips for enhancing titles, tags, and descriptions."],linkCta:"see it in action",videoLink:"https://www.youtube.com/watch?v=CruHf8SMY4c",limit:0}],wc={class:"other-tools"},kc=["onClick"],Ec=v({props:{msg:String,feature:String,overrideDefaultMessage:Boolean,tool:Object,license:String,channelId:String,limit:Number,linkCta:String,videoLink:String,name:String},setup(e){const o=e,n=t.ref([]),i=t.computed((()=>"Legend"===o.license||"Star"===o.license?Tc:xc)),a=e=>n.value.includes(e);return(e,r)=>(t.openBlock(),t.createElementBlock("div",wc,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(i),((e,r)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["other-tools--individual",{active:a(r)}]),key:r,onClick:e=>{((e,t)=>{"a"!==e.target.tagName.toLowerCase()&&(n.value.includes(t)?n.value=n.value.filter((e=>e!==t)):(n.value.push(t),TBUtilities.ReportProductEvent("Free Trial Modal Feature Card Click",{feature_name:i.value[t].id,tool:"Free Trial Modal",license_type:o.license,timestamp:(new Date).toISOString(),channel_id:TBGlobal.CurrentChannelId()})))})(e,r)}},[t.createVNode(tc,{name:e.name,description:e.description,bullets:e.bullets,videoLink:e.videoLink,linkCTA:e.linkCta,icon:e.icon,id:e.id},null,8,["name","description","bullets","videoLink","linkCTA","icon","id"]),t.createVNode(yc,{name:e.name,limit:e.limit,id:e.id,feature:e.feature,license:e.license},null,8,["name","limit","id","feature","license"])],10,kc)))),128))]))}},[["__scopeId","data-v-0487ebce"]]),Sc={class:"footer-container"},Bc=v({setup:e=>(e,o)=>(t.openBlock(),t.createElementBlock("div",Sc,[t.createElementVNode("a",{onClick:o[0]||(o[0]=e=>{var t;t="no thanks button",TBUtilities.ReportProductEvent("Free Trial Modal Close Button",{tool:"Free Trial Modal",timestamp:(new Date).toISOString(),channel_id:TBGlobal.CurrentChannelId(),click_from:t}),jQuery("body").trigger("TBDestroyPaywall")})}," no thanks ")]))},[["__scopeId","data-v-c764f165"]]),Cc={props:{msg:String,feature:String,overrideDefaultMessage:Boolean,tool:Object,license:String,channelId:String,name:String},setup(e){const o=e,{getImage:n,getOrderPageLink:i}=ps();return t.onMounted((()=>{document.getElementById("tb-paywall-modal-container").classList.add("trial-modal")})),t.computed((()=>"Starter"===o.license?"Pro":"Star"===o.license?"Legend":o.license)),t.computed((()=>"Unknown"!==o.tool.name?o.tool.name:"TubeBuddy")),t.computed((()=>`url(${n("/images/bg_pattern_dark.png")}`)),t.onMounted((()=>{TBUtilities.ReportProductEvent("Free Trial Modal Launch",{tool:o.feature})})),(e,n)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createVNode(_s),t.createVNode(Fs),t.createVNode(Ws,{feature:o.feature,license:o.license},null,8,["feature","license"]),t.createVNode(Ec,{msg:o.msg,feature:o.feature,overrideDefaultMessage:o.overrideDefaultMessage,tool:o.tool,license:o.license,channelId:o.channelId,name:o.name},null,8,["msg","feature","overrideDefaultMessage","tool","license","channelId","name"]),t.createVNode(Bc)],64))}},Vc={style:{"font-size":"16px"}},Nc={props:{msg:String,feature:String,overrideDefaultMessage:Boolean,tool:Object,license:String,channelId:String},setup(o){const n=o,i=e.useStore();ps();const a=t.computed((()=>i.getters.getRoute)),r=[{name:"paywall",component:Us},{name:"trialModal",component:Cc}],l=t.computed((()=>n.license)),s=t.computed((()=>r.find((e=>e.name===a.value)).component));t.onMounted((()=>{const e=TBUtilities.GetAllGateStatus();i.commit("setGates",e)}));const c=e=>{e.preventDefault();const t="paywall"===a.value?"Subscription Paywall Close":"Free Trial Modal Close Button",o={click_from:"x",channel_id:TBGlobal.CurrentChannelId()};e.target.classList.contains("tb-btn")&&(o.click_from="No Thanks"),"trialModal"===a.value&&(o.tool="Free Trial Modal"),TBUtilities.ReportProductEvent(t,o),jQuery("body").trigger("TBDestroyPaywall")};return(e,o)=>(t.openBlock(),t.createBlock(f,{id:"paywall-modal","is-draggable":!0,onModalClosing:c},{header:t.withCtx((()=>[t.createElementVNode("div",null,[t.createElementVNode("span",Vc,"Upgrade to "+t.toDisplayString(t.unref(l)),1)])])),content:t.withCtx((()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(s)),t.normalizeProps(t.guardReactiveProps(n)),null,16))])),footer:t.withCtx((()=>["paywall"===t.unref(a)?(t.openBlock(),t.createBlock(Ss,{key:0})):t.createCommentVNode("",!0)])),_:1}))}},Ic=e.createStore({modules:{showTrialModal:us}});const Dc=["src"],Lc={props:{sidebarWidth:{type:Number,default:516}},setup(o){const n=o,i=e.useStore(),a=t.computed((()=>i.getters.getIsOpen)),r=t.computed((()=>browser.runtime.getURL("/images/branding/tb-icon.svg"))),l=()=>{let e=a.value?"translate3d(-"+n.sidebarWidth+"px, 0, 0)":"none";$("#tb-toxic-button").css("transform",e)},s=()=>{let e=!a.value;i.commit("setIsOpen",e)};return t.onMounted((()=>{l(),t.watch((()=>a.value),((e,t)=>{e!==t&&l()}))})),(e,o)=>(t.openBlock(),t.createElementBlock("div",{id:"tb-toxic-button",class:"tb-pr-3 tb-pl-3 tb-pt-7 tb-pb-7 tb-flex tb-items-center tb-rounded-l-lg",style:{top:"50%"},onClick:s},[t.createElementVNode("img",{class:"tb-module-logo tb-rounded-full",style:{width:"20px",height:"20px"},src:t.unref(r),alt:"tb-logo","data-draggable":"false"},null,8,Dc)]))}},zc={class:"tb-flex tb-flex-col"},Mc=t.createElementVNode("i",{class:"material-icons tb-text-red-600 tb-pr-2"}," format_quote ",-1),Ac={class:"tb-text-gray-400 tb-italic tb-pt-1"},Uc=["onClick"],Oc=[t.createElementVNode("i",{class:"tb-text-gray-500 material-icons tb-cursor-pointer"}," delete ",-1)],_c={props:{id:{type:Number,default:0},comments:{type:Array,default:()=>[]},channelTable:{type:Object,default:()=>{}}},emits:["delete-comments"],setup(e,{emit:o}){const n=e;t.computed((()=>n.id));const i=t.computed((()=>n.comments));return t.computed((()=>n.channelTable)),(e,n)=>(t.openBlock(),t.createElementBlock("div",zc,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(i),(({comment:e,comment_id:n},i)=>(t.openBlock(),t.createElementBlock("div",{key:i,class:"tb-flex tb-items-start tb-pt-3"},[Mc,t.createElementVNode("div",Ac,t.toDisplayString(e),1),t.createElementVNode("div",{class:"tb-ml-auto",onClick:e=>o("delete-comments",[n])},Oc,8,Uc)])))),128))]))}},Pc={},jc={class:"tb-flex tb-flex-col tb-justify-center"},Gc=[t.createElementVNode("div",{class:"tb-text-gray-600 tb-flex tb-justify-center tb-p-5",style:{top:"50%"}},[t.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"150px",height:"150px",viewBox:"0 0 50 50",version:"1.1"},[t.createElementVNode("g",{id:"surface1"},[t.createElementVNode("path",{class:"tb-fill-current",d:"M 28.148438 30.476562 C 27.957031 30.140625 27.542969 30.003906 27.1875 30.15625 C 26.515625 30.449219 25.773438 30.605469 24.996094 30.605469 C 24.222656 30.605469 23.484375 30.445312 22.8125 30.15625 C 22.457031 30.003906 22.042969 30.136719 21.851562 30.476562 L 16.492188 39.8125 C 16.273438 40.1875 16.414062 40.667969 16.800781 40.863281 C 18.097656 41.53125 21.113281 42.832031 24.949219 42.851562 C 24.949219 42.851562 24.984375 42.851562 24.996094 42.851562 C 25.011719 42.851562 25.039062 42.851562 25.039062 42.851562 C 28.847656 42.832031 31.878906 41.53125 33.191406 40.863281 C 33.574219 40.667969 33.722656 40.1875 33.503906 39.8125 Z M 28.148438 30.476562 "}),t.createElementVNode("path",{class:"tb-fill-current",d:"M 19.488281 24.460938 C 19.671875 22.910156 20.484375 21.535156 21.664062 20.640625 C 21.972656 20.410156 22.058594 19.984375 21.859375 19.65625 L 16.429688 10.363281 C 16.214844 9.988281 15.722656 9.875 15.363281 10.109375 C 14.136719 10.910156 11.5 12.890625 9.589844 16.1875 C 9.574219 16.214844 9.574219 16.214844 9.570312 16.222656 C 9.566406 16.234375 9.550781 16.257812 9.550781 16.257812 C 7.664062 19.589844 7.285156 22.867188 7.21875 24.328125 C 7.199219 24.761719 7.542969 25.121094 7.976562 25.121094 L 18.746094 25.121094 C 19.121094 25.125 19.445312 24.839844 19.488281 24.460938 Z M 19.488281 24.460938 "}),t.createElementVNode("path",{class:"tb-fill-current",d:"M 40.433594 16.257812 C 40.433594 16.257812 40.417969 16.234375 40.414062 16.222656 C 40.410156 16.214844 40.410156 16.214844 40.394531 16.1875 C 38.484375 12.890625 35.847656 10.910156 34.621094 10.109375 C 34.257812 9.875 33.773438 9.988281 33.554688 10.363281 L 28.121094 19.65625 C 27.925781 19.988281 28.011719 20.410156 28.316406 20.640625 C 29.496094 21.535156 30.308594 22.910156 30.492188 24.460938 C 30.535156 24.839844 30.859375 25.125 31.242188 25.125 L 42.011719 25.125 C 42.445312 25.125 42.789062 24.765625 42.769531 24.332031 C 42.699219 22.871094 42.324219 19.59375 40.433594 16.257812 Z M 40.433594 16.257812 "}),t.createElementVNode("path",{class:"tb-fill-current",d:"M 21.285156 25.101562 C 21.292969 26.457031 22.03125 27.632812 23.125 28.269531 C 23.671875 28.589844 24.3125 28.777344 24.988281 28.777344 C 25.671875 28.777344 26.3125 28.589844 26.867188 28.269531 C 27.953125 27.632812 28.683594 26.457031 28.699219 25.101562 C 28.699219 25.089844 28.699219 25.082031 28.699219 25.070312 C 28.699219 23.695312 27.953125 22.496094 26.84375 21.859375 C 26.300781 21.546875 25.667969 21.363281 24.996094 21.363281 C 24.324219 21.363281 23.691406 21.546875 23.144531 21.859375 C 22.039062 22.503906 21.289062 23.699219 21.289062 25.070312 C 21.285156 25.082031 21.285156 25.089844 21.285156 25.101562 Z M 21.285156 25.101562 "}),t.createElementVNode("path",{class:"tb-fill-current",d:"M 42.660156 7.320312 C 40.367188 5.023438 37.695312 3.226562 34.71875 1.964844 C 31.632812 0.664062 28.363281 0 24.988281 0 C 21.617188 0 18.347656 0.664062 15.261719 1.964844 C 12.285156 3.226562 9.617188 5.023438 7.320312 7.320312 C 5.023438 9.617188 3.226562 12.285156 1.964844 15.261719 C 0.664062 18.339844 0 21.617188 0 24.988281 C 0 28.363281 0.664062 31.632812 1.964844 34.71875 C 3.226562 37.695312 5.023438 40.363281 7.320312 42.660156 C 9.617188 44.953125 12.285156 46.753906 15.261719 48.011719 C 18.347656 49.316406 21.617188 49.980469 24.988281 49.980469 C 28.363281 49.980469 31.632812 49.316406 34.71875 48.011719 C 37.695312 46.753906 40.367188 44.953125 42.660156 42.660156 C 44.953125 40.363281 46.753906 37.695312 48.011719 34.71875 C 49.316406 31.632812 49.980469 28.363281 49.980469 24.988281 C 49.980469 21.617188 49.316406 18.34375 48.019531 15.261719 C 46.757812 12.285156 44.953125 9.617188 42.660156 7.320312 Z M 43.59375 32.847656 C 42.578125 35.246094 41.121094 37.40625 39.265625 39.261719 C 37.410156 41.117188 35.253906 42.574219 32.851562 43.589844 C 30.363281 44.640625 27.71875 45.175781 24.996094 45.175781 C 22.269531 45.175781 19.625 44.640625 17.136719 43.589844 C 14.738281 42.574219 12.578125 41.117188 10.722656 39.261719 C 8.867188 37.40625 7.410156 35.246094 6.394531 32.847656 C 5.34375 30.359375 4.808594 27.714844 4.808594 24.988281 C 4.808594 22.265625 5.34375 19.621094 6.394531 17.132812 C 7.410156 14.730469 8.867188 12.574219 10.722656 10.71875 C 12.578125 8.863281 14.738281 7.40625 17.136719 6.390625 C 19.625 5.339844 22.269531 4.804688 24.996094 4.804688 C 27.71875 4.804688 30.363281 5.339844 32.851562 6.390625 C 35.253906 7.40625 37.410156 8.863281 39.265625 10.71875 C 41.121094 12.574219 42.578125 14.730469 43.59375 17.132812 C 44.644531 19.621094 45.183594 22.265625 45.183594 24.988281 C 45.183594 27.714844 44.644531 30.359375 43.59375 32.847656 Z M 43.59375 32.847656 "})])])],-1),t.createElementVNode("div",{class:"tb-flex tb-text-center tb-pt-5 tb-flex-col tb-text-gray-600"},[t.createElementVNode("h2",null,"No toxic comments detected"),t.createTextVNode(" We are only looking at your last 200 comments ")],-1)];const Rc=v(Pc,[["render",function(e,o){return t.openBlock(),t.createElementBlock("div",jc,Gc)}]]);function Fc(){const e="#tb-editvideo-nav-video",t="#tb-editvideo-nav-list-menu",o=()=>document.location.href.slice(document.location.href.search("/video/")+7,document.location.href.search("/video/")+18);return{isSmallWindow:e=>window.innerWidth<=e,shrinkWorkareaSize:(e,t,o,n)=>{let i=!t&&o?(window.innerWidth-n).toString()+"px":"auto";$(e).css("width",i)},adjustQuickEditToolbar:o=>{!!o?($(e).addClass("is-open"),$(t).addClass("is-open")):($(e).removeClass("is-open"),$(t).removeClass("is-open"))},getVideoId:o,getVideoTitle:()=>jQuery("#entity-name").length>0?jQuery("#entity-name").text().trim():"",getVideoDescription:()=>{if(jQuery(".description").find("textarea").length>0)return jQuery(".description").find("textarea").val().trim()},getVideoThumbnail:()=>jQuery("#img-with-fallback:first").length>0?jQuery('#img-with-fallback[src*="'+o()+'"]:first').attr("src"):"https://img.youtube.com/vi/"+o()+"/mqdefault.jpg"}}const $c={id:"tb-sidebar"},Hc={props:{sidebarWidth:{type:Number,default:516},sidebarHeight:{type:[Number,String],default:null},smallestWorkareaSize:{type:Number,default:1828},workareaSelector:{type:String,default:"#entity-page"},shrinkWorkarea:{type:Boolean,default:!1}},setup(o){const n=o,{isSmallWindow:i,shrinkWorkareaSize:a,adjustQuickEditToolbar:r}=Fc(),l=e.useStore(),s=/(https:\/\/studio\.youtube\.com\/video\/[^\/]+\/edit)($|\?)/,c="#tb-sidebar",d=t.computed((()=>l.getters.getModuleId)),u=t.computed((()=>l.getters.getIsOpen)),p=()=>{let e=null,t=null;null!==n.sidebarHeight?typeof n.sidebarHeight===Number?(e=n.sidebarHeight.toString()+"px",t=n.sidebarHeight):(e=n.sidebarHeight,t=n.sidebarHeight):(e=window.innerHeight.toString()+"px",t=window.innerHeight),$(c).css("height",e),l.commit("setSidebarHeight",t)},m=()=>{let e=0;e=i(n.smallestWorkareaSize)?u.value?-Math.abs(n.sidebarWidth):0:n.shrinkWorkarea?u.value?0:n.sidebarWidth:u.value?-Math.abs(n.sidebarWidth):0;let t="translate3d("+e.toString()+"px, 0, 0)";$(c).css("transform",t)};return t.onMounted((()=>{$(c).css("width",n.sidebarWidth),r(u.value),p();let e=null;n.shrinkWorkarea?(e=!i(n.smallestWorkareaSize),l.commit("setIsOpen",e),a(n.workareaSelector,i(n.smallestWorkareaSize),u.value,n.sidebarWidth)):(e=!1,l.commit("setIsOpen",e)),t.watch((()=>u.value),((e,t)=>{e!==t&&(m(),r(u.value),n.shrinkWorkarea&&a(n.workareaSelector,i(n.smallestWorkareaSize),u.value,n.sidebarWidth))})),$(n.workareaSelector).on("click",(e=>{if(!($(d.value).has(e.target).length>0)&&0===$(d.value).has(e.target).length&&u.value){if(!s.test(window.location.href))return;if(!document.getElementById("tb-toolbox"))return;l.commit("setIsOpen",!1),r(u.value),n.shrinkWorkarea&&a(n.workareaSelector,i(n.smallestWorkareaSize),u.value,n.sidebarWidth)}})),$(window).on("resize",(()=>{p(),r(u.value),i(n.smallestWorkareaSize)?m():n.shrinkWorkarea?(m(),l.commit("setIsOpen",!0)):m(),n.shrinkWorkarea&&a(n.workareaSelector,i(n.smallestWorkareaSize),u.value,n.sidebarWidth)}))})),(e,o)=>(t.openBlock(),t.createElementBlock("div",$c,[t.renderSlot(e.$slots,"main-content-1")]))}},Qc={class:"tb-flex tb-flex-grow tb-flex-col tb-pb-3"},Kc=["id"],Yc={props:{id:{type:Number,default:0},mainContentProps:{type:Object,default:()=>{}}},setup(e){const o=e,[n,i]=zl(!1),a=t.computed((()=>o.id)),r=t.computed((()=>o.mainContentProps));return(e,o)=>(t.openBlock(),t.createElementBlock("div",Qc,[t.createElementVNode("div",{class:"tb-pl-3 tb-pr-3 tb-pt-4 tb-pb-4 tb-rounded-lg tb-flex tb-items-center tb-justify-between tb-cursor-pointer",style:{"background-color":"#F9F5F5"},onClick:o[0]||(o[0]=e=>{i(!n.value)})},[t.renderSlot(e.$slots,"title"),t.createElementVNode("i",{style:{color:"#ADAAAA"},class:t.normalizeClass(["tb-flex material-icons tb-transition-all tb-duration-200 tb-transform",{"tb-rotate-180":t.unref(n),"tb-rotate-0":!t.unref(n)}])}," expand_more ",2)]),t.withDirectives(t.createElementVNode("div",{id:t.unref(a)},[t.renderSlot(e.$slots,"content",{contentProps:t.unref(r)})],8,Kc),[[t.vShow,t.unref(n)]])]))}},Wc={id:"tb-toxicity"},qc={key:0,class:"confirm-modal-backdrop"},Jc={class:"tb-flex tb-flex-col tb-justify-center tb-p-6"},Zc={key:0},Xc={key:0,class:"tb-font-bold"},ed={key:1,class:"tb-font-bold"},td={key:2,class:"tb-pt-5"},od={key:3},nd=[t.createElementVNode("span",{class:"tb-spinner"},null,-1),t.createTextVNode(" Deleting comments. The page will refresh when finished. ")],id={key:1,class:"tb-text-red-600"},ad={class:"tb-flex tb-justify-end tb-pt-12"},rd=t.createTextVNode(" Cancel "),ld={class:"tb-bg-white tb-p-5 tb-rounded-lg"},sd=t.createElementVNode("div",{class:"tb-pb-3"},[t.createElementVNode("h2",{class:"tb-font-bold tb-pb-3 tb-text-gray-900"}," Hall Of Shame "),t.createElementVNode("div",{class:"tb-text-gray-400"}," These are the commentors who have made the most toxic comments on your content of the last 200 comments. ")],-1),cd={key:1},dd={class:"tb-flex"},ud={class:"tb-font-semibold tb-text-gray-900 tb-text-xl"},pd=["onClick"],md=t.createTextVNode(" delete all toxic comments "),bd={setup(o){const n=e.useStore(),[i,a]=zl(!0),[r,l]=zl(!1),[s,c]=zl(!1);zl(!1);const[d,u]=zl({}),[p,m]=zl({}),[b,g]=zl([]),[h,v]=zl([]),[y,T]=zl(!1);t.computed((()=>n.getters.getIsOpen));t.onBeforeMount((()=>{(async()=>{try{const e=await TubeBuddyYouTubeActions.GetCommentsToxicity(200),t=`${TBGlobal.host}/api/toxicity/analysis`;if(!(e.commentsList.length>0))return void a(!1);{const t=e.commentsList.reduce(((e,t)=>(e[t.comment_id]=t.delete,e)),{});u(t);const o=e.commentsList.reduce(((e,t)=>(void 0===e[t.commenter_channel_id]&&(e[t.commenter_channel_id]=t.commenter_name),e)),{});m(o)}TBExtension.Post(t,JSON.stringify(e.commentGrouping),((e,t,o)=>{const n=JSON.parse(o);g(n),a(!1)}),null,{contentType:"application/json"})}catch(e){console.log(e)}})()})),t.onMounted((()=>{n.commit("setModuleId","#tb-toxicity")}));const w=()=>{console.log("delete"),l(!0),h.value.forEach((async e=>{try{await TubeBuddyYouTubeActions.DeleteCommentStudio(e),await ao(500)}catch(t){console.log("err:",t),c(!0),l(!1)}})),s.value||window.location.reload()},k=e=>{const t=[];e.forEach((e=>{t.push(d.value[e])})),v(t),T(!0)},E=()=>{const e=b.value.reduce(((e,t)=>{const o=t.comments.map((e=>e.comment_id));return e.push(o),e}),[]);k(e.flat())},S=()=>{!0!==r.value&&(v([]),c(!1),T(!1))};return(e,o)=>(t.openBlock(),t.createElementBlock("div",Wc,[t.unref(y)?(t.openBlock(),t.createElementBlock("div",qc,[t.createVNode(f,{id:"toxicity",width:500,height:500,"is-draggable":!1,onModalClosing:t.withModifiers(S,["stop","prevent"])},{header:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(t.unref(h).length>1?"Delete Comments":"Delete Comment"),1)])),content:t.withCtx((()=>[t.createElementVNode("div",Jc,[t.unref(s)?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",Zc,[t.unref(h).length>1&&!t.unref(r)?(t.openBlock(),t.createElementBlock("div",Xc," Are you sure you want to delete these comments? ")):t.createCommentVNode("",!0),1!==t.unref(h).length||t.unref(r)?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",ed," Are you sure you want to delete this comment? ")),t.unref(r)?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",td," Comments cannot be restored once they are deleted. ")),t.unref(r)?(t.openBlock(),t.createElementBlock("div",od,nd)):t.createCommentVNode("",!0)])),t.unref(s)?(t.openBlock(),t.createElementBlock("div",id," There was an error deleting the comments. ")):t.createCommentVNode("",!0),t.createElementVNode("div",ad,[t.createVNode(x,{class:t.normalizeClass(["tb-bg-gray-200 tb-text-gray-500 tb-rounded-md",t.unref(r)?" tb-pointer-events-none":""]),onClick:S},{default:t.withCtx((()=>[rd])),_:1},8,["class"]),t.createVNode(x,{class:t.normalizeClass(["tb-bg-red-500 tb-text-white tb-ml-3 tb-rounded-md",t.unref(r)?" tb-pointer-events-none":""]),onClick:w},{default:t.withCtx((()=>[t.createTextVNode(t.toDisplayString(t.unref(h).length>1?"Delete Comments":"Delete Comment"),1)])),_:1},8,["class"])])])])),_:1},8,["onModalClosing"])])):t.createCommentVNode("",!0),t.createVNode(Lc,{sidebarWidth:350}),t.createVNode(Hc,{class:"tb-p-6 tb-flex tb-flex-col",title:"Comment Analysis",sidebarWidth:350,sidebarHeight:"calc(100vh - 7em)",workareaSelector:"#entity-page"},{"main-content-1":t.withCtx((()=>[t.createElementVNode("div",ld,[sd,t.unref(b).length<1&&!t.unref(i)?(t.openBlock(),t.createBlock(Rc,{key:0})):t.createCommentVNode("",!0),t.unref(b).length>0?(t.openBlock(),t.createElementBlock("div",cd,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(b),(({comments:e,commenter_channel_id:o})=>(t.openBlock(),t.createElementBlock("div",{key:o},[t.createElementVNode("div",dd,[t.createVNode(Yc,{id:o,"main-content-props":{commenter_channel_id:o,comments:e,commentData:t.unref(d)}},{title:t.withCtx((()=>[t.createElementVNode("span",ud,t.toDisplayString(t.unref(p)[o]),1)])),content:t.withCtx((({contentProps:e})=>[t.createVNode(_c,{comments:e.comments,onDeleteComments:k},null,8,["comments"])])),_:2},1032,["id","main-content-props"]),t.createElementVNode("i",{class:"tb-text-gray-500 tb-flex material-icons tb-cursor-pointer",onClick:t=>k(e.map((e=>e.comment_id)))}," delete ",8,pd)])])))),128))])):t.createCommentVNode("",!0),t.unref(b).length>0?(t.openBlock(),t.createBlock(x,{key:2,class:"tb-bg-blue-500 tb-text-white",onClick:E},{default:t.withCtx((()=>[md])),_:1})):t.createCommentVNode("",!0)])])),_:1})]))}};let gd={state:()=>({moduleId:""}),mutations:{setModuleId(e,t){e.moduleId=t}},getters:{getModuleId:e=>e.moduleId}},hd={state:()=>({isOpen:!1}),mutations:{setIsOpen(e,t){e.isOpen=t}},getters:{getIsOpen:e=>e.isOpen}},fd={state:()=>({sidebarHeight:0}),mutations:{setSidebarHeight(e,t){e.sidebarHeight=t}},getters:{getSidebarHeight:e=>e.sidebarHeight}};const vd={state:()=>({feature:null}),mutations:{setActiveFeature(e,t){e.feature=t}},getters:{getActiveFeature:e=>e.feature}};const yd=["src"],xd={props:{sidebarWidth:{type:Number,default:516}},setup(o){const n=o,i=/(https:\/\/studio\.youtube\.com\/video\/[^\/]+\/edit)($|\?)/,a=e.useStore(),r=t.computed((()=>a.getters.getIsOpen)),l=t.computed((()=>browser.runtime.getURL("/images/branding/tb-icon-transparent.svg"))),s=()=>{const e=r.value?`translate3d(-${n.sidebarWidth}px, 0, 0)`:"none";$("#tb-sidebar-tab").css("transform",e)},c=()=>{const e=!r.value;a.commit("setIsOpen",e),i.test(window.location.href)||jQuery("body").trigger("TBCloseToolBox");const t=`tb-${TBGlobal.CurrentChannelId()}-${a.getters.getModuleId}-isOpen`;TBExtension.SetDbValue(t,e,(t=>TBUtilities.Log(`tb-sidebar saved state of ${a.getters.getModuleId} to ${e}`)))};return t.onMounted((()=>{s(),t.watch((()=>r.value),((e,t)=>{e!==t&&s()}))})),(e,o)=>(t.openBlock(),t.createElementBlock("div",{id:"tb-sidebar-tab",class:"tb-pr-3 tb-pl-3 tb-pt-7 tb-pb-7 tb-items-center tb-rounded-l-lg",style:{top:"15%"},onClick:c},[t.createElementVNode("img",{class:"tb-module-logo tb-rounded-full",src:t.unref(l),alt:"tb-logo","data-draggable":"false"},null,8,yd)]))}},Td={class:"tb-sidebar-sub-item"},wd={id:"subitem-title"},kd={key:1,id:"subitem-confidence-level",class:"tb-sub-item-span ab-test-in-progress"},Ed={key:2,id:"subitem-complete",class:"tb-sub-item-span ab-test-complete"},Sd=["src"],Bd={class:"tb-sub-item-p"},Cd={key:4,class:"tb-permission-copy"},Vd=t.createTextVNode(" for access "),Nd=["href"],Id=t.createTextVNode(". "),Dd={props:{abTestStatus:{type:String,default:""},abConfidenceLevel:{type:Number,default:0},highlight:{type:String,default:""},isLocked:{type:Boolean,default:!1},itemId:{type:Boolean,default:!1},lockIcon:{type:String,default:""},permissionLevel:{type:String,default:"Level1Access"},title:{type:String,default:""},toolboxCopy:{type:String,default:""}},setup(e){const o=e,n="PRO REQUIRED",i="STAR REQUIRED",a="LEGEND REQUIRED",r={Level1Access:1,Level2Access:2,Level3Access:3,Level4Access:4},l="yellow",s="orange",c="purple",d=t.computed((()=>"new"===o.highlight?"red":"beta"===o.highlight?"blue":void 0)),u=t.computed((()=>Number(r[o.permissionLevel]))),p=t.computed((()=>{switch(u.value){case r.Level1Access:return l;case r.Level2Access:return s;case r.Level3Access:return c;default:return l}})),m=t.computed((()=>{switch(u.value){case r.Level1Access:return n;case r.Level2Access:return i;case r.Level3Access:return a;default:return l}})),b=t.computed((()=>{if("videoabtests"===o.itemId){if("Scheduled"===o.abTestStatus)return"A/B Test Scheduled";if("In Progress"===o.abTestStatus||"Complete"===o.abTestStatus)return"View A/B Test Results"}return o.title})),g=t.computed((()=>`${o.abConfidenceLevel} % Confidence`)),h=t.computed((()=>TBGlobal.GetUpgradeLink(o.itemId)));t.computed((()=>o.abTestStatus));const f=t.computed((()=>"videoabtests"===o.itemId&&"In Progress"===o.abTestStatus)),v=t.computed((()=>"videoabtests"===o.itemId&&"Complete"===o.abTestStatus));return(o,n)=>(t.openBlock(),t.createElementBlock("div",Td,[t.createElementVNode("h4",wd,t.toDisplayString(t.unref(b)),1),""!=e.highlight?(t.openBlock(),t.createElementBlock("span",{key:0,id:"subitem-highlight",class:t.normalizeClass(["tb-sub-item-span",t.unref(d)])},t.toDisplayString(e.highlight),3)):t.createCommentVNode("",!0),t.unref(f)?(t.openBlock(),t.createElementBlock("span",kd,t.toDisplayString(t.unref(g)),1)):t.createCommentVNode("",!0),t.unref(v)?(t.openBlock(),t.createElementBlock("span",Ed,"COMPLETED")):t.createCommentVNode("",!0),e.isLocked?(t.openBlock(),t.createElementBlock("img",{key:3,alt:"lock-icon",class:"tb-lock-icon",src:e.lockIcon},null,8,Sd)):t.createCommentVNode("",!0),t.createElementVNode("p",Bd,t.toDisplayString(e.toolboxCopy),1),e.isLocked?(t.openBlock(),t.createElementBlock("div",Cd,[t.createElementVNode("div",{class:t.normalizeClass(["tb-permission-access",t.unref(p)])},t.toDisplayString(t.unref(m)),3),Vd,t.createElementVNode("a",{class:"tb-permission-anchor",href:t.unref(h),target:"_blank"},"upgrade now",8,Nd),Id])):t.createCommentVNode("",!0)]))}},Ld={scheduled:[0,1],inProgress:[7],completed:[2,4,6,8]},zd=e=>new Promise(((t,o)=>{const n=`${TBGlobal.host+TBGlobal.apiUrls.getABTestVideoOptimizationStatus}?videoId=${e}`,i=e;TBExtension.Post(n,i,((e,n,i)=>{try{const o=e?(e=>{return"00000000-0000-0000-0000-000000000000"!=e.id?{testId:e.id,status:(t=e.status,Date.parse(e.startDate),o=e.daysRun,Ld.scheduled.includes(t)?o>0?"In Progress":"Scheduled":Ld.inProgress.includes(t)?"In Progress":Ld.completed.includes(t)?"Complete":void 0),percentComplete:e.percentComplete,confidenceLevel:e.confidenceLevel,startDate:e.startDate,endDate:e.endDate}:null;var t,o})(i):null;t(o)}catch(a){TBUtilities.Log(a),o(`Exception fetching current AB Testing Video Optimization Status. Ex: ${a}`)}}),null,{dataType:"JSON",contentType:!0})}));function Md(){const e=t.ref(null),o=t.ref(0);return{abTestStatus:e,abTestConfidenceLevel:o,updateAbTestStatus:t=>new Promise((n=>{let i;zd(t).then((t=>{i=t,null!==t&&(e.value=t.status,o.value=t.confidenceLevel)})).finally((()=>n(i)))}))}}const Ad={class:"tb-sidebar-list-item"},Ud={class:"tb-sidebar-header"},Od=["src"],_d={class:"right"},Pd=["onClick"],jd={props:{isVideoPublic:{type:Boolean,default:!1},itemHeaders:{type:Object,default:{}},subitems:{type:Object,default:{}},hideIfNotPublicVideo:{type:Array,default:[]},openToolOnsite:{type:Boolean,default:!1}},setup(o){const n=o,i=e.useStore(),{track:a}=z(),{getVideoId:r,getVideoTitle:l,getVideoThumbnail:s}=Fc(),{abTestStatus:c,abTestConfidenceLevel:d,updateAbTestStatus:u}=Md(),p=TBGlobal.CanAccessLevel1Tools(),m=TBGlobal.CanAccessLevel2Tools(),b=TBGlobal.CanAccessLevel3Tools(),g=r(),h=l(),f=s(),v=t.computed((()=>n.openToolOnsite));let y="";const x=(e,t)=>{t.video_id=r(),t.feature_name=y.length?y:null,t.tool="Toolbox",a(e,t)},T=e=>{y=e,x("Toolbox Upgrade Clicked",{})},w=e=>browser.runtime.getURL(e),k=(e,t)=>""===e||void 0===e||""===t||void 0===t?"":e+": "+t+";";let E={};for(let e=0;e<n.subitems.length;e++)for(let t=0;t<n.subitems[e].goals.length;t++){let o=n.subitems[e].goals[t];o in E?E[o].push(e):E[o]=[e]}const S=e=>!0===e.Level1Access?"Level1Access":!0===e.Level2Access?"Level2Access":!0===e.Level3Access?"Level3Access":null,B=e=>{if(y=e.name,v.value)a(`Growth ${e.name} Click`,{timestamp:(new Date).toISOString(),channel_id:TBGlobal.CurrentChannelId(),page_name:"YouTube Studio Home"}),window.open(`https://www.tubebuddy.com/tools/?tool=${e.id}`,"_blank");else{if(x("Toolbox Feature Clicked",{}),"videoabtests"===e.id){const e=document.getElementById("tb-optimization-button");if(null==e)return;return void document.getElementById("tb-optimization-button").click()}if("chaptereditor"===e.id)return TubeBuddyMenu.ShowBackgroundSticky(),void jQuery("body").trigger("TBopenChapterEditor",[{source:"toolbox"}]);if("cardtemplates"===e.id)return TBUtilities.ReportProductEvent("Bulk Templates Apply Launched",{tool:"cardtemplates",timestamp:(new Date).toISOString(),channel_id:TBGlobal.CurrentChannelId(),card_type:"Card",video_id:g,content_type:"Video"}),TubeBuddyMenu.ShowBackgroundSticky(),void TubeBuddyCardTemplatesStudio.Show(g,h,f);if("endscreentemplates"===e.id)return TBUtilities.ReportProductEvent("Bulk Templates Apply Launched",{tool:"endscreentemplates",timestamp:(new Date).toISOString(),channel_id:TBGlobal.CurrentChannelId(),card_type:"Endscreen",video_id:g,content_type:"Video"}),TubeBuddyMenu.ShowBackgroundSticky(),void TubeBuddyEndScreenTemplatesStudio.Show(g,h,f);if("schedulegolive"===e.id)return TubeBuddyMenu.ShowBackgroundSticky(),void TubeBuddyScheduledPublish.Show(g,h,f);"vid2vid"===e.id&&(TubeBuddyMenu.ShowBackgroundSticky(),TubeBuddyV2VPromote.Show(g,h,f)),"thumbnailanalyzer"===e.id&&(t="Thumbnail Studio Launched",(o={}).channel_id=TBGlobal.CurrentChannelId(),o.source="Toolbox",o.timestamp=(new Date).toISOString(),o.tool="Thumbnail Analyzer",o.video_id=r(),a(t,o),i.commit("setActiveFeature","Thumbnail Analyzer")),"titlegenerator"===e.id&&(TBUtilities.ReportProductEvent("Title Generator Launched",{channel_id:TBGlobal.CurrentChannelId(),video_id:g,tool:"Title Generator",launch_from:"toolbox",topic:h}),i.commit("setActiveFeature","Title Generator")),"suggestedshorts"===e.id&&(TBUtilities.ReportProductEvent("Shorts Suggestions Launched",{channel_id:TBGlobal.CurrentChannelId(),number_of_suggestions:1,source_from:"toolbox",timestamp:(new Date).toISOString(),tool:"Shorts Suggestion",video_id:g}),i.commit("setActiveFeature","Suggested Shorts"))}var t,o};return t.onMounted((async()=>{await u(r())})),(e,o)=>n.itemHeaders.length>0?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(n.itemHeaders,(e=>(t.openBlock(),t.createElementBlock("div",Ad,[t.createElementVNode("div",Ud,[t.createElementVNode("div",{class:"left",style:t.normalizeStyle(k("background-color",e.iconBackgroundColor))},[t.createElementVNode("img",{class:"tb-sidebar-header-image",src:w(e.icon)},null,8,Od)],4),t.createElementVNode("div",_d,[t.createElementVNode("h2",{style:t.normalizeStyle(k("color",e.fontColor))},t.toDisplayString(e.title),5),t.createElementVNode("h3",{style:t.normalizeStyle(k("color",e.fontColor))},t.toDisplayString(e.subtitle),5)])]),t.unref(E)[e.category].length>0?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(t.unref(E)[e.category],(e=>{return t.openBlock(),t.createElementBlock("div",null,[(o=n.subitems[e],!0===o.Level0Access||!0===p&&!0===o.Level1Access||!0===m&&!0===o.Level2Access||!0===b&&!0===o.Level3Access?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[!n.hideIfNotPublicVideo.includes(n.subitems[e].id)||n.hideIfNotPublicVideo.includes(n.subitems[e].id)&&!0===n.isVideoPublic?(t.openBlock(),t.createElementBlock("a",{key:0,class:"tb-sidebar-sub-item-a",onClick:t=>B(n.subitems[e])},[t.createVNode(Dd,{abTestStatus:t.unref(c),abConfidenceLevel:t.unref(d),highlight:n.subitems[e].highlight,isLocked:!1,itemId:n.subitems[e].id,lockIcon:w("/images/modules/figma/lock.svg"),toolboxCopy:n.subitems[e].toolBoxCopy,permissionLevel:S(n.subitems[e]),title:n.subitems[e].name},null,8,["abTestStatus","abConfidenceLevel","highlight","itemId","lockIcon","toolboxCopy","permissionLevel","title"])],8,Pd)):t.createCommentVNode("",!0)],64)):(t.openBlock(),t.createBlock(Dd,{key:0,onClick:t=>T(n.subitems[e].name),abTestStatus:t.unref(c),abConfidenceLevel:t.unref(d),highlight:n.subitems[e].highlight,isLocked:!0,itemId:n.subitems[e].id,lockIcon:w("/images/modules/figma/lock.svg"),toolboxCopy:n.subitems[e].toolBoxCopy,permissionLevel:S(n.subitems[e]),title:n.subitems[e].name},null,8,["onClick","abTestStatus","abConfidenceLevel","highlight","itemId","lockIcon","toolboxCopy","permissionLevel","title"])))]);var o})),256)):t.createCommentVNode("",!0)])))),256)):t.createCommentVNode("",!0)}},Gd={id:"tb-sidebar-footer"},Rd={id:"tb-sidebar-other-resources"},Fd=t.createElementVNode("h4",null," Other resources ",-1),$d={class:"tb-sidebar-list"},Hd=["href"],Qd=["src"],Kd={class:"tb-list-copy"},Yd={setup(e){const o=[{url:"https://www.youtube.com/c/tubebuddy",icon:"/images/modules/figma/youtube.svg",copy:"TubeBuddy Channel"},{url:"https://www.tubebuddy.com/blog/",icon:"/images/modules/figma/rss.svg",copy:"TubeBuddy Blog"},{url:"https://discord.com/channels/347812838737444865/694284089582420098",icon:"/images/modules/figma/discord.svg",copy:"TubeBuddy Discord server"},{url:"https://bengroup.qualtrics.com/jfe/form/SV_ezzfCbk2qmJqC3k",icon:"/images/modules/figma/feedback.svg",copy:"TubeBuddy Qualtrics survey"}];return(e,n)=>(t.openBlock(),t.createElementBlock("div",Gd,[t.createElementVNode("div",Rd,[Fd,t.createElementVNode("ul",$d,[o.length>0?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},t.renderList(o,(e=>{return t.createElementVNode("a",{href:e.url,target:"_blank"},[t.createElementVNode("li",null,[t.createElementVNode("img",{class:"tb-list-image",src:(o=e.icon,browser.runtime.getURL(o))},null,8,Qd),t.createElementVNode("p",Kd,t.toDisplayString(e.copy),1)])],8,Hd);var o})),64)):t.createCommentVNode("",!0)])])]))}};function Wd(){return{resetThumbnail:()=>{},deleteThumbnail:(e,t)=>new Promise(((o,n)=>{t||n("invalid request - no heatmapId");const i={channelId:TBGlobal.CurrentChannelId(),videoId:e,heatmapId:t},a=`${TBGlobal.host}/api/thumbnail/DeleteSavedHeatmapData`;TBExtension.Post(a,JSON.stringify(i),((e,t,i)=>{try{e?o(!0):(TBUtilities.LogError({Location:"[TubeBuddyThumbnailAnalyzer - delete thumbnail error: "+i.toString()}),n(i.status))}catch(a){TBUtilities.LogError({Exception:a,Location:"[TubeBuddyThumbnailAnalyzer - deleteThumbnail exception"}),o("Delete Thumbnail Exception: "+a)}}),null,{contentType:"application/json",headers:{currentChannelToken:TBGlobal.GetToken()}})})),checkUsage:()=>new Promise(((e,t)=>{const o=`${TBGlobal.host}/api/thumbnail/getchannelheatmapcount`;TBExtension.Get(o,((o,n,i)=>{try{e(o?JSON.parse(i):0)}catch(a){TBUtilities.LogError({Exception:a,Location:"[TubeBuddyThumbnailAnalyzer] - checkUsage"}),t(a)}}))}))}}const qd={key:0,class:"tb-thumbnail-analyzer-current-thumbnail"},Jd={class:"tb-thumbnail-analyzer-thumbnail"},Zd=["value"],Xd=["src"],eu=["src"],tu={class:"tb-thumbnail-analyzer-processed-thumbnail-info"},ou={class:"tb-thumbnail-analyzer-score"},nu={key:0,class:"tb-margin-top-15",width:"28",height:"4",viewBox:"0 0 28 4",fill:"none",xmlns:"http://www.w3.org/2000/svg"},iu=[t.createElementVNode("path",{d:"M27.7461 0.425781V3.24219H0.347656V0.425781H27.7461Z",fill:"#4E515A"},null,-1)],au=[t.createElementVNode("svg",{width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t.createElementVNode("path",{d:"M10.3333 12.5831C11.7475 11.5527 12.6666 9.88369 12.6666 8C12.6666 4.87038 10.1296 2.33333 6.99998 2.33333H6.66665M6.99998 13.6667C3.87037 13.6667 1.33331 11.1296 1.33331 8C1.33331 6.11631 2.25242 4.44729 3.66665 3.41693M6.33331 14.9333L7.66665 13.6L6.33331 12.2667M7.66665 3.73333L6.33331 2.4L7.66665 1.06667",stroke:"#1156EE","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),t.createElementVNode("span",null,"Sync from YouTube",-1)],ru={class:"tb-thumbnail-analyzer-thumbnail"},lu=["value","onChange"],su=["src"],cu=["src"],du=["src"],uu={class:"tb-thumbnail-analyzer-processed-thumbnail-info"},pu={key:0},mu={key:1},bu={key:2,class:"tb-thumbnail-analyzer-score-container"},gu={key:0,width:"14",height:"7",viewBox:"0 0 14 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hu=[t.createElementVNode("path",{d:"M7.70711 6.29289C7.31658 6.68342 6.68342 6.68342 6.29289 6.29289L0.853552 0.853551C0.53857 0.538569 0.761655 -1.15733e-06 1.20711 -1.11839e-06L12.7929 -1.05529e-07C13.2383 -6.65859e-08 13.4614 0.538571 13.1464 0.853553L7.70711 6.29289Z",fill:"#B85A5A"},null,-1)],fu={key:1,width:"14",height:"7",viewBox:"0 0 14 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vu=[t.createElementVNode("path",{d:"M6.29289 0.707106C6.68342 0.316582 7.31658 0.316583 7.70711 0.707107L13.1464 6.14645C13.4614 6.46143 13.2383 7 12.7929 7H1.20711C0.761654 7 0.538571 6.46143 0.853553 6.14645L6.29289 0.707106Z",fill:"#2FA00B"},null,-1)],yu={key:2,class:"tb-thumbnail-analyzer-score"},xu=t.createElementVNode("span",null,"%",-1),Tu=["onClick"],wu=[t.createElementVNode("svg",{width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t.createElementVNode("path",{d:"M9.66667 4.00016V3.46683C9.66667 2.72009 9.66667 2.34672 9.52134 2.06151C9.39351 1.81063 9.18954 1.60665 8.93865 1.47882C8.65344 1.3335 8.28007 1.3335 7.53333 1.3335H6.46667C5.71993 1.3335 5.34656 1.3335 5.06135 1.47882C4.81046 1.60665 4.60649 1.81063 4.47866 2.06151C4.33333 2.34672 4.33333 2.72009 4.33333 3.46683V4.00016M1 4.00016H13M11.6667 4.00016V11.4668C11.6667 12.5869 11.6667 13.147 11.4487 13.5748C11.2569 13.9511 10.951 14.2571 10.5746 14.4488C10.1468 14.6668 9.58677 14.6668 8.46667 14.6668H5.53333C4.41323 14.6668 3.85318 14.6668 3.42535 14.4488C3.04903 14.2571 2.74307 13.9511 2.55132 13.5748C2.33333 13.147 2.33333 12.5869 2.33333 11.4668V4.00016",stroke:"#686970","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)],ku={key:4,class:"tb-thumbnail-analyzer-recommended-tag"},Eu=[t.createElementVNode("span",null,"Recommended",-1)],Su={key:0,class:"tb-thumbnail-analyzer-processing-state"},Bu=[t.createElementVNode("span",{class:"tb-spinner"},null,-1)],Cu={key:0,class:"tb-thumbnail-analyzer-survey-link"},Vu=[t.createTextVNode(" We would love to get your feedback on this tool"),t.createElementVNode("br",null,null,-1),t.createElementVNode("a",{href:"https://bengroup.qualtrics.com/jfe/form/SV_cI4Dg67cdTykC34",rel:"noopener",target:"_blank"}," fill out our 3-question survey ",-1)],Nu={props:{showListItem:{type:Boolean,default:!1},isCachedThumbnail:{type:Boolean,default:!1},score:{type:Array,default:[]},showScore:{type:Boolean,default:!1},addedThumbnail:{type:String,default:""},uploadedThumbnails:{type:Array,default:[]},generatedHeatmaps:{type:Array,default:[]},showHeatmap:{type:Boolean,default:!1},value:{type:Number},currentScore:{type:Number},limitedLicense:{type:Boolean},abTestRunning:{type:Boolean}},setup(o){const n=o,{getVideoId:i}=Fc(),a=e.useStore();t.computed((()=>a.getters.getVariationThumbnailImage));const{track:r}=z(),{deleteThumbnail:l}=Wd();let s=t.ref(0);t.onUpdated((()=>{d()}));const c=(e,t,o,n)=>{a.commit("setVariationThumbnailImage",e),a.commit("setVariationThumbnailImageExt",t),a.commit("setSelectedThumbnailScore",o),a.commit("setThumbnailHeatmapId",n)},d=()=>{try{s.value=n.uploadedThumbnails[0].id,c(n.uploadedThumbnails[0].cleanData,n.uploadedThumbnails[0].imageExt??"png",n.score[0],n.uploadedThumbnails[0].heatmapId)}catch{console.log("props.uploadedThumbnails.length: ",n.uploadedThumbnails.length)}},u=async(e,t)=>{((e,t,o)=>{t.timestamp=(new Date).toISOString(),t.video_id=i(),t.tool="Thumbnail Analyzer",t.channel_id=TBGlobal.CurrentChannelId(),t.thumbnail_prediction_score=o;try{r(e,t)}catch(n){}})("Thumbnail Studio Delete Thumbnail",{},n.score[e]),void 0===n.generatedHeatmaps[e].heatmapId||n.limitedLicense||(l(i(),t).catch((e=>{500===e?TBUtilities.Alert("Thumbnail Analyzer was unable to delete your image. Please contact TubeBuddy Support"):(TBUtilities.Alert("An unexpected error has occurred. Please contact TubeBuddy Support."),TBUtilities.Log("Thumbnail Analyzer ThumbnailList.vue - delete data unexpected error --------- ",response))})),n.uploadedThumbnails.splice(e,1),n.generatedHeatmaps.splice(e,1),n.score.splice(e,1),d())};return(e,a)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createVNode(t.TransitionGroup,{name:"list"},{default:t.withCtx((()=>[n.showListItem?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(n.uploadedThumbnails,((e,r)=>{return t.openBlock(),t.createElementBlock("div",{class:"tb-thumbnail-analyzer-list-item",key:e.id},[e.currentThumbnail?(t.openBlock(),t.createElementBlock("div",qd,[t.createElementVNode("div",Jd,[t.createElementVNode("input",{class:"tb-thumbnail-radio-btn",type:"radio",name:"radio",value:e.id,style:t.normalizeStyle([e.currentThumbnail?{visibility:"hidden"}:{visibility:"visible"}])},null,12,Zd),!n.showHeatmap&&!1===e.new||!n.showHeatmap&&!1===e.new&&n.showScore?(t.openBlock(),t.createElementBlock("img",{key:0,class:"tb-thumbnail-analyzer-heatmap",src:"data:image.png;base64,"+n.generatedHeatmaps[r].label,alt:"thumbnail heatmap"},null,8,Xd)):t.createCommentVNode("",!0),"S3-No-FileName-TB-Saved-Data.png"===n.uploadedThumbnails[r].fileName&&o.isCachedThumbnail?(t.openBlock(),t.createElementBlock("img",{key:1,class:"tb-thumbnail-analyzer-image",src:"data:image.png;base64,"+e.label,alt:"thumbnail variation"},null,8,eu)):t.createCommentVNode("",!0)]),t.createElementVNode("div",tu,[t.createElementVNode("span",null,t.toDisplayString(o.abTestRunning?"CURRENTLY TESTING":"CURRENT THUMBNAIL"),1),t.createElementVNode("div",ou,[e.currentThumbnail&&!o.abTestRunning?(t.openBlock(),t.createElementBlock("svg",nu,iu)):t.createCommentVNode("",!0)]),n.uploadedThumbnails.length>1&&!o.abTestRunning?(t.openBlock(),t.createElementBlock("div",{key:0,class:"tb-thumbnail-analyzer-sync-btn",onClick:a[0]||(a[0]=t.withModifiers((e=>{TBUtilities.Confirm("This action will reload the page",(function(){const e=`${TBGlobal.host}/api/thumbnail/resyncvideothumbnail`,t=i(),o={ChannelId:TBGlobal.CurrentChannelId(),VideoId:t};TBExtension.Post(e,JSON.stringify(o),((e,t,o)=>{try{e&&setTimeout((function(){location.reload()}),1e3)}catch(n){TBUtilities.LogError({Exception:n,Location:"[TubeBuddy.ThumbnailAnalyzer.ThumbnailUpload.vue] Resync Thumbnail from YouTube"})}}),null,{contentType:"application/json",headers:{currentChannelToken:TBGlobal.GetToken()}})}))}),["stop"]))},au)):t.createCommentVNode("",!0),1===n.uploadedThumbnails.length||o.abTestRunning?(t.openBlock(),t.createElementBlock("div",{key:1,class:"tb-thumbnail-analyzer-empty-list",style:t.normalizeStyle({"margin-top":o.abTestRunning?"23px":"0px"})},t.toDisplayString(o.abTestRunning?"This thumbnail is currently being used in your A/B test":"Upload at least one alternate image to get a prediction score"),5)):t.createCommentVNode("",!0)])])):(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(["tb-thumbnail-analyzer-uploaded-item",{"is-selected":t.unref(s)===e.id}])},[t.createElementVNode("div",ru,[t.withDirectives(t.createElementVNode("input",{class:"tb-thumbnail-radio-btn",type:"radio",name:"radio",value:e.id,"onUpdate:modelValue":a[1]||(a[1]=e=>t.isRef(s)?s.value=e:s=e),onChange:e=>{(e=>{c(n.uploadedThumbnails[e].cleanData,n.uploadedThumbnails[e].imageExt??"png",n.uploadedThumbnails[e].score,n.uploadedThumbnails[e].heatmapId)})(r)}},null,40,lu),[[t.vModelRadio,t.unref(s)]]),!n.showHeatmap&&!1===e.new||!n.showHeatmap&&!1===e.new&&n.showScore?(t.openBlock(),t.createElementBlock("img",{key:0,class:"tb-thumbnail-analyzer-heatmap",src:"data:image.png;base64,"+n.generatedHeatmaps[r].label,alt:"thumbnail heatmap"},null,8,su)):t.createCommentVNode("",!0),"S3-No-FileName-TB-Saved-Data.png"===n.uploadedThumbnails[r].fileName&&o.isCachedThumbnail?(t.openBlock(),t.createElementBlock("img",{key:1,class:"tb-thumbnail-analyzer-image",src:"data:image.png;base64,"+e.label,alt:"thumbnail variation"},null,8,cu)):t.createCommentVNode("",!0),e.isUpload?(t.openBlock(),t.createElementBlock("img",{key:2,class:"tb-thumbnail-analyzer-image",src:e.label,alt:"thumbnail variation"},null,8,du)):t.createCommentVNode("",!0)]),t.createElementVNode("div",uu,[e.new?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("span",pu,t.toDisplayString(e.improvement),1)),null===e.score||e.new?(t.openBlock(),t.createElementBlock("span",mu,"ANALYZING")):t.createCommentVNode("",!0),null==e.score||e.new?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",bu,["LESS EFFECTIVE"===e.improvement?(t.openBlock(),t.createElementBlock("svg",gu,hu)):t.createCommentVNode("",!0),"IMPROVEMENT"===e.improvement?(t.openBlock(),t.createElementBlock("svg",fu,vu)):t.createCommentVNode("",!0),e.currentThumbnail?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("span",yu,[t.createTextVNode(t.toDisplayString((l=n.score[r],Math.abs(Math.round((l-n.currentScore)/n.currentScore*100)))),1),xu]))])),e.currentThumbnail?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("span",{key:3,class:t.normalizeClass(n.limitedLicense?"tb-thumbnail-analyzer-delete-invisible":"tb-thumbnail-analyzer-delete"),onClick:t.withModifiers((t=>u(r,e.heatmapId)),["stop"])},wu,10,Tu)),0!==r||e.currentThumbnail?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",ku,Eu))]),null===e.score||e.new?(t.openBlock(),t.createElementBlock("div",Su,Bu)):t.createCommentVNode("",!0)],2))]);var l})),128)):t.createCommentVNode("",!0)])),_:1}),n.showListItem?(t.openBlock(),t.createElementBlock("p",Cu,Vu)):t.createCommentVNode("",!0)],64))}},Iu=v({props:{height:{type:String,default:"50px"},margin:{type:String,default:"10px 0"},width:{type:String},disableAnimation:{type:Boolean,default:!1}},setup:e=>(o,n)=>(t.openBlock(),t.createElementBlock("div",{class:"load-wrapper",style:t.normalizeStyle({height:e.height,margin:e.margin,width:e.width})},[t.createElementVNode("div",{class:t.normalizeClass({"load-animation":!e.disableAnimation})},null,2)],4))},[["__scopeId","data-v-1153304d"]]),Du=["onDrop"],Lu={key:0,class:"tb-thumbnail-analyzer-drop-area"},zu=t.createElementVNode("svg",{viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t.createElementVNode("path",{d:"M10.5 2H5.8C4.11984 2 3.27976 2 2.63803 2.32698C2.07354 2.6146 1.6146 3.07354 1.32698 3.63803C1 4.27976 1 5.11984 1 6.8V15.2C1 16.8802 1 17.7202 1.32698 18.362C1.6146 18.9265 2.07354 19.3854 2.63803 19.673C3.27976 20 4.11984 20 5.8 20H15C15.93 20 16.395 20 16.7765 19.8978C17.8117 19.6204 18.6204 18.8117 18.8978 17.7765C19 17.395 19 16.93 19 16M17 7V1M14 4H20M8.5 7.5C8.5 8.60457 7.60457 9.5 6.5 9.5C5.39543 9.5 4.5 8.60457 4.5 7.5C4.5 6.39543 5.39543 5.5 6.5 5.5C7.60457 5.5 8.5 6.39543 8.5 7.5ZM12.99 10.9181L4.53115 18.608C4.05536 19.0406 3.81747 19.2568 3.79643 19.4442C3.77819 19.6066 3.84045 19.7676 3.96319 19.8755C4.10478 20 4.42628 20 5.06929 20H14.456C15.8951 20 16.6147 20 17.1799 19.7582C17.8894 19.4547 18.4547 18.8894 18.7582 18.1799C19 17.6147 19 16.8951 19 15.456C19 14.9717 19 14.7296 18.9471 14.5042C18.8805 14.2208 18.753 13.9554 18.5733 13.7264C18.4303 13.5442 18.2412 13.3929 17.8631 13.0905L15.0658 10.8527C14.6874 10.5499 14.4982 10.3985 14.2898 10.3451C14.1061 10.298 13.9129 10.3041 13.7325 10.3627C13.5279 10.4291 13.3486 10.5921 12.99 10.9181Z",stroke:"rgba(192, 192, 192, 1)","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Mu=t.createElementVNode("p",null,[t.createTextVNode("Drag and drop"),t.createElementVNode("br"),t.createElementVNode("label",{for:"heatmap-drop-zone"},"or select a file (max 2 MB)")],-1),Au=["disabled"],Uu={key:1,id:"loading-screen",class:"tb-thumbnail-analyzer-upload-processing"},Ou=t.createElementVNode("svg",{viewBox:"0 0 18 22",xmlns:"http://www.w3.org/2000/svg"},[t.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 1C0 0.447715 0.447715 0 1 0H17C17.5523 0 18 0.447715 18 1C18 1.55228 17.5523 2 17 2H16.0001L16.0001 3.8671C16.0005 4.58144 16.0008 5.12093 15.8627 5.63408C15.741 6.08643 15.5408 6.51388 15.2712 6.89696C14.9654 7.33153 14.5508 7.67669 14.0017 8.13371L10.5621 11L14.0018 13.8663C14.5508 14.3233 14.9654 14.6685 15.2712 15.103C15.5408 15.4861 15.741 15.9136 15.8627 16.3659C16.0008 16.8791 16.0005 17.4186 16.0001 18.1329L16.0001 20H17C17.5523 20 18 20.4477 18 21C18 21.5523 17.5523 22 17 22H1C0.447715 22 0 21.5523 0 21C0 20.4477 0.447715 20 1 20H2.00008L2.00004 18.1329C1.99966 17.4186 1.99937 16.8791 2.13743 16.3659C2.25913 15.9136 2.45934 15.4861 2.72893 15.103C3.03477 14.6685 3.4494 14.3233 3.99842 13.8663L7.43803 11L3.99841 8.13371C3.4494 7.67669 3.03476 7.33153 2.72893 6.89696C2.45934 6.51388 2.25913 6.08643 2.13743 5.63408C1.99937 5.12093 1.99966 4.58144 2.00004 3.86709L2.00008 2H1C0.447715 2 0 1.55228 0 1ZM4.00008 3.7518V2H14.0001V3.7518C14.0001 4.63231 13.992 4.88909 13.9314 5.11448C13.8706 5.34065 13.7704 5.55438 13.6357 5.74592C13.5013 5.93679 13.3092 6.10735 12.6328 6.67104L9.00008 9.69829L5.36738 6.67104C4.69095 6.10735 4.49883 5.93679 4.3645 5.74592C4.22971 5.55438 4.12961 5.34065 4.06876 5.11448C4.00812 4.88909 4.00008 4.63231 4.00008 3.7518Z",fill:"#BAD2F7"})],-1),_u=t.createElementVNode("p",null,"Uploading file and generating heatmap...",-1),Pu=t.createElementVNode("div",{class:"tb-thumbnail-analyzer-loading-bar"},[t.createElementVNode("div",{id:"tb-progress"})],-1),ju={key:0,class:"tb-thumbnail-analyzer-free-uploads-messaging"},Gu={class:"tb-thumbnail-analyzer-free-uploads-remaining"},Ru=t.createElementVNode("div",null,[t.createElementVNode("i",{class:"untitled-ui untitled-ui-alert-circle-line"})],-1),Fu=t.createTextVNode(" You have "),$u=t.createTextVNode(" thumbnails that can be analyzed with the free plan. To analyze all of your thumbnails "),Hu={class:"tb-thumbnail-analyzer-free-uploads-all-used"},Qu=["src"],Ku=t.createElementVNode("p",{class:"tb-font-size18",style:{"font-family":"Roboto-Bold, sans-serif","margin-bottom":"5px"}},"All of your free thumbnail analyzations have been used",-1),Yu=t.createElementVNode("p",{class:"tb-font-size14",style:{color:"rgba(133, 140, 160, 1)","margin-bottom":"7px"}},"Dont worry, a simple upgrade will let you analyze as many thumbnails as you'd like.",-1),Wu={key:0,class:"tb-thumbnail-analyzer-loading-existing-images"},qu=t.createElementVNode("p",null,"Checking for existing thumbnails...",-1),Ju={class:"tb-thumbnail-analyzer-placeholder"},Zu={class:"tb-thumbnail-analyzer-placeholder-item1"},Xu={class:"tb-thumbnail-analyzer-placeholder-item2"},ep={key:1,class:"tb-thumbnail-analyzer-hide-heatmap"},tp={class:"tb-thumbnail-analyzer-apply-container"},op=["disabled"],np=["disabled"],ip={setup(o){const{checkUsage:n}=Wd(),i=e.useStore(),a=t.ref(!1),r=t.ref(null),l=t.ref();t.computed((()=>i.getters.getHeatmapThumbnailImage));const s=t.ref([]),c=t.ref(!1),d=t.ref([]),u=t.ref([]),p=t.computed((()=>i.getters.getThumbnailListHeight)),m=t.computed((()=>browser.runtime.getURL("images/thumbnail-analyzer/locked.png"))),b=t.ref(!1),g=t.ref(0),h=t.ref(null);let f=null,v=null;const y=t.computed((()=>!TBGlobal.CanAccessLevel1Tools())),x=t.computed((()=>y.value?p.value-120:E.value?p.value-50:p.value)),T=t.ref(!1),w=t.ref(),k=t.computed((()=>i.getters.getSelectedThumbnailHeatmapId)),E=t.ref(!1),{track:S}=z(),B=t.ref(0),C=t.computed((()=>5-B.value)),{abTestStatus:V,updateAbTestStatus:N}=Md(),I=t.computed((()=>V.value&&"Complete"!==V.value?`Test ${V.value}`:"Run A/B test on thumbnails")),D=t.ref(null),L=()=>TBGlobal.CanAccessLevel3Tools()?20:TBGlobal.CanAccessLevel1Tools()?10:void 0;let M=1,A=Number(0),U=t.ref("Hide heatmaps"),O=t.ref(!1),_=[];const P=()=>{TBUtilities.ReportProductEvent("Subscription Paywall",{channel_id:TBGlobal.CurrentChannelId(),license_name:TBGlobal.Profile().LicenseName,platform:"extension",timestamp:(new Date).toISOString(),tool:"Thumbnail Analyzer"}),window.open(TBGlobal.host+"/pricing","_blank")},j=()=>{N(G()).then((e=>{e&&e.testId&&(D.value=e.testId)}))};t.onMounted((()=>{j(),document.addEventListener("ABTestCreated",(e=>{j()}),!1),R();const e={ChannelId:TBGlobal.CurrentChannelId(),VideoId:G()},t=`${TBGlobal.host}/api/thumbnail/getsavedheatmapdata`;TBExtension.Post(t,JSON.stringify(e),((e,t,o)=>{try{e?(setTimeout((function(){b.value=!0,l.value=!0;let e=JSON.parse(o);const t=e.find((e=>!0===e.currentThumbnail));w.value=t.score,i.commit("setCurrentThumbnailScore",w.value),e.forEach((e=>{let t=e.score;w.value>t?e.improvement="LESS EFFECTIVE":e.improvement="IMPROVEMENT",d.value.push({id:A,label:e.thumbnail,cleanData:e.thumbnail,fileName:"S3-No-FileName-TB-Saved-Data.png",new:!1,isUpload:!1,heatmapId:e.id,score:t,currentThumbnail:e.currentThumbnail,improvement:e.improvement}),u.value.push({id:A,label:e.heatmap,heatmapId:e.id}),e.currentThumbnail&&i.commit("setCurrentThumbnailHeatmapId",e.id),s.value.push(e.score),A++}));const[n,r,p]=Z();s.value=n,d.value=p,u.value=r,c.value=!0,a.value=!1}),1e3),F(G())):(a.value=!1,500===o.status?TBUtilities.Alert("Thumbnail Analyzer was unable to load your saved images. Please contact TubeBuddy Support"):(TBUtilities.Alert("An unexpected error has occurred. Please contact TubeBuddy Support."),TBUtilities.Log("Thumbnail Analyzer ThumbnailUpload.vue - load saved data unexpected error --------- ",o)))}catch(n){TBUtilities.LogError({Exception:n,Location:"[TubeBuddy.ThumbnailAnalyzer.ThumbnailUpload.vue] onMounted()"})}}),null,{contentType:"application/json",headers:{currentChannelToken:TBGlobal.GetToken()}})})),t.onUnmounted((()=>{document.removeEventListener("ABTestCreated",(e=>{j()}),!1)}));const G=()=>{const e=window.location.href.match(/video\/[^/]+\/edit/gi);return null==e?null:e[0].replace(/video\/|\/edit/gi,"")},R=()=>{TBGlobal.CanAccessLevel1Tools()||n().then((e=>B.value=e))},F=async e=>{const t={thumbnailDetails:{all:!0},description:!0,tags:{all:!0},title:!0,videoId:!0,privacy:!0};if(e){const o=await TubeBuddyYouTubeActions.GetCreatorVideosStudio(e,t);E.value="VIDEO_PRIVACY_PUBLIC"===o.privacy}},$=()=>{ae("Thumbnail Studio Show And Hide Heatmaps",{}),O.value?(O.value=!1,U.value="Hide heatmaps"):(O.value=!0,U.value="Show heatmaps")},H=()=>{let e=0;if(0===e){e=1;const t=document.getElementById("tb-progress");let o=1;const n=setInterval((()=>{o>=100?(clearInterval(n),e=0,a.value=!1):(o++,t&&(t.style.width=`${o}%`))}),75)}},Q=e=>{K(e)},K=async e=>{const t=e.target.files||e.dataTransfer.files;if(y.value&&B.value+t.length>5)return TBUtilities.Alert("There is a limit of 5 uploads per Channel for Starter license."),void(_.length=0);if(a.value=!0,H(),!TBGlobal.CanAccessLevel4Tools()&&t.length+u.value.length>L()+1)TBUtilities.Alert(`There is a limit of ${L()} thumbnails per video with a ${TBGlobal.Profile().LicenseName} license.`),a.value=!1,_.length=0;else{for(let e=0;e<t.length;e++)_.push(t[e]);Y(_,h).then((()=>{const e=G(),o=`${TBGlobal.host}/api/thumbnail/getthumbnailheatmap`,n={};return new Promise(((i,a)=>{d.value.forEach(((t,a)=>{J(t,n,e,o,i,h)})),TBGlobal.CanAccessLevel1Tools()||B.value+t.length!==5||TBUtilities.ReportProductEvent("Thumbnail Studio Free Attempts Uses",{tool:"thumbnail analyzer",video_id:e,channelId:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString()})}))}),(()=>{TBUtilities.Log("Error while processing thumbnail")})).then((()=>{const[e,t,o]=Z();s.value=e,d.value=o,u.value=t,d.value.sort((function(e,t){return t.score-e.score})),d.value.forEach((e=>{e.new&&(e.new=!1)}))}))}},Y=(e,t)=>{let o=!1;return!TBGlobal.CanAccessLevel4Tools&&d.value.length>L()?(TBUtilities.Alert(`There is a limit of ${L()} thumbnails per video with a ${TBGlobal.Profile().LicenseName} license.`),_.length=0,a.value=!1,Promise.resolve()):(a.value=!0,l.value=!0,new Promise(((n,i)=>{e.forEach(((r,l)=>{if(Object.keys(d.value).forEach((e=>{d.value[e].fileName===r.name&&(o=!0),a.value=!1})),o)TBUtilities.Alert("The "+r.name+" thumbnail has already been uploaded."),t.value=null,_=[],i();else{const o=r.name,i=o.match(/\.([^\.]+)$/)[1];switch(i.toLowerCase()){case"png":case"jpg":case"jpeg":break;default:return void alert("Only .JPG or .PNG formats are allowed.")}const a=window.URL.createObjectURL(r);let s=!1;const c=r.size,u=q(c,t);W(a).then((c=>{if(window.URL.revokeObjectURL(a),720===c.height&&1280===c.width||1080===c.height&&1920===c.width?s=!0:TBUtilities.Alert("There was an error uploading your image. Please make sure the image is either 1280x720 or 1920x1080 and that the file type is .png/.jpg."),!u||!s)return t.value=null,void _.splice(l,1);const p=new FileReader;p.readAsDataURL(r),p.onloadend=function(a){let r=a.target.result;const l={png:"data:image/png;base64,",bmp:"data:image/bmp;base64,",gif:"data:image/gif;base64,",jpg:"data:image/jpeg;base64,",jpeg:"data:image/jpeg;base64,"}[i];if(!l)return TBUtilities.Alert("Only .JPG, .JPEG, .GIF, .BMP, or .PNG formats are allowed."),void(t.value=null);const s=a.target.result.replace(l,"");H(),d.value.push({id:A,label:r,cleanData:s,fileName:o,ext:i,new:!0,isUpload:!0,heatmapId:null,score:null,currentThumbnail:!1,improvement:null}),A++,M===e.length&&(_=[],n()),M++}}))}}))})))},W=e=>new Promise((t=>{const o=new Image;o.onload=()=>{window.URL.revokeObjectURL(o.src),t({height:o.height,width:o.width})},o.src=e})),q=(e,t)=>{let o=!0;return e>2048e3&&(TBUtilities.Alert("The maximum image file size is 2MB. Please select a smaller image."),t.value=null,a.value=!1,o=!1),e<5e4&&(TBUtilities.Alert("The minimum image file size is 50KB. Please select a larger image."),t.value=null,a.value=!1,o=!1),o},J=(e,t,o,n,r,l)=>{e.new&&(t.value={ImageData:e.cleanData,ImageExt:e.ext,VideoId:o},TBExtension.Post(n,JSON.stringify(t.value),((t,o,n)=>{try{a.value=!0,H(),t?(R(),re("Thumbnail Studio Image Uploaded",{}),setTimeout((function(){let t=JSON.parse(JSON.parse(n));0===e.id&&(i.commit("setVariationThumbnailImage",""),i.commit("setVariationThumbnailImageExt",e.ext??"png")),u.value.push({id:e.id,label:t.heatmap,heatmapId:t.id}),e.heatmapId=t.id,e.score=t.score,s.value.push(e.score),w.value>e.score?e.improvement="LESS EFFECTIVE":e.improvement="IMPROVEMENT",M--,1===M&&r(),a.value=!1}),1e3)):(a.value=!1,ne(),l.value=null,'"408"'===n?TBUtilities.Alert("The Thumbnail Studio Heatmap Service has timed out."):'"503"'===n?TBUtilities.Alert("The Thumbnail Studio Heatmap Service is currently unavailable."):'"406"'===n?TBUtilities.Alert("There was an error uploading your image. Please make sure the image is either 1280x720 or 1920x1080 and that the file type is .png/.jpg."):(TBUtilities.Alert("An unexpected error has occurred. Please contact TubeBuddy support."),TBUtilities.Log("Thumbnail Studio Upload unexpected error --------- ",n)))}catch(c){TBUtilities.LogError({Exception:c,Location:"[TubeBuddyVideoOptimization] upload thumbnail"})}}),null,{contentType:"application/json",headers:{currentChannelToken:TBGlobal.GetToken()}}))},Z=()=>{const e=[];s.value.forEach(((t,o)=>{e.push({score:t,heatmap:u.value[o],thumbnail:d.value[o]})})),e.sort(((e,t)=>t.score-e.score));const t=[],o=[],n=[];e.forEach((e=>{t.push(e.score),o.push(e.heatmap),n.push(e.thumbnail)}));return["UCEv4sMMqvanRxn_4-BXu4Ug","UCsy_7xG7iFijiHrOU2UEMkw","UC4IAGDxTkBY8xn-H_IeIJdg"].indexOf(TBGlobal.CurrentChannelId())>=0&&console.log("raw thumbnail scores: ",t),[t,o,n]},X=e=>{f=G();let t=TBGlobal.host+TBGlobal.apiUrls.thumbnailAdd,o={VideoId:f,ImageData:i.getters.getVariationThumbnailImage};v=null===i.getters.getSelectedThumbnailScore?0:i.getters.getSelectedThumbnailScore,TBUtilities.Confirm("Are you sure you want to publish this thumbnail?",(function(){TBExtension.Post(t,JSON.stringify(o),(function(e,t,o){try{TBUtilities.Log("[TubeBuddyThumbnailStudio] Post Thumbnail",o),413===o.status?oe(o):e?(ie("Thumbnail Studio Use Selected Thumbnail",{}),w.value=i.getters.getSelectedThumbnailScore,i.commit("setCurrentThumbnailScore",w.value),te()):(TBUtilities.Log("API publish failed, trying post to UI"),TubeBuddyYouTubeActions.PostCustomThumbnailStudio(f,r.value).then((function(e){te()})).catch((function(e){oe(e)})))}catch(n){oe(),TBUtilities.LogError({Exception:n,Location:"[TubeBuddyThumbnailStudio] Post Thumbnail"})}}),null,{contentType:"application/json"})}),(function(){}))},ee=()=>{if(TBGlobal.CanAccessLevel3Tools())if(V.value&&"Complete"!==V.value){const e=`${TBGlobal.host}/channel/abteststatus/${D.value}`;window.open(e,"_blank","noopener, noreferrer")}else i.getters.getVariationThumbnailImageExt&&(TBUtilities.Log("TB Launching AB Test"),jQuery("body").trigger("TBKickstartABTest",[{isThumbnailOnly:!0,imageData:i.getters.getVariationThumbnailImage,imageExt:i.getters.getVariationThumbnailImageExt}]));else TBGlobal.ShowUpgradePage("create A/B Tests","videoabtests")},te=()=>{"studio"===TBGlobal.GetYouTubeUI()&&jQuery(".ytcp-img-with-fallback").each((function(){jQuery(this).attr("src")&&jQuery(this).attr("src").indexOf(f)>0&&jQuery(this).attr("src","https://i.ytimg.com/vi/"+f+"/0.jpg?time="+Math.random())})),(()=>{const e=`${TBGlobal.host}/api/thumbnail/resyncvideothumbnail`,t=G(),o={ChannelId:TBGlobal.CurrentChannelId(),VideoId:t,CurrentThumbnailHeatmapId:k.value};TBExtension.Post(e,JSON.stringify(o),((e,t,o)=>{try{e&&setTimeout((function(){location.reload()}),1e3)}catch(n){TBUtilities.LogError({Exception:n,Location:"[TubeBuddy.ThumbnailAnalyzer.ThumbnailUpload.vue] Resync Thumbnail from YouTube"})}}),null,{contentType:"application/json",headers:{currentChannelToken:TBGlobal.GetToken()}})})()},oe=e=>{let t="There was an error with YouTube's API and we were unable to publish your thumbnail";e&&(413===e.status?t="YouTube did not allow us to publish the video because the file size is too big.\n\nYou could try making the image less complex (smaller background image, fewer colors, etc).\n\nIf it still fails, you will need to create this Thumbnail outside of TubeBuddy, sorry!":403===e.status&&(t="Failed to access the image. Try again and if that fails, you can refresh the page and then build the thumbnail again from scratch.\n\nIf it still fails, email your video id to support@tubebuddy.com and we'll see if we can help...")),alert(t)},ne=()=>{i.commit("resetVariationThumbnailImage")},ie=(e,t)=>{t.timestamp=(new Date).toISOString(),t.video_id=G(),t.channel_id=TBGlobal.CurrentChannelId(),t.tool="Thumbnail Analyzer",t.all_prediction_scores=s.value,t.number_of_thumbnails=d.value.length,t.selected_thumbnail_prediction_score=v,S(e,t)},ae=(e,t)=>{t.timestamp=(new Date).toISOString(),t.video_id=G(),t.tool="Thumbnail Analyzer",S(e,t)},re=(e,t)=>{t.timestamp=(new Date).toISOString(),t.video_id=G(),t.channel_id=TBGlobal.CurrentChannelId(),t.tool="Thumbnail Analyzer",S(e,t)};return(e,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createVNode(t.Transition,null,{default:t.withCtx((()=>[t.unref(y)&&t.unref(C)>0&&b.value||!t.unref(y)?(t.openBlock(),t.createElementBlock("div",{key:0,class:"tb-thumbnail-analyzer-upload-area tb-font-size-14",onDrop:t.withModifiers(Q,["stop","prevent"])},[!1===a.value?(t.openBlock(),t.createElementBlock("div",Lu,[zu,Mu,(t.openBlock(),t.createElementBlock("input",{id:"heatmap-drop-zone",class:"tb-hidden",ref_key:"thumbnailInput",ref:h,key:g.value,type:"file",multiple:"",accept:"image/jpeg, image/png, image/jpg",onChange:K,disabled:!b.value||T.value},null,40,Au))])):t.createCommentVNode("",!0),a.value?(t.openBlock(),t.createElementBlock("div",Uu,[Ou,_u,Pu,t.createElementVNode("button",{id:"tb-cancel",class:"tb-thumbnail-analyzer-cancel",onClick:ne,style:{display:"none"}}," Cancel ")])):t.createCommentVNode("",!0)],40,Du)):t.createCommentVNode("",!0)])),_:1}),t.createVNode(t.Transition,null,{default:t.withCtx((()=>[t.unref(y)&&b.value?(t.openBlock(),t.createElementBlock("div",ju,[t.unref(C)>0?(t.openBlock(),t.createBlock(t.Transition,{key:0},{default:t.withCtx((()=>[t.createElementVNode("div",Gu,[Ru,t.createElementVNode("div",null,[Fu,t.createElementVNode("span",null,t.toDisplayString(t.unref(C))+" remaining",1),$u,t.createElementVNode("a",{onClick:P},"Upgrade now")])])])),_:1})):(t.openBlock(),t.createBlock(t.Transition,{key:1},{default:t.withCtx((()=>[t.createElementVNode("div",Hu,[t.createElementVNode("img",{src:t.unref(m),alt:"locked out"},null,8,Qu),t.createElementVNode("div",null,[Ku,Yu,t.createElementVNode("button",{class:"tb-thumbnail-analyzer-upgrade-btn",onClick:o[0]||(o[0]=e=>P())},"Upgrade Your Plan")])])])),_:1}))])):t.createCommentVNode("",!0)])),_:1}),b.value?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",Wu,[qu,t.createElementVNode("div",Ju,[t.createVNode(t.Transition,null,{default:t.withCtx((()=>[t.createElementVNode("div",Zu,[t.createVNode(Iu,{height:"100px",width:"180px",margin:"8px 0 8px"})])])),_:1}),t.createVNode(t.Transition,null,{default:t.withCtx((()=>[t.createElementVNode("div",Xu,[t.createVNode(Iu,{height:"13px",width:"80px",margin:"8px 0 8px"}),t.createVNode(Iu,{height:"20px",width:"60px",margin:"8px 0 8px"})])])),_:1})])])),0!==d.value.length?(t.openBlock(),t.createElementBlock("div",ep,[t.createElementVNode("button",{class:"tb-thumbnail-analyzer-hide-heatmap-btn",onClick:$},t.toDisplayString(t.unref(U)),1)])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"tb-thumbnail-analyzer-list-container",style:t.normalizeStyle({height:t.unref(x)+"px"})},[t.createVNode(Nu,{"is-cached-thumbnail":b.value,score:s.value,"show-list-item":l.value,"show-score":c.value,"uploaded-thumbnails":d.value,"generated-heatmaps":u.value,"show-heatmap":t.unref(O),"current-score":w.value,"limited-license":t.unref(y),"ab-test-running":t.unref(V)&&"Complete"!==t.unref(V)},null,8,["is-cached-thumbnail","score","show-list-item","show-score","uploaded-thumbnails","generated-heatmaps","show-heatmap","current-score","limited-license","ab-test-running"])],4),t.createElementVNode("div",tp,[E.value?(t.openBlock(),t.createElementBlock("button",{key:0,class:"tb-thumbnail-analyzer-ab-test",disabled:1===d.value.length,onClick:ee},t.toDisplayString(t.unref(I)),9,op)):t.createCommentVNode("",!0),t.createElementVNode("button",{class:"tb-thumbnail-analyzer-apply-selected",disabled:1===d.value.length||t.unref(V)&&"Complete"!==t.unref(V),onClick:X}," Use selected thumbnail ",8,np)])],64))}},ap=t.createStaticVNode('<p class="thumbnail-studio-description">Upload multiple thumbnails and let our AI give you a relative ranking, so you can predict which will have the highest click-through rate (CTR).</p><div class="tb-thumbnail-analyzer-beta-disclaimer"><svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.4" d="M9.5 14C7.5 13 6 12 1.5 14V16L3.5 19L6.5 21H9.5L13.5 19.5L15.5 17.0001C16.5 15.1668 18.1 11.8001 16.5 13.0001C14.5 14.5001 11.5 15 9.5 14Z" fill="#DD9A07"></path><path d="M7 1.00008V5.6605C7 5.87768 7 5.98626 6.9669 6.07264C6.93568 6.15413 6.89435 6.21328 6.82858 6.27063C6.75885 6.33142 6.64593 6.37279 6.42008 6.45553C3.54892 7.50734 1.5 10.2644 1.5 13.5C1.5 17.6421 4.85786 21 9 21C13.1421 21 16.5 17.6421 16.5 13.5C16.5 10.2644 14.4511 7.50734 11.5799 6.45553C11.3541 6.37279 11.2411 6.33142 11.1714 6.27063C11.1056 6.21328 11.0643 6.15413 11.0331 6.07264C11 5.98626 11 5.87768 11 5.6605V1.00008M5.5 1H12.5" stroke="#DD9A07" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><p> This is an experimental tool that is still undergoing AI training and improvements. Please have fun with it, but remember to validate your results for accuracy. </p></div>',2),rp={setup:e=>(e,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[ap,t.createVNode(ip)],64))};const lp={id:"tb-video-player-component"},sp=v({props:["video_id","width","height","timestamp"],setup(e){const o=e,n=`player-container-${o.video_id}`;let i,a=!1;function r(e){}function l(e){1===i.getPlayerState()&&o.video_id&&!a&&(TBUtilities.ReportProductEvent("Shorts Suggestions Click to Play Video",{channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString(),tool:"Shorts Suggestion",video_id:o.video_id}),a=!0)}return t.onMounted((()=>{i=new YT.Player(`player-container-${o.video_id}`,{height:o.height,width:o.width,videoId:o.video_id,playerVars:{playsinline:1,rel:0,origin:window.location.origin,start:Math.floor(o.timestamp)},events:{onReady:r,onStateChange:l}})})),(e,o)=>(t.openBlock(),t.createElementBlock("div",lp,[t.createElementVNode("div",{id:n,ref:"playerContainer"},null,512)]))}},[["__scopeId","data-v-8d915401"]]),cp={class:"tb-suggested-shorts-module"},dp=t.createElementVNode("div",{class:"tb-suggest-shorts-subheader-text"}," Shorts can be a powerful way to reach a broader audience. Based on your video's performance here are the moments that we recommend making into shorts. ",-1),up={class:"tb-suggested-shorts-suggestion-container"},pp={class:"tb-featured-suggestion-wrapper"},mp=t.createElementVNode("div",null,[t.createElementVNode("div",{class:"tb-suggestion-loading-container"},[t.createElementVNode("div",{class:"tb-featured-suggestion-load-container"},[t.createElementVNode("div",{class:"tb-featured-suggestion-load-animation"}),t.createElementVNode("div",{class:"tb-suggestion-placeholder-top"})]),t.createElementVNode("div",{class:"tb-suggestion-placeholder-first"}),t.createElementVNode("div",{class:"tb-suggestion-placeholder-second"}),t.createElementVNode("div",{class:"tb-suggestion-placeholder-third"})])],-1),bp={class:"tb-featured-spike-suggestion-container"},gp={class:"tb-suggested-shorts-spike-suggestion"},hp={class:"tb-youtube-embed-container"},fp={class:"tb-suggested-shorts-video-title"},vp={class:"tb-suggested-shorts-row-detail"},yp={class:"tb-suggested-shorts-duration"},xp=t.createElementVNode("i",{class:"untitled-ui untitled-ui-film-01-line tb-suggested-shorts-inline-icons"},null,-1),Tp={class:"tb-suggested-shorts-retention-increase"},wp=["href"],kp=t.createElementVNode("span",{class:"material-icons tb-suggested-shorts-inline-icons"},"arrow_drop_up",-1),Ep={key:0,class:"untitled-ui untitled-ui-alert-circle-line tb-suggested-shorts-tips-icon"},Sp={key:1,class:"untitled-ui untitled-ui-lightbulb-05-line tb-suggested-shorts-tips-icon"},Bp={class:"tb-suggested-shorts-tip"},Cp={style:{"padding-bottom":"16px"}},Vp={class:"tb-suggested-shorts-no-suggestions"},Np=["src"],Ip=t.createElementVNode("div",{class:"tb-suggested-shorts-no-suggestions"},[t.createElementVNode("div",{class:"tb-no-suggestion-header"},"There aren't any suggested moments in this video")],-1),Dp=t.createElementVNode("div",{class:"tb-suggested-shorts-no-suggestions"},[t.createElementVNode("div",{class:"tb-no-suggestion-text"},"Try reviewing suggestions from other videos. If this is a recently uploaded video try checking back later.")],-1),Lp={class:"tb-suggested-shorts-no-suggestions"},zp=["src"],Mp=t.createElementVNode("div",{class:"tb-suggested-shorts-no-suggestions"},[t.createElementVNode("div",{class:"tb-no-suggestion-header"},"All of your free shorts suggestions have been used")],-1),Ap=t.createElementVNode("div",{class:"tb-suggested-shorts-no-suggestions"},[t.createElementVNode("div",{class:"tb-no-suggestion-text"},"Don’t worry, a simple upgrade will let you get suggestions for as many videos as you’d like.")],-1),Up={class:"tb-suggestion-loading-container"},Op=[t.createElementVNode("div",{class:"tb-featured-suggestion-load-container"},[t.createElementVNode("div",{class:"tb-featured-suggestion-load-animation"}),t.createElementVNode("div",{class:"tb-suggestion-placeholder-top"})],-1),t.createElementVNode("div",{class:"tb-suggestion-placeholder-first"},null,-1),t.createElementVNode("div",{class:"tb-suggestion-placeholder-second"},null,-1),t.createElementVNode("div",{class:"tb-suggestion-placeholder-third"},null,-1)],_p=t.createElementVNode("div",{class:"tb-suggested-shorts-toggle-button-text"},"Suggestions from Other Videos",-1),Pp={class:"tb-youtube-embed-container"},jp=["onClick"],Gp={class:"tb-suggested-shorts-video-title"},Rp={class:"tb-suggested-shorts-row-detail"},Fp={class:"tb-suggested-shorts-duration"},$p=t.createElementVNode("i",{class:"untitled-ui untitled-ui-film-01-line tb-suggested-shorts-inline-icons"},null,-1),Hp={class:"tb-suggested-shorts-retention-increase"},Qp=["href","onClick"],Kp=t.createElementVNode("span",{class:"material-icons tb-suggested-shorts-inline-icons"},"arrow_drop_up",-1),Yp={style:{"margin-top":"24px"}},Wp=t.createElementVNode("div",{class:"tb-upgrade-text"},"Unlock the full list of short suggestions by upgrading to our Pro License",-1),qp=["onClick"],Jp=[t.createElementVNode("i",{class:"untitled-ui untitled-ui-lock-01-line"},null,-1),t.createTextVNode(" Unlock the full list")],Zp=t.createElementVNode("i",{class:"untitled-ui untitled-ui-tool-02-line tb-suggested-shorts-error-icon"},null,-1),Xp={class:"tb-suggested-shorts-error"},em=["onClick"],tm={props:{videoId:String},setup(o){const{GetStudioRetentionData:n,GetAdditionalVideoDetails:i,GetMultipleStudioRetentionData:a,PostRetentionData:r,GetPreviousSuggestions:l}={GetStudioRetentionData:async e=>{try{return await TubeBuddyYouTubeActions.AnalyticsGetRetentionGraphData(e)}catch(t){return TBUtilities.LogError({exception:t,location:"SuggestedShortsFunctions.GetStudioRetentionData"}),null}},GetAdditionalVideoDetails:async e=>{try{return await TubeBuddyYouTubeActions.GetVideoDetailStudio(e)}catch(t){return TBUtilities.LogError({exception:t,location:"SuggestedShortsFunctions.GetAdditionalVideoDetails"}),null}},GetMultipleStudioRetentionData:async e=>{if(Array.isArray(e)){const t=[];return await Promise.all(e.map((async e=>{const o=await TubeBuddyYouTubeActions.AnalyticsGetRetentionGraphData(e);null!==o&&t.push(o)}))),t}return null},PostRetentionData:e=>new Promise(((t,o)=>{try{const n=TBGlobal.host+TBGlobal.apiUrls.retentionDataIngest;TBExtension.Post(n,JSON.stringify(e),((e,n,i)=>e?t(i):o("Error ingesting retention data")),null,{contentType:"application/json",dataype:"json"})}catch(n){return TBUtilities.LogError({exception:n,location:"SuggestedShortsFunctions.PostRetentionData"}),o("Error ingesting retention data.")}})),GetPreviousSuggestions:e=>new Promise((e=>{const t=TBGlobal.host+TBGlobal.apiUrls.shortsSuggestionsGet+"?channelId="+TBGlobal.CurrentChannelId(),o=TBExtension.Get(t,((t,n,i)=>{try{return e(t?i:[])}catch(a){TBUtilities.LogError({exception:a,location:"SuggestedShortsFunctions.GetPreviousSuggestions"})}return console.log(o),o}),null,{dataType:"json",contentType:"application/json"})}))};e.useStore(),zl(!1);const s=t.computed((()=>browser.runtime.getURL("/images/errors/no-suggestions.png"))),c=t.computed((()=>browser.runtime.getURL("images/errors/out-of-free-suggestions.png"))),d=t.computed((()=>browser.runtime.getURL("images/errors/blurred-image.png"))),u=()=>{const e=document.location.href.search("/video/"),t=-1===e?null:e+7;return null===t?null:document.location.href.slice(t,document.location.href.search("/video/")+18)},p=t.ref(null),m=t.ref([]),b=t.computed((()=>!TBGlobal.CanAccessLevel1Tools())),g=t.ref(null),h=t.ref(!0),f=t.ref(!0),v=t.ref(!1),y=t.ref(!1),x=t.computed((()=>TBGlobal.CanAccessLevel1Tools()?k.value[Math.floor(Math.random()*k.value.length)]:`You have ${5-m.value.length} remaining videos that can be analyzed for suggested shorts with the free plan. To analyze all of your videos Upgrade now`)),T=t.ref(!TBGlobal.CanAccessLevel1Tools());t.ref("");const w=t.ref(!0);t.ref(!1);const k=t.ref(["Remember, you aren't limited to footage you've already shot. Your best option may be to cover the same content with fresh footage.","Shorts can be up to 60 seconds long. However, YouTube recommends focusing on a length closer to 15 seconds.\n","Just like your long-form videos, the first few seconds of a short are the most important. Be as concise and energetic as you can.","Remember that shorts are played on a loop. Consider how your video feels when it's on repeat.","Try including some less polished content, or behind-the-scenes footage as a short. This helps you come across as more authentic."]),E=t.ref([]);function S(e){if(Number.isNaN(e))return"0";const t=Math.floor(e/6e4),o=(e%6e4/1e3).toFixed(0);return`${t}:${o<10?"0":""}${o}`}const B=async()=>{await z()},C=async()=>{await TBUtilities.ReportProductEvent("Subscription Paywall",{channel_id:TBGlobal.CurrentChannelId(),license_name:TBGlobal.Profile().LicenseName,platform:"extension",timestamp:(new Date).toISOString(),tool:"Shorts Suggestion"});const e="mon-new-bypass-pricing-page";TBUtilities.ReportProductExposure(e),TBGlobal.IsExperimentEnabled(e)?TBUtilities.bypassPricingPage("yearly","pro","us"):window.open(TBGlobal.host+"/pricing","_blank","noopener,noreferrer")},V=async e=>{const t=await a(e),o=await t.flatMap((async e=>{const t=await i(e.videoId);let o=e.resultData[2].value.resultTable.metricColumns[1].percentages.values;if(null!=t&&null!=o&&100===o.length){const n={videoId:e.videoId,retentionData:o,durationInMs:t.videoDurationMs,channelId:t.channel_id};return console.log("retention data result"),console.log(n),n}return null}));return(await Promise.all(o)).filter((e=>{if(null!==e)return e}))},N=async e=>r(e).then((async e=>{const t=JSON.parse(e.toString());if(t.spikes.length>0){let e=[];for await(const o of t.spikes){const t=await i(o.Video_id);e.push({startTimestampSeconds:o.start_timestamp/1e3,startTimeString:S(o.start_timestamp),endTimeString:S(o.start_timestamp+o.interval_width),originalResponse:o,embedUrl:`https://www.youtube.com/embed/${o.Video_id}?start=${(o.start_timestamp/1e3).toFixed(0)}`,video_id:o.Video_id,retentionPercentage:o.retention_percentage,title:t.title,analyticsUrl:`https://studio.youtube.com/video/${o.Video_id}/analytics/tab-overview/period-default/explore?entity_type=VIDEO&entity_id=${o.Video_id}&time_period=lifetime&explore_type=AUDIENCE_RETENTION`,editUrl:`https://studio.youtube.com/video/${o.Video_id}/edit`,clicked:!1,channel_id:t.channel_id})}return await Promise.all(e)}return null}),(e=>null)),I=async e=>{await TBUtilities.ReportProductEvent("Shorts Suggestions Click to Retention Graph",{channel_id:e.channel_id,retention_rate:e.retentionPercentage,timestamp:(new Date).toISOString(),tool:"Shorts Suggestion",video_id:e.video_id})},D=async e=>{const t=`tb-suggestedShorts-open-${TBGlobal.CurrentChannelId()}`;TBExtension.SetDbValue(t,1),window.open(e,"_blank")},L=()=>{w.value=!w.value},z=async()=>{p.value=null,g.value=null,h.value=!0,f.value=!0;let e=null,t=[];if(null!==u())if(TBGlobal.CanAccessLevel1Tools()||(m.value=await l(),t=m.value.filter((e=>e.VideoId===u())),m.value.length>=5&&(v.value=!0)),e=await TubeBuddyYouTubeActions.GetCreatorVideosStudio(u()),null!==e&&"REMIX_SOURCE_SHORTS_IS_SHORT"!==e.remix.remixSourceShorts&&(t.length>0&&v.value||!1===v.value)){const e=await V([u()]),o=await N({videosToProcess:e,featuredVideo:!0,channelId:TBGlobal.CurrentChannelId()});null!==o?(f.value=!1,g.value=o[0],TBUtilities.ReportProductEvent("Shorts Suggestion Received",{title:o[0].title,video_id:o[0].video_id,primary:!0}),T.value&&4===m.value.length&&TBUtilities.ReportProductEvent("Shorts Suggestions Free Attempts Uses",{tool:"suggested shorts",video_id:o[0].video_id,channelId:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString()}),t.length<1&&m.value.push(o[0])):(y.value=!0,f.value=!1)}else f.value=!1;if(TBGlobal.CanAccessLevel1Tools()){let e=(await TubeBuddyYouTubeActions.GetVideosListStudio(50,!0)).videosList.filter((e=>"REMIX_SOURCE_SHORTS_IS_SHORT"!==e.remix.remixSourceShorts)).map((e=>e.videoId));null!==u()&&(e=e.filter((e=>e!==u())));const t={videosToProcess:await V(e),featuredVideo:!1,channelId:TBGlobal.CurrentChannelId()};if(0==t.videosToProcess.length&&null===g.value)E.value=[],h.value=!1,p.value="There were no suggestions from other videos";else{const e=await N(t);null!==e?(E.value=e,h.value=!1,e.map((e=>TBUtilities.ReportProductEvent("Shorts Suggestion Received",{title:e.title,video_id:e.video_id,primary:!1})))):(h.value=!1,p.value="We were unable to get results for your other videos")}TBGlobal.CanAccessLevel4Tools()}else h.value=!1};return t.onMounted((async()=>{await z()})),(e,o)=>(t.openBlock(),t.createElementBlock("div",cp,[dp,t.createElementVNode("div",up,[t.withDirectives(t.createElementVNode("div",pp,[f.value?(t.openBlock(),t.createBlock(t.Transition,{key:0},{default:t.withCtx((()=>[mp])),_:1})):t.createCommentVNode("",!0),!1===f.value&&u&&g.value?(t.openBlock(),t.createBlock(t.TransitionGroup,{key:1,name:"featuredSuggestion"},{default:t.withCtx((()=>[t.createElementVNode("div",bp,[t.createElementVNode("div",gp,[t.createElementVNode("div",hp,[t.createVNode(sp,{video_id:g.value.video_id,width:"436",height:"235",timestamp:g.value.startTimestampSeconds},null,8,["video_id","timestamp"])]),t.createElementVNode("a",{onClick:o[0]||(o[0]=e=>D(g.value.editUrl))},[t.createElementVNode("div",fp,t.toDisplayString(g.value.title),1)]),t.createElementVNode("div",vp,[t.createElementVNode("div",yp,[xp,t.createTextVNode(t.toDisplayString(g.value.startTimeString)+" - "+t.toDisplayString(g.value.endTimeString),1)]),t.createElementVNode("div",Tp,[t.createElementVNode("a",{class:"tb-suggested-short-retention-link",href:g.value.analyticsUrl,target:"_blank",onClick:o[1]||(o[1]=e=>I(g.value))},[kp,t.createTextVNode(t.toDisplayString(g.value.retentionPercentage)+"% Retention Increase ",1)],8,wp)])])]),o[2]||(t.setBlockTracking(-1),o[2]=t.createElementVNode("div",{class:"tb-suggest-shorts-tips-container"},[t.unref(b)?(t.openBlock(),t.createElementBlock("i",Ep)):t.createCommentVNode("",!0),t.unref(b)?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("i",Sp)),t.createElementVNode("span",Bp,t.toDisplayString(t.unref(x)),1)]),t.setBlockTracking(1),o[2])])])),_:1})):t.createCommentVNode("",!0),!1===f.value&&null===g.value&&(y.value||p.value)?(t.openBlock(),t.createBlock(t.TransitionGroup,{key:2,name:"noFeaturedSuggestion"},{default:t.withCtx((()=>[t.createElementVNode("div",Cp,[t.createElementVNode("div",Vp,[t.createElementVNode("img",{src:t.unref(s),alt:"person sitting cross-legged on ground with laptop in their lap with idea cloud floating above them",class:"tb-no-suggestions-image"},null,8,Np)]),Ip,Dp])])),_:1})):t.createCommentVNode("",!0),!1===f.value&&null===g.value&&v.value&&!p.value?(t.openBlock(),t.createBlock(t.TransitionGroup,{key:3,name:"outOfSuggestions"},{default:t.withCtx((()=>[t.createElementVNode("div",null,[t.createElementVNode("div",Lp,[t.createElementVNode("img",{src:t.unref(c),style:{"padding-bottom":"24px"},alt:"person sitting cross-legged on ground with laptop in their lap with idea cloud floating above them",class:"tb-no-suggestions-image"},null,8,zp)]),Mp,Ap,t.createElementVNode("div",{class:"tb-upgrade-button",onClick:C},"Upgrade Your Plan")])])),_:1})):t.createCommentVNode("",!0)],512),[[t.vShow,u()]]),h.value?(t.openBlock(),t.createBlock(t.Transition,{key:0},{default:t.withCtx((()=>[t.createElementVNode("div",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList([...Array(3).keys()],(e=>(t.openBlock(),t.createElementBlock("div",Up,Op)))),256))])])),_:1})):t.createCommentVNode("",!0),h.value||p.value||T.value?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(t.TransitionGroup,{key:1,class:"tb-spike-suggestion-container"},{default:t.withCtx((()=>[t.withDirectives(t.createElementVNode("div",{class:"tb-suggested-shorts-toggle-button",onClick:L},[_p,t.createElementVNode("i",{class:t.normalizeClass(["material-icons tb-material-icon tb-shorts-button-icon tb-suggested-shorts-inline-icons",{rotate:w.value}])},"chevron_right",2)],512),[[t.vShow,u()&&null!==g.value]]),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(E.value,((e,o)=>t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:e.video_id,class:"tb-suggested-shorts-spike-suggestion"},[t.createElementVNode("div",Pp,[t.createVNode(sp,{video_id:e.video_id,width:"436",height:"235",timestamp:e.startTimestampSeconds},null,8,["video_id","timestamp"])]),t.createElementVNode("a",{onClick:t=>D(e.editUrl)},[t.createElementVNode("div",Gp,t.toDisplayString(e.title),1)],8,jp),t.createElementVNode("div",Rp,[t.createElementVNode("div",Fp,[$p,t.createTextVNode(t.toDisplayString(e.startTimeString)+" - "+t.toDisplayString(e.endTimeString),1)]),t.createElementVNode("div",Hp,[t.createElementVNode("a",{class:"tb-suggested-short-retention-link",href:e.analyticsUrl,target:"_blank",onClick:t=>I(e)},[Kp,t.createTextVNode(t.toDisplayString(e.retentionPercentage)+"% Retention Increase ",1)],8,Qp)])])])),[[t.vShow,w.value]]))),128))])),_:1})),h.value||!T.value||!1===f.value&&null===g.value&&v.value?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(t.TransitionGroup,{key:2},{default:t.withCtx((()=>[t.createElementVNode("div",Yp,[t.createElementVNode("div",{class:"tb-upgrade-header",style:t.normalizeStyle({backgroundImage:"url("+t.unref(d)+")"})},"Get the Full Analysis with Pro",4),Wp,t.createElementVNode("div",{class:"tb-suggested-shorts-upgrade-button",onClick:t.withModifiers(C,["stop","prevent"])},Jp,8,qp)])])),_:1})),h.value||!p.value||T.value?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(t.TransitionGroup,{key:3},{default:t.withCtx((()=>[t.createElementVNode("div",null,[Zp,t.createElementVNode("div",Xp,t.toDisplayString(p.value),1),t.createElementVNode("div",{class:"tb-suggested-shorts-error-button",onClick:t.withModifiers(B,["stop","prevent"])},"Try again",8,em)])])),_:1}))])]))}},om=e=>new Promise((t=>{const o=`${TBGlobal.host+TBGlobal.apiUrls.generateTitleSuggestions}?originalTitle=${e}`;TBExtension.Get(o,((e,o,n)=>{try{e&&(n.suggested_titles?t(n.suggested_titles):t([]))}catch(i){TBUtilities.LogError(i),t([])}finally{t([])}}),null,{dataType:"json",contentType:"application/json"})})),nm={class:"tb-toast"},im={class:"tb-flex tb-items-center"},am=v({props:{displayText:String,icon:{type:String,default:"untitled-ui-thumbs-up-line"}},emits:["close"],setup:(e,{emit:o})=>(o,n)=>(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createElementVNode("div",nm,[t.createElementVNode("div",im,[t.createElementVNode("i",{class:t.normalizeClass(["untitled-ui icon",e.icon])},null,2),t.createElementVNode("span",null,t.toDisplayString(e.displayText),1)]),t.createElementVNode("i",{class:"untitled-ui untitled-ui-x-close-line tb-cursor-pointer",onClick:n[0]||(n[0]=e=>o.$emit("close"))})])]))},[["__scopeId","data-v-108d0aba"]]),rm={class:"tb-title-suggestions-error-container"},lm={class:"tb-title-suggestions-error-message"},sm=["src"],cm=t.createElementVNode("h4",null," Temporarily unable to create suggestions ",-1),dm=t.createElementVNode("p",null," Don't worry, our AI hasn't become sentient, it just isn't working like it should. Please check back later. ",-1),um={setup:e=>(e,o)=>{return t.openBlock(),t.createElementBlock("div",rm,[t.createElementVNode("div",lm,[t.createElementVNode("img",{alt:"warning",src:(n="/images/icons/alert-triangle-gray.svg",browser.runtime.getURL(n))},null,8,sm),cm,dm])]);var n}},pm=e=>(t.pushScopeId("data-v-540479d7"),e=e(),t.popScopeId(),e),mm={id:"title-generator-container"},bm=pm((()=>t.createElementVNode("p",{class:"title-generator-description"}," Use our AI writing tool to suggest a variety of titles for your video ",-1))),gm={key:0},hm={class:"tb-title-generator-no-suggestions"},fm=["src"],vm=pm((()=>t.createElementVNode("div",{class:"tb-title-generator-no-suggestions"},[t.createElementVNode("div",{class:"tb-no-suggestion-header"}," All of your free title suggestions have been used ")],-1))),ym=pm((()=>t.createElementVNode("div",{class:"tb-title-generator-no-suggestions"},[t.createElementVNode("div",{class:"tb-no-suggestion-text"}," Don’t worry, a simple upgrade will let you get suggestions for as many videos as you’d like. ")],-1))),xm={key:1},Tm=pm((()=>t.createElementVNode("label",{for:"title-subject"},"What is your video about?",-1))),wm={class:"title-input-group"},km=["onKeyup"],Em=["disabled","onClick"],Sm={key:0,class:"tb-title-generator-tips-container"},Bm=pm((()=>t.createElementVNode("i",{class:"untitled-ui untitled-ui-alert-circle-line tb-title-generator-tips-icon"},null,-1))),Cm={class:"tb-title-generator-tip"},Vm=["onMouseenter"],Nm={class:"tb-w-4/5"},Im=["onClick"],Dm=[pm((()=>t.createElementVNode("i",{class:"untitled-ui untitled-ui-check-circle-line tb-applied"},null,-1)))],Lm={key:2},zm=v({props:{videoId:String},setup(o){const n=o,i=t.computed((()=>browser.runtime.getURL("images/errors/out-of-free-suggestions.png"))),a=e.useStore(),{updateTitleInput:r,getTitleInputElement:l}=L(),s=t.ref(""),c=t.ref([]),d=t.ref(null),u=t.ref(!1),p=t.ref(null),m=t.computed((()=>a.getters.getIsOpen)),b=t.ref(m),g=t.ref(!1),h=t.ref([]),f=t.ref(!TBGlobal.CanAccessLevel1Tools()),v=t.ref(0),y=t.ref(!TBUtilities.CanUseFeature("titlegenerator")),x=t.computed((()=>s.value.length<1)),T=t.ref(!1),w=t.ref(TBUtilities.GetGateStatus("titlegenerator").NeverUsed?5:TBUtilities.GetGateStatus("titlegenerator").UsesLeft),k=()=>{const e=l(!1);return e&&e.length>0?e[0].textContent:""},E=async()=>{await TBUtilities.ReportProductEvent("Subscription Paywall",{channel_id:TBGlobal.CurrentChannelId(),license_name:TBGlobal.Profile().LicenseName,platform:"extension",timestamp:(new Date).toISOString(),tool:"Title Generator"}),window.open(TBGlobal.host+"/pricing","_blank")},S=async e=>{const t={SuggestedText:e.join("\r\n"),VideoId:n.videoId,ChannelId:TBGlobal.CurrentChannelId(),OriginalTitle:k()};await(e=>new Promise(((t,o)=>{try{const n=TBGlobal.host+TBGlobal.apiUrls.postSuggestions;TBExtension.Post(n,JSON.stringify(e),((e,n,i)=>e?t(i):o("Error ingesting retention data")),null,{contentType:"application/json",dataype:"json"})}catch(n){return TBUtilities.LogError({exception:n,location:"SuggestedShortsFunctions.PostRetentionData"}),o("Error ingesting retention data.")}})))(t)},B=async()=>{if(f.value){const e=await new Promise((e=>{const t=`${TBGlobal.host+TBGlobal.apiUrls.getPreviousTitleSuggestions}?channelId=${TBGlobal.CurrentChannelId()}`;TBUtilities.Log(`getUrl ${t}}`),TBUtilities.Log("requesting previous title generator suggestions");const o=TBExtension.Get(t,((t,n,i)=>{try{return t?(TBUtilities.Log(i),e(i)):e([])}catch(a){TBUtilities.LogError({exception:a,location:"DataEngineeringFunctions.GetPreviousSuggestions"})}return TBUtilities.Log(o),o}),null,{dataType:"json",contentType:"application/json"})}));return h.value=e,TBUtilities.Log(e),e.length}},C=async()=>{const e="titlegenerator";if(f.value){if(0===w.value)return w.value=0,void(T.value=!0);w.value=w.value-1}u.value=!0,T.value=!0,g.value=!1,c.value=[];const t=[...await om(s.value),...await om(s.value)];setTimeout((async()=>{u.value=!1,T.value=!1,t&&t.length>0?((e=>{e.forEach(((e,t)=>{setTimeout((()=>{c.value.push(e)}),500*t)}))})(t),x.value=!1,f.value&&(await S(t),await B())):g.value=!0}),5),f&&(await TBUtilities.IncrementFeatureUse(e),TBUtilities.CanUseFeature(e)?T.value=!1:T.value=!0),await TBUtilities.ReportProductEvent("Title Generator Generate Ideas",{tool:"Title Generator",video_id:n.videoId,channel_id:TBGlobal.CurrentChannelId(),topic:s.value,topics_suggested:t}),f.value&&x.value&&await TBUtilities.ReportProductEvent("Title Generator Free Attempts Uses",{tool:"Title Generator",video_id:n.videoId,channel_id:TBGlobal.CurrentChannelId(),timestamp:(new Date).toISOString()})},V=()=>{const e=l(!1);s.value=e&&e.length>0?e[0].textContent:""};return t.watch(b,((e,t)=>{!0===e&&V()})),t.onMounted((async()=>{v.value=await B(),V(),TBUtilities.Log(`free account ${f.value} && initial suggestions ${v.value} >= 5 && previous suggestions ${h.value}.length >= 5`),TBUtilities.Log(y.value)})),(e,o)=>(t.openBlock(),t.createElementBlock("div",mm,[bm,y.value?(t.openBlock(),t.createElementBlock("div",gm,[t.createElementVNode("div",null,[t.createElementVNode("div",hm,[t.createElementVNode("img",{src:t.unref(i),style:{"padding-bottom":"24px"},alt:"person sitting cross-legged on ground with laptop in their lap with idea cloud floating above them",class:"tb-no-suggestions-image"},null,8,fm)]),vm,ym,t.createElementVNode("button",{onClick:E}," Upgrade Your Plan ")])])):(t.openBlock(),t.createElementBlock("div",xm,[Tm,t.createElementVNode("div",wm,[t.withDirectives(t.createElementVNode("input",{id:"title-subject","onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e),type:"text",onKeyup:t.withKeys(C,["enter"])},null,40,km),[[t.vModelText,s.value]]),t.createElementVNode("i",{id:"clear-input",class:"untitled-ui untitled-ui-x-circle-line",onClick:o[1]||(o[1]=e=>s.value="")})]),t.createElementVNode("button",{disabled:t.unref(x)||T.value,onClick:t.withModifiers(C,["prevent"])}," Generate Ideas ",8,Em),f.value?(t.openBlock(),t.createElementBlock("div",Sm,[Bm,t.createElementVNode("span",Cm,[t.createTextVNode("You can Generate "+t.toDisplayString(w.value)+" more sets of title ideas with the free plan. To generate unlimited ideas ",1),t.createElementVNode("a",{onClick:E},"Upgrade now")])])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"toolbox-title-suggestion-container",style:t.normalizeStyle({"overflow-y":u.value?"hidden":"scroll","max-height":f.value?"40vh":"45vh"})},[u.value?(t.openBlock(),t.createBlock(t.Transition,{key:0},{default:t.withCtx((()=>[t.createElementVNode("div",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList([...Array(8).keys()],(e=>(t.openBlock(),t.createBlock(t.unref(Iu),{height:"48px",margin:"0 0 8px 0"})))),256))])])),_:1})):t.createCommentVNode("",!0),!u.value&&c.value.length>0?(t.openBlock(),t.createBlock(t.TransitionGroup,{key:1,name:"list"},{default:t.withCtx((()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(c.value,((e,n)=>(t.openBlock(),t.createElementBlock("div",{key:e,class:"toolbox-title-suggestion",onMouseenter:e=>d.value=n,onMouseleave:o[2]||(o[2]=e=>d.value=null)},[t.createElementVNode("div",Nm,t.toDisplayString(e),1),t.createElementVNode("div",null,[t.withDirectives(t.createElementVNode("div",{class:"apply-cta",onClick:t=>((e,t)=>{p.value=t,r(e,!1),setTimeout((()=>{p.value=null}),5e3),TBUtilities.ReportProductEvent("Title Generator Apply",{tool:"Title Generator",selected_title:e})})(e,n)}," Apply ",8,Im),[[t.vShow,d.value===n&&!p.value]]),t.withDirectives(t.createElementVNode("div",null,Dm,512),[[t.vShow,p.value===n]])])],40,Vm)))),128))])),_:1})):t.createCommentVNode("",!0),g.value?(t.openBlock(),t.createElementBlock("div",Lm,[t.createVNode(um)])):t.createCommentVNode("",!0)],4)])),null!==p.value?(t.openBlock(),t.createBlock(am,{key:2,"display-text":"Your new title has been added to your video",onClose:o[3]||(o[3]=e=>p.value=null)})):t.createCommentVNode("",!0)]))}},[["__scopeId","data-v-540479d7"]]),Mm=()=>{const e=window.location.href.match(/video\/[^/]+\/edit/gi);return null==e?null:e[0].replace(/video\/|\/edit/gi,"")},Am=e=>{let t=0;return e&&(e.forEach((e=>{t+=e.trim().replace(/\s/,"---").length+1})),t>0&&t--),t},Um={class:"tb-beta-cta-toolbox-wrapper"},Om={key:0,class:"tb-beta-experience-cta-error-text tb-block"},_m={class:"tb-beta-experience-cta-container"},Pm=t.createElementVNode("div",{class:"tb-beta-experience-cta-text"}," We've been working on a new TubeBuddy experience ",-1),jm=["onClick"],Gm={key:0},Rm={key:1},Fm=[t.createElementVNode("span",{class:"tb-beta-loader"},null,-1),t.createTextVNode(" Loading... ")],$m={class:"tb-beta-experience-privacy-links-container"},Hm=t.createTextVNode(" By clicking Try the Beta you agree to our "),Qm=["href"],Km=t.createTextVNode(" and "),Ym=["href"],Wm={setup(e){const o=t.ref(!1),n=t.ref(!1),i=t.ref("https://www.tubebuddy.com/beta/tos/"),a=t.ref("https://www.tubebuddy.com/beta/privacy/"),r=e=>{try{n.value=!1,o.value=!0,setTimeout((function(){TBUtilities.LaunchBetaExperience("extension_toolbox").then((e=>{e?o.value=!1:l()}))}),3e3)}catch(t){TBUtilities.LogError({exception:t,location:"BetaCta.ClickedBeta server request"})}},l=()=>{o.value=!1,n.value=!0};return(e,l)=>(t.openBlock(),t.createElementBlock("div",Um,[n.value?(t.openBlock(),t.createElementBlock("div",Om," There was an issue connecting you to the beta ")):t.createCommentVNode("",!0),t.createElementVNode("div",_m,[Pm,t.createElementVNode("button",{class:"tb-beta-experience-cta-button",onClick:t.withModifiers(r,["stop"])},[!1===o.value?(t.openBlock(),t.createElementBlock("span",Gm,"Try the Beta")):(t.openBlock(),t.createElementBlock("span",Rm,Fm))],8,jm)]),t.createElementVNode("div",$m,[Hm,t.createElementVNode("a",{href:i.value,target:"_blank"},"Terms of Service",8,Qm),Km,t.createElementVNode("a",{href:a.value,target:"_blank"},"Privacy Policy",8,Ym)])]))}},qm={id:"tb-toolbox"},Jm={id:"tb-header"},Zm=["src"],Xm={key:0,class:"tb-beta-badge"},eb={id:"tb-body",style:{height:"80%"}},tb={id:"tb-workarea"},ob={key:0,id:"tb-thumbnail-studio"},nb={key:1,id:"tb-suggested-shorts",style:{height:"100%"}},ib={key:2,id:"tb-toolbox-title-generator"},ab=["onClick"],rb=["src"],lb=t.createTextVNode(" Title Generator "),sb={props:{defaultOpen:Boolean},setup(o){const n=o,i=e.useStore(),a=t.ref(!1),r=t.computed((()=>browser.runtime.getURL("/images/branding/tb-icon.svg"))),l=t.computed((()=>browser.runtime.getURL("images/branding/tb-icon-transparent.svg"))),s=n.defaultOpen,c=t.computed((()=>i.getters.getSidebarHeight)),d=t.ref(0),u=t.ref(!1),{getTitleInputValue:p}=L(),m=t.ref(!1),b=/(https:\/\/studio\.youtube\.com\/video\/[^\/]+\/edit)($|\?)/,g=["videoabtests","suggestedshorts"],h=t.computed((()=>i.getters.getActiveFeature)),f=TBGlobal.GetAllTools().filter((e=>"cardtemplates"!==e.id&&"endscreentemplates"!==e.id||(TBUtilities.ReportProductExposure("session-token"),TBGlobal.IsExperimentEnabled("session-token")))),v=t.computed((()=>f.filter((e=>!0===e.showInToolbox)).sort(((e,t)=>e.toolboxPriority-t.toolboxPriority)))),y=()=>{(()=>{if(0===$("#tb-body").length)return;const e=$("#tb-body").offset();d.value=Math.floor(e.top)})(),(()=>{const e=c.value-d.value-60;$("#tb-workarea").css("height",e);const t=e-360;i.commit("setThumbnailListHeight",t)})()},x=()=>{TBUtilities.ReportProductEvent("Title Generator Launched",{channel_id:TBGlobal.CurrentChannelId(),video_id:Mm(),tool:"Title Generator",launch_from:"Video Details title input button",topic:p(!1)}),i.commit("setIsOpen",!0),i.commit("setActiveFeature","Title Generator")},T=[{title:"Get more views",subtitle:"Views are a huge driver to help grow your channel.",category:"more views",fontColor:"#120080",icon:"/images/modules/figma/eye.svg",iconBackgroundColor:"#C6B8FF"},{title:"Save time",subtitle:"You are always short on time, get time back.",category:"save time",fontColor:"#00804F",icon:"/images/modules/figma/clock.svg",iconBackgroundColor:"#A0F3C5"},{title:"Audience Engagement",subtitle:"Increase how much of your content your viewers watch.",category:"audience",fontColor:"#005387",icon:"/images/modules/figma/users.svg",iconBackgroundColor:"#9DE6F6"}];t.onBeforeMount((async()=>{if(/(https:\/\/studio\.youtube\.com\/video\/[^\/]+\/edit)($|\?)/.test(window.location.href)?u.value=!1:/(https:\/\/studio\.youtube\.com\/channel\/[^\/]+)($|\?)/.test(window.location.href)&&(u.value=!0),!u.value){const e={thumbnailDetails:{all:!0},description:!0,tags:{all:!0},title:!0,videoId:!0,privacy:!0};if(Mm()){const t=await TubeBuddyYouTubeActions.GetCreatorVideosStudio(Mm(),e);a.value="VIDEO_PRIVACY_PUBLIC"===t.privacy}}})),t.onMounted((()=>{i.commit("setModuleId","#tb-toolbox"),y(),window.addEventListener("resize",y),$("#tb-editvideo-nav-video").length>0&&($("#tb-editvideo-nav-video").css({top:"auto",bottom:"10%"}),$("#tb-editvideo-nav-list-menu").css({top:"auto",bottom:"30%"})),w()})),t.onUnmounted((()=>{i.commit("setActiveFeature",null),jQuery("body").trigger("TBCloseToolBox"),window.removeEventListener("resize",y)}));const w=()=>{if(!b.test(window.location.href))return;const e=document.createElement("div"),t=document.querySelector(".input-container.title");e.setAttribute("id","title-generator-teleport"),t&&(t.after(e),m.value=!0)};return(e,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createElementVNode("div",qm,[t.createVNode(Hc,{"sidebar-width":516,"workarea-selector":"#entity-page","shrink-workarea":t.unref(s)},{"main-content-1":t.withCtx((()=>[t.withDirectives(t.createElementVNode("button",{class:"tb-toolbox-back-btn",onClick:o[0]||(o[0]=e=>{b.test(window.location.href)?i.commit("setActiveFeature",null):jQuery("body").trigger("TBCloseToolBox")})},"< Back",512),[[t.vShow,t.unref(h)]]),t.createElementVNode("header",Jm,[t.createElementVNode("img",{class:"tb-module-logo",style:{width:"25px",height:"25px"},src:t.unref(r),alt:"TubeBuddy logo"},null,8,Zm),t.createElementVNode("h2",null,[t.createTextVNode(t.toDisplayString(t.unref(h)?t.unref(h):"Toolbox")+" ",1),"Thumbnail Analyzer"===t.unref(h)?(t.openBlock(),t.createElementBlock("span",Xm,"BETA")):t.createCommentVNode("",!0)])]),t.createElementVNode("section",eb,[t.withDirectives(t.createElementVNode("section",tb,[t.createVNode(jd,{"is-video-public":a.value,"item-headers":T,subitems:t.unref(v),"hide-if-not-public-video":g,"open-tool-onsite":u.value},null,8,["is-video-public","subitems","open-tool-onsite"]),(TBUtilities.ReportProductExposure("destination-beta",!0),TBGlobal.IsExperimentEnabled("destination-beta")?(t.openBlock(),t.createBlock(Wm,{key:0})):t.createCommentVNode("",!0)),t.createVNode(Yd)],512),[[t.vShow,null===t.unref(h)]]),"Thumbnail Analyzer"===t.unref(h)?(t.openBlock(),t.createElementBlock("section",ob,[t.createVNode(rp)])):t.createCommentVNode("",!0),"Suggested Shorts"===t.unref(h)?(t.openBlock(),t.createElementBlock("section",nb,[t.createVNode(tm)])):t.createCommentVNode("",!0),"Title Generator"===t.unref(h)?(t.openBlock(),t.createElementBlock("section",ib,[t.createVNode(zm,{"video-id":t.unref(Mm)()},null,8,["video-id"])])):t.createCommentVNode("",!0)])])),_:1},8,["shrink-workarea"]),t.createVNode(xd,{"sidebar-width":516})]),m.value?(t.openBlock(),t.createBlock(t.Teleport,{key:0,to:"#title-generator-teleport"},[t.createElementVNode("button",{onClick:t.withModifiers(x,["stop"]),class:"tb-btn tb-btn-grey tb-title-generator-launch",title:"Title Generator"},[t.createElementVNode("img",{class:"tb-height11 tb-move-down2 tb-margin-right-3",src:t.unref(l),alt:"TubeBuddy logo"},null,8,rb),lb],8,ab)])):t.createCommentVNode("",!0)],64))}},cb={state:()=>({imageData:null,thumbnailHeatmapId:null,imageExt:null}),mutations:{setVariationThumbnailImage(e,t){e.imageData=t},setVariationThumbnailImageExt(e,t){e.imageExt=t},setThumbnailHeatmapId(e,t){e.thumbnailHeatmapId=t},resetVariationThumbnailImage(e){e.imageData=null,e.thumbnailHeatmapId=null,e.imageExt=null}},getters:{getVariationThumbnailImage:e=>e.imageData,getVariationThumbnailImageExt:e=>e.imageExt,getSelectedThumbnailHeatmapId:e=>e.thumbnailHeatmapId}},db={state:()=>({selectedScore:null}),mutations:{setSelectedThumbnailScore(e,t){e.selectedScore=t}},getters:{getSelectedThumbnailScore:e=>e.selectedScore}};let ub={state:()=>({thumbnailListHeight:0}),mutations:{setThumbnailListHeight(e,t){e.thumbnailListHeight=t}},getters:{getThumbnailListHeight:e=>e.thumbnailListHeight}};const pb={state:()=>({currentThumbnailScore:null,currentThumbnailHeatmapId:null}),mutations:{setCurrentThumbnailScore(e,t){e.currentThumbnailScore=t},setCurrentThumbnailHeatmapId(e,t){e.currentThumbnailHeatmapId=t}},getters:{getCurrentThumbnailScore:e=>e.currentThumbnailScore,getCurrentThumbnailHeatMapId:e=>e.currentThumbnailHeatmapId}},mb={state:()=>({currentStep:1,completedSteps:{}}),mutations:{setCurrentStep(e,t){e.currentStep=t},saveStep(e,t){e.completedSteps={...e.completedSteps,...t}},resetSteps(e){e.completedSteps={}}},getters:{getCurrentStep:e=>e.currentStep,getSavedSteps:e=>e.completedSteps,getSavedStep:e=>t=>e.completedSteps[t]}},bb={state:()=>({metaData:{}}),mutations:{setMetaData(e,t){e.metaData={...e.metaData,...t}},setMetaTitle(e,t){e.metaData.title=DOMPurify.sanitize(t)},setMetaDescription(e,t){e.metaData.description=DOMPurify.sanitize(t)},resetMetaData(e,t){e.metaData={}},setMetaTags(e,t){e.metaData.tags=t},setMetaThumbnail(e,t){e.metaData.thumbnail=t}},getters:{getMetaData:e=>e.metaData,getMetaTitle:e=>e.metaData.title?e.metaData.title:"No title",getMetaDescription:e=>e.metaData.description?e.metaData.description:"No Description",getMetaTags:e=>e.metaData.tags?e.metaData.tags:[],getMetaThumbnail:e=>e.metaData.thumbnail?e.metaData.thumbnail:"no thumbnail",getTagCharacterCount(e){let t=0;return e.metaData.tags&&(e.metaData.tags.forEach((e=>{t+=e.trim().replace(/\s/,"---").length+1})),t>0&&t--),t}}},gb={state:()=>({testSettings:{NumberOfDays:14,IsThumbnailTest:!1,RunUntilSignificant:!1,MetaChanged:!1,AutoApplyWinner:!1,YouTubeChannelId:"",VideoId:"",StartDate:null,VariationViewModel:{ThumbnailId:null,Title:"",Description:"",SelectedKeywords:[]}}}),mutations:{setVideoId(e,t){e.testSettings.VideoId=t},setChannel(e,t){e.testSettings.YouTubeChannelId=t},setIsThumbnailOnly(e,t){e.testSettings.IsThumbnailTest=t,e.testSettings.MetaChanged=!t},setNumberOfDays(e,t){e.testSettings.NumberOfDays=t,e.testSettings.RunUntilSignificant=!1},setRunUntilSignificant(e){e.testSettings.RunUntilSignificant=!0,e.testSettings.NumberOfDays=14},setStartDate(e,t){e.testSettings.StartDate=t},setVariationThumbnail(e,t){e.testSettings.VariationViewModel.ThumbnailId=t},setVariationTitle(e,t){e.testSettings.VariationViewModel.Title=DOMPurify.sanitize(t)},setVariationDescription(e,t){e.testSettings.VariationViewModel.Description=DOMPurify.sanitize(t)},setVariationTags(e,t){e.testSettings.VariationViewModel.SelectedKeywords=t},resetTestSettings(e,t){e.testSettings.NumberOfDays=14,e.testSettings.IsThumbnailTest=!1,e.testSettings.RunUntilSignificant=!1,e.testSettings.MetaChanged=!1,e.testSettings.AutoApplyWinner=!1,e.testSettings.StartDate=null,e.testSettings.VariationViewModel.ThumbnailId=null,e.testSettings.VariationViewModel.Title="",e.testSettings.VariationViewModel.Description="",e.testSettings.VariationViewModel.SelectedKeywords=[]}},getters:{getTestSettings:e=>e.testSettings,getVariationTitle:e=>e.testSettings.VariationViewModel.Title,getVariationDescription:e=>e.testSettings.VariationViewModel.Description,getVariationTags:e=>e.testSettings.VariationViewModel.SelectedKeywords,getYouTubeChannelId:e=>e.testSettings.YouTubeChannelId,getVariationThumbnail:e=>e.testSettings.VariationViewModel.ThumbnailId,getMetaChanged:e=>e.testSettings.MetaChanged}},hb={state:()=>({isMultipleTest:!1}),mutations:{setIsMultipleTest(e,t){e.isMultipleTest=t},resetIsMultipleTest(e,t){e.isMultipleTest=!1}},getters:{getIsMultipleTest:e=>e.isMultipleTest}},fb={state:()=>({recommendationsAdded:[]}),mutations:{setRecommendationsAdded(e,t){e.recommendationsAdded=t}},getters:{getRecommendationsAdded:e=>e.recommendationsAdded}},vb={state:()=>({testTypesSelected:{}}),mutations:{setTestTypesSelected(e,t){e.testTypesSelected=t},resetTestTypesSelected(e){e.testTypesSelected={}}},getters:{getTestTypesSelected:e=>e.testTypesSelected}},yb={state:()=>({testTypes:{}}),mutations:{setTestTypes(e,t){e.testTypes=t},resetTestTypes(e){e.testTypes={}}},getters:{getTestTypes:e=>e.testTypes}},xb={state:()=>({componentsToRender:{}}),mutations:{setComponentsToRender(e,t){e.componentsToRender=t}},getters:{getComponentsToRender:e=>e.componentsToRender}},Tb={state:()=>({stepInfo:[]}),mutations:{setStepInfo(e,t){e.stepInfo=t}},getters:{getStepInfo:e=>e.stepInfo}},wb={state:()=>({errors:{}}),mutations:{setError(e,t){e.errors[t]=!0},clearError(e,t){e.errors[t]=!1},clearAllErrors(e){e.errors={}}},getters:{getErrors:e=>e.errors}},kb={state:()=>({imageData:null}),mutations:{setVariationThumbnailImage(e,t){e.imageData=t},resetVariationThumbnailImage(e){e.imageData=null}},getters:{getVariationThumbnailImage:e=>e.imageData}},Eb={state:()=>({userAddedSuggestedTitle:null}),mutations:{setUserAddedSuggestedTitle(e,t){e.userAddedSuggestedTitle=t}},getters:{getUserAddedSuggestedTitle:e=>e.userAddedSuggestedTitle}},Sb={state:()=>({generatedTitles:[]}),mutations:{setGeneratedTitles(e,t){e.generatedTitles=t},resetGeneratedTitles(e){e.generatedTitles=[]}},getters:{getGeneratedTitles:e=>e.generatedTitles}},Bb={state:()=>({status:null,confidenceLevel:0}),mutations:{setTestStatus(e,t){e.status=t},setConfidenceLevel(e,t){e.confidenceLevel=t}},getters:{getTestStatus:e=>e.status,getConfidenceLevel:e=>e.confidenceLevel}},Cb={state:()=>({kickstartMode:!1,testType:null,variationData:null,launchedFrom:""}),mutations:{setKickstartMode(e,t){e.kickstartMode=!0,e.testType=t.testType,e.variationData=t.variationData,e.launchedFrom=t.launchedFrom,"Thumbnail"===t.testType&&(this.commit("setVariationThumbnailImage","data:image.png;base64,"+t.variationData.imageData),this.commit("setVariationThumbnail",t.variationData.variationId))},resetKickstartMode(e){e.kickstartMode=!1,e.testType=null,e.variationData=null,e.launchedFrom="",this.commit("setVariationThumbnail",null),this.commit("resetVariationThumbnailImage")}},getters:{getKickstartABTest:e=>e}},Vb=()=>{let e=/(https:\/\/studio\.youtube\.com\/video\/[^\/]+\/edit)($|\?)/;return[/(https:\/\/studio\.youtube\.com\/video\/[^\/]+\/edit)($|\?)/].forEach((t=>{t.test(window.location.href)&&(e=t)})),e},Nb=`tb-suggestedShorts-open-${TBGlobal.CurrentChannelId()}`,Ib=e.createStore({modules:{moduleId:gd,isOpen:hd,sidebarHeight:fd,variationThumbnailImage:cb,selectedThumbnailScore:db,thumbnailListHeight:ub,currentThumbnailScore:pb,activeFeature:vd}});function Db(){return{close:(e,t)=>{TBUtilities.ReportProductEvent("Click Skip Upgrading in Uses Left",{action:"Click x",uses_left:t,tool:e}),jQuery("body").trigger("TBGateClose")},useBulkTool:e=>{if(TubeBuddyMenu.ShowBackgroundSticky(),TBUtilities.ReportProductEvent("Click Skip Upgrading in Uses Left",{action:"Click skip upgrading",uses_left:e.usesLeft,tool:e.toolSrc}),e.usesLeft<=0)return TBGlobal.ShowUpgradePage("",`${e.toolSrc}`),void jQuery("body").trigger("TBGateClose");"bulkcards"===e.source?"Copy"===e.action?TubeBuddyBulkCopySelect.Show("TubeBuddyCards"):"Update"===e.action?TubeBuddyCardsUpdateStudio.Show():"Delete"===e.action&&TubeBuddyCardsStudio.ShowDelete():"bulkendscreens"===e.source&&("Copy"===e.action?TubeBuddyBulkCopySelect.Show("tubebuddyendscreens"):"Update"===e.action?TubeBuddyEndScreenUpdate.Show():"Delete"===e.action&&TubeBuddyEndScreens.ShowDelete()),jQuery("body").trigger("TBGateClose"),jQuery(".tb-videos-list-all-tools-dropdown").hide()}}}const Lb={class:"header"},zb={class:"left-header"},Mb=["src"],Ab=t.createTextVNode(" Uses left "),Ub={class:"x-close"},Ob=v({props:{action:String,source:String,usesLeft:Number},setup(e){const o=e,{close:n}=Db(),i={bulkendscreens:"Bulk End Screens",bulkcards:"Bulk Cards"},a=t.computed((()=>browser.runtime.getURL("/images/branding/icon_large.png")));return(e,r)=>(t.openBlock(),t.createElementBlock("div",Lb,[t.createElementVNode("div",zb,[t.createElementVNode("img",{src:t.unref(a),alt:"TubeBuddy Icon"},null,8,Mb),Ab]),t.createElementVNode("div",Ub,[t.createElementVNode("i",{class:"untitled-ui untitled-ui-x-line x-close-i",onClick:r[0]||(r[0]=()=>t.unref(n)(i[o.source],o.usesLeft))})])]))}},[["__scopeId","data-v-5ea49e26"]]),_b=e=>(t.pushScopeId("data-v-e949b9c9"),e=e(),t.popScopeId(),e),Pb={class:"usesLeft"},jb={class:"bold"},Gb=_b((()=>t.createElementVNode("span",{class:"bold"}," left forever ",-1))),Rb={class:"secondary-text"},Fb=t.createTextVNode(" Want more? "),$b=_b((()=>t.createElementVNode("br",null,null,-1))),Hb=t.createTextVNode(" Get "),Qb={class:"bold"},Kb={class:"upgradedLicense"},Yb=t.createTextVNode(" upgrade. "),Wb=["href"],qb=[_b((()=>t.createElementVNode("i",{class:"untitled-ui untitled-ui-stars-03-line"},null,-1))),t.createTextVNode(" upgrade now ")],Jb=v({props:{usesLeft:Number,source:String},setup(e){const o=e,n={bulkendscreens:"Bulk End Screens",bulkcards:"Bulk Cards"},i=t.computed((()=>n[o.source])),a=t.computed((()=>o.usesLeft)),r=t.computed((()=>browser.runtime.getURL("/images/rst-bg.png"))),l=TBGlobal.Profile().LicenseName,s=t.computed((()=>"Legend"===l?"https://www.tubebuddy.com/enterprise/bulk-tools":"https://www.tubebuddy.com/pricing")),c=t.computed((()=>"Starter"===l?{nextLicense:"Pro",nextUses:"2"}:"Pro"===l||"Star"===l?{nextLicense:"Legend",nextUses:"3"}:{nextLicense:"Enterprise",nextUses:"unlimited"}));return(e,d)=>(t.openBlock(),t.createElementBlock("div",{class:"content",style:t.normalizeStyle({backgroundImage:"url("+t.unref(r)+")",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"bottom",backgroundPositionY:"30px"})},[t.createElementVNode("span",Pb,t.toDisplayString(t.unref(a)),1),t.createElementVNode("span",jb,t.toDisplayString(1===t.unref(a)?" use":" uses"),1),t.createTextVNode(" of "+t.toDisplayString(t.unref(i))+" ",1),Gb,t.createTextVNode(" with your "+t.toDisplayString("Starter"===t.unref(l)?"Free":t.unref(l))+" license. ",1),t.createElementVNode("div",Rb,[Fb,$b,Hb,t.createElementVNode("span",Qb,t.toDisplayString(t.unref(c).nextUses),1),t.createTextVNode(" uses with "+t.toDisplayString("Enterprise"===t.unref(c).nextLicense?"an":"a")+" ",1),t.createElementVNode("span",Kb,t.toDisplayString(t.unref(c).nextLicense),1),Yb]),t.createElementVNode("a",{class:"upgrade-btn",rel:"noopener",target:"_blank",href:t.unref(s),onClick:d[0]||(d[0]=e=>{TBUtilities.ReportProductEvent("Click Upgrade Now in Uses Left",{uses_left:o.usesLeft,tool:n[o.source]})})},qb,8,Wb)],4))}},[["__scopeId","data-v-e949b9c9"]]),Zb={class:"footer"},Xb=v({props:{action:String,source:String,usesLeft:Number},setup(e){const o=e,{useBulkTool:n}=Db(),i={bulkendscreens:"Bulk End Screens",bulkcards:"Bulk Cards"};return(e,a)=>(t.openBlock(),t.createElementBlock("div",Zb,[t.createElementVNode("a",{onClick:a[0]||(a[0]=()=>t.unref(n)({...o,toolSrc:i[o.source]}))}," skip upgrading ")]))}},[["__scopeId","data-v-cfdf392d"]]),eg={props:{action:String,source:String},setup(e){const o=e,n={Starter:1,Pro:2,Star:2,Legend:3};t.computed((()=>TBUtilities.CanUseFeature(o.source)));const i=t.computed((()=>TBUtilities.GetGateStatus(o.source))),a=t.ref(i.value.UsesLeft);return t.onMounted((()=>{i.value.NeverUsed&&"Enterprise"!==TBGlobal.Profile().LicenseName&&(a.value=n[TBGlobal.Profile().LicenseName])})),(e,n)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createVNode(Ob,{action:o.action,source:o.source,"uses-left":a.value},null,8,["action","source","uses-left"]),t.createVNode(Jb,{source:o.source,"uses-left":a.value},null,8,["source","uses-left"]),t.createVNode(Xb,{source:o.source,action:o.action,"uses-left":a.value},null,8,["source","action","uses-left"])],64))}},tg={id:"container"},og=v({props:{action:String,source:String},setup(e){const o=e;return(e,n)=>(t.openBlock(),t.createElementBlock("div",tg,[t.createVNode(eg,{source:o.source,action:o.action},null,8,["source","action"])]))}},[["__scopeId","data-v-14f4aab8"]]);const ng={class:"tb-tab-navigation-container tb-flex tb-items-center tb-text-center tb-justify-start tb-w-full tb-bg-gray-100 tb-p-7"},ig={class:"tb-flex"},ag={id:"tb-opt-num"},rg={class:"tb-font-bold"},lg={props:{steps:{type:Array,default:()=>[]},completedSteps:{type:Object,default:()=>{}}},setup(e){const o=e,n=t.computed((()=>o.steps)),i=t.computed((()=>o.completedSteps));return(e,o)=>(t.openBlock(),t.createElementBlock("div",ng,[t.createElementVNode("div",ig,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(n),(({stepIndex:e,stepName:o})=>(t.openBlock(),t.createElementBlock("div",{key:e,class:"tb-flex tb-items-center tb-mr-5"},[t.createElementVNode("div",{class:t.normalizeClass(["tb-step-crumb tb-p-3 tb-flex tb-justify-center tb-items-center tb-mr-2",t.unref(i)[e]])},[t.createElementVNode("span",ag,t.toDisplayString(e),1)],2),t.createElementVNode("span",rg,t.toDisplayString(o),1),e!==t.unref(n).length?(t.openBlock(),t.createElementBlock("i",{key:0,class:t.normalizeClass(["material-icons tb-step-chevron tb-ml-2",t.unref(i)[e]])}," chevron_right ",2)):t.createCommentVNode("",!0)])))),128))])]))}},sg={class:"tb-px-4 tb-py-3 tb-flex tb-items-center tb-justify-end tb-bg-gray-100"},cg={class:"tb-flex tb-justify-between"},dg={props:{currentStep:{type:Number,default:1},numberOfSteps:{type:Number,default:0},finalStep:{type:String,default:""},previousStyling:{type:String,default:""},nextStyling:{type:String,default:""},finalStyling:{type:String,default:""},isError:{type:Boolean,default:!1},testEmpty:{default:!1,type:Boolean}},emits:["go-to-next-step","go-to-previous-step","final-step"],setup(o,{emit:n}){const i=o;e.useStore();const a=t.computed((()=>i.currentStep)),r=t.computed((()=>i.numberOfSteps)),l=t.computed((()=>i.finalStep)),s=t.computed((()=>i.previousStyling)),c=t.computed((()=>i.nextStyling)),d=t.computed((()=>i.finalStyling)),u=t.computed((()=>i.isError)),p=t.computed((()=>i.testEmpty));return(e,o)=>(t.openBlock(),t.createElementBlock("div",sg,[t.createElementVNode("div",cg,[t.unref(a)>1?(t.openBlock(),t.createElementBlock("button",{key:0,id:"tb-footer-back",class:t.normalizeClass(["tb-bg-gray-100 hover:tb-bg-gray-200 tb-text-gray-600 tb-mr-2",t.unref(s)]),onClick:o[0]||(o[0]=e=>n("go-to-previous-step"))}," Back ",2)):t.createCommentVNode("",!0),t.unref(a)<t.unref(r)?(t.openBlock(),t.createElementBlock("button",{key:1,class:t.normalizeClass(["tb-text-white tb-btn tb-video-opt-btn",[t.unref(c),t.unref(u)?"tb-next-button-dim":""]]),onClick:o[1]||(o[1]=e=>n("go-to-next-step"))}," Next ",2)):t.createCommentVNode("",!0),t.createVNode(Vr,{text:t.unref(p)?"At least one change is required to start an A/B test. Please make a change to your thumbnail, title, description, and/or tags.":"",position:"top",showTooltip:t.unref(p)},{default:t.withCtx((()=>[t.createElementVNode("div",null,[t.unref(a)===t.unref(r)?(t.openBlock(),t.createElementBlock("button",{key:0,class:t.normalizeClass(["tb-text-white tb-btn tb-video-opt-btn",[t.unref(d),t.unref(u)||t.unref(p)?"tb-next-button-dim":""]]),onClickOnce:o[2]||(o[2]=e=>n("final-step"))},t.toDisplayString(t.unref(l)),35)):t.createCommentVNode("",!0)])])),_:1},8,["text","showTooltip"])])]))}},ug={class:"tb-video-thumbnail"},pg=["src"],mg=[t.createElementVNode("p",null," Testing more than one aspect of a video makes it unclear exactly which change affected the results. ",-1)],bg={props:{videoThumbnail:{type:String,default:""}},setup(o){const n=o,i=e.useStore(),a=t.computed((()=>n.videoThumbnail)),r=t.computed((()=>i.getters.getIsMultipleTest));return(e,o)=>(t.openBlock(),t.createElementBlock("div",ug,[t.createElementVNode("img",{class:"tb-video-thumbnail-image",alt:"Video Thumbnail",src:t.unref(a)},null,8,pg),t.createElementVNode("div",{id:"tb-video-thumbnail-message",class:t.normalizeClass(t.unref(r)?"show":"")},mg,2)]))}},gg={class:"tb-input-type-list"},hg={class:"tb-input-type-list-header"},fg={class:"tb-input-type-list-form"},vg=["onClick"],yg=["type","id","name","value","disabled","onUpdate:modelValue"],xg=["src"],Tg=["for"],wg={props:{inputType:{type:String,default:"radio"},title:{type:String,default:""},selection:{type:Array,default:[]}},emits:["test-step"],setup(o,{emit:n}){const i=o;e.useStore();const a=t.computed((()=>i.inputType)),r=t.computed((()=>i.title)),l=t.computed((()=>i.selection)),s=e=>{let t=e.isSelected?e.imagePathSelected:e.imagePath;return browser.runtime.getURL(t)};return(e,o)=>(t.openBlock(),t.createElementBlock("div",gg,[t.createElementVNode("h4",hg,t.toDisplayString(t.unref(r)),1),t.createElementVNode("form",fg,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(l),((e,o)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["tb-input-type-list-item",{selected:e.isSelected,disabled:e.isDisabled}]),onClick:t=>((e,t)=>{t||n("test-step",e)})(o,e.isDisabled)},[t.withDirectives(t.createElementVNode("input",{type:t.unref(a),id:"tb-input-type-list-input--"+e.copy.toLowerCase(),class:"tb-input-type-list-input",name:e.copy,value:e.copy,disabled:e.isDisabled,"onUpdate:modelValue":t=>e.isSelected=t},null,8,yg),[[t.vModelDynamic,e.isSelected]]),e.imagePath?(t.openBlock(),t.createElementBlock("img",{key:0,class:"tb-input-type-list-image",alt:"Item icon",src:s(e)},null,8,xg)):t.createCommentVNode("",!0),t.createElementVNode("label",{class:"tb-input-type-list-copy",for:e.copy},t.toDisplayString(e.copy?e.copy:""),9,Tg)],10,vg)))),256))])]))}},kg={setup(o){const n=e.useStore(),i=t.computed((()=>n.getters.getTestTypes)),a=t.computed((()=>n.getters.getTestTypesSelected)),r=e=>{i.value[e].isSelected=!i.value[e].isSelected,l();let t={};Object.entries(a.value).forEach((([e,o])=>t[e]=o)),e in t?delete t[e]:t[e]=i.value[e].copy,n.commit("setTestTypesSelected",t)},l=()=>{const e=i.value.filter((e=>!0===e.isSelected)).map((e=>e.copy)),t=1===e.length&&e.includes("Thumbnail");n.commit("setIsMultipleTest",e.length>1),n.commit("setIsThumbnailOnly",t)};return(e,o)=>(t.openBlock(),t.createBlock(t.unref(wg),{inputType:"checkbox",title:"What type of tests would you like to run?",selection:t.unref(i),onTestStep:r},null,8,["selection"]))}};function Eg(){const{track:e}=z();return{VideoOptimizationTestingTestAlternatesClicked:t=>{e("Video Optimization Testing Test Alternates Clicked",t)},ABTestLaunched:t=>{e("AB Test Launched",t)},ABTestTestTypeSelected:t=>{e("AB Test Test Type Selected",t)},ABTestRunSettingsEdited:t=>{e("AB Test Run Settings Edited",t)},ABTestUploadImageContinue:t=>{e("AB Test Upload Image & Continue",t)},ABTestUpdateTagsContinue:t=>{e("AB Test Update Tags & Continue",t)},ABTestMetadataUsedSuggestedTags:t=>{e("AB Test Metadata Used Suggested Tags",t)},ABTestMetadataUpdateTitlesContinue:t=>{e("AB Test Metadata Update Titles & Continue",t)},ABTestMetadataUpdateDescriptionsContinue:t=>{e("AB Test Metadata Update Descriptions & Continue",t)},ABTestStartTest:t=>{e("AB Test Start Test",t)},ABTestAIAlternateTitleAdded:t=>{e("AB Test AI Alternate Title Added",t)},ABTestAIAlternateTitleEdited:t=>{e("AB Test AI Alternate Title Edited",t)},ABTestAIAlternateTitleClickedRefreshButton:t=>{e("AB Test AI Alternate Title Clicked Refresh Button",t)}}}const Sg={id:"tb-title-editor",class:"tb-title-rect"},Bg={class:"tb-panel-body"},Cg=t.createElementVNode("div",{class:"tb-title-field-label"}," Original Title ",-1),Vg={class:"tb-original-title-display"},Ng={class:"tb-title-suggestions"},Ig=t.createElementVNode("div",{class:"tb-title-suggestions-title"}," Title Suggestions ",-1),Dg=["src"],Lg=t.createElementVNode("p",{class:"tb-title-suggestions-help-copy"}," How are these created? ",-1),zg=t.createElementVNode("p",{class:"tb-popup-p"}," Using state of the art machine learning, we generate titles that are similar to your input, but inject a spark of creativity to produce alternative title suggestions. ",-1),Mg=t.createElementVNode("p",{class:"tb-popup-p"}," Feel free to use one of these titles in an A/B test to determine if it outperforms your original title, or use them as a jumping off point to write new interesting titles of your own. ",-1),Ag=t.createElementVNode("svg",{class:"tb-popup-point"},[t.createElementVNode("polygon",{points:"0,0 12,0 6,10"}),t.createTextVNode(" Sorry, your browser does not support inline SVG. ")],-1),Ug={class:"tb-title-suggestions-main"},Og={key:0,class:"tb-title-suggestions-message-container"},_g={class:"tb-title-suggestions-message"},Pg=["src"],jg=t.createElementVNode("p",{class:"tb-loading-p"}," Generating suggestions... ",-1),Gg={key:0,class:"tb-title-suggestions-container"},Rg=["onClick"],Fg=t.createElementVNode("div",{class:"tb-title-suggestions-image"},[t.createElementVNode("div",{class:"tb-title-suggestions-plus"}," + ")],-1),$g={class:"tb-title-suggestion"},Hg={class:"tb-title-refresh-container"},Qg=["src"],Kg=t.createElementVNode("p",{class:"tb-refresh-copy"}," Refresh ",-1),Yg={class:""},Wg={setup(o){const{ABTestAIAlternateTitleAdded:n,ABTestAIAlternateTitleClickedRefreshButton:i}=Eg(),a=e.useStore(),r=t.computed((()=>a.getters.getGeneratedTitles)),l=t.ref(null),s=t.computed((()=>a.getters.getVariationTitle)),c=a.getters.getMetaData.title,d=t.computed((()=>a.getters.getErrors||{})),u=t.computed((()=>d.value.Title)),p=t.computed((()=>null===a.getters.getVariationTitle?0:a.getters.getVariationTitle.length)),m=t.ref(!1),b=t.ref(null),g=/[<>]/,h=t.ref(null),f=t.ref(!1),v=t.ref(!0),y=e=>browser.runtime.getURL(e),x=t.ref(),T=e=>{m.value=!1,b.value="";const t=e.target.value.replace(/\n$/g,"");t.length>100||g.test(t)?a.commit("setError","Title"):a.commit("clearError","Title"),a.commit("setVariationTitle",t);const{target:o}=e;o.focus()},w=()=>{l.value="loading",f.value=!0,setTimeout((async()=>{try{const e=await om(a.getters.getMetaTitle);a.commit("setGeneratedTitles",e),r.value.length>0?(l.value="success",f.value=!1):(l.value="error",h.value=null,f.value=!1)}catch(e){TBUtilities.LogError(e),l.value="error",h.value=null,f.value=!1}}),1e3)},k=()=>{f.value||(w(),a.commit("setUserAddedSuggestedTitle",null),i({video_id:Mm(),timestamp:(new Date).toISOString(),tool:"videoabtests"}))},E=()=>{v.value=!v.value};return t.onBeforeMount((()=>{r.value.length>0||w()})),t.onMounted((()=>{const e=s.value.length;x.value.setSelectionRange(e,e),x.value.focus()})),(e,o)=>(t.openBlock(),t.createElementBlock("div",Sg,[t.createElementVNode("div",Bg,[Cg,t.createElementVNode("p",Vg,t.toDisplayString(t.unref(c)),1),t.createElementVNode("div",Ng,[Ig,t.createElementVNode("div",{class:"tb-title-suggestions-help",onClick:E},[t.createElementVNode("img",{class:"tb-title-suggestions-icon",src:y("/images/icons/circle-i-blue.svg")},null,8,Dg),Lg]),t.createElementVNode("div",{class:t.normalizeClass(["tb-popup",v.value?"tb-hide-popup":""])},[t.createElementVNode("div",{class:"tb-popup-bubble"},[t.createElementVNode("i",{class:"material-icons tb-close-icon",onClick:E},"close"),zg,Mg]),Ag],2),t.createElementVNode("div",Ug,["loading"===l.value?(t.openBlock(),t.createElementBlock("div",Og,[t.createElementVNode("div",_g,[t.createElementVNode("img",{class:"tb-loading-image tb-image-spin",src:y("/images/icons/spinner.png")},null,8,Pg),jg])])):"success"===l.value||t.unref(r).length>0?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.unref(r)?(t.openBlock(),t.createElementBlock("div",Gg,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(r),((e,o)=>(t.openBlock(),t.createElementBlock("div",{class:"tb-suggested-title",onClick:e=>(e=>{a.commit("setVariationTitle",r.value[e]),a.commit("setUserAddedSuggestedTitle",r.value[e]),n({video_id:Mm(),timestamp:(new Date).toISOString(),ai_title_added:r.value[e],tool:"videoabtests"})})(o)},[Fg,t.createElementVNode("p",$g,t.toDisplayString(e),1)],8,Rg)))),256))])):t.createCommentVNode("",!0)],64)):(t.openBlock(),t.createBlock(um,{key:2}))]),t.createElementVNode("div",Hg,[t.createElementVNode("div",{id:"tb-title-refresh",class:t.normalizeClass(f.value?"tb-disabled-refresh-button":""),onClick:k},[t.createElementVNode("img",{class:"tb-refresh-icon",src:y("/images/icons/arrow-cycle-blue.svg")},null,8,Qg),Kg],2)])]),t.createElementVNode("div",{class:t.normalizeClass(["tb-title-field-label",t.unref(u)?"tb-text-red-500":"tb-text-gray-400"])}," Alternate Title ",2),t.withDirectives(t.createElementVNode("input",{ref_key:"titleBox",ref:x,"onUpdate:modelValue":o[0]||(o[0]=e=>t.isRef(s)?s.value=e:null),contenteditable:"true",spellcheck:"true",class:"tb-input-title-textfield",onInput:o[1]||(o[1]=e=>T(e)),onKeydown:o[2]||(o[2]=t.withModifiers((e=>T(e)),["stop"]))},null,544),[[t.vModelText,t.unref(s)]]),t.createElementVNode("div",Yg,[t.createElementVNode("div",null,[t.withDirectives(t.createElementVNode("span",{class:"tb-text-red-500"},t.toDisplayString(b.value),513),[[t.vShow,m.value]])]),t.createElementVNode("span",{class:t.normalizeClass(["tb-character-count",t.unref(u)?"tb-text-red-500":"tb-text-gray-400"])},t.toDisplayString(t.unref(p))+"/100 ",3)])])]))}};const qg={class:"tb-tags"},Jg=t.createElementVNode("h3",null," Tags ",-1),Zg=t.createElementVNode("h4",{class:"tb-tags-title"}," Original tags ",-1),Xg={class:"tb-tags-container tb-original-tags"},eh=["innerHTML"],th={class:"tb-tags-character-count"},oh=["title","onClick","innerHTML"],nh=["onKeydown","onBlur","innerHTML"],ih=["onClick"],ah={id:"tb-tag-input"},rh={class:"tb-tags-character-count"},lh=t.createElementVNode("h4",{class:"tb-tags-title"}," Tag recommendations ",-1),sh={class:"tb-tags-container tb-tag-recommendations"},ch={key:0,class:"tb-flex tb-items-center tb-m-2"},dh=[t.createElementVNode("span",{class:"tb-spinner tb-mr-2"},null,-1),t.createTextVNode("Loading ")],uh={key:1},ph={key:0,class:"tb-flex tb-flex-wrap tb-items-center tb-overflow-y-auto"},mh=["innerHTML"],bh=["onClick"],gh={key:1,class:"tb-p-2"},hh=[t.createElementVNode("span",null,"Sorry, no suggestions found",-1)],fh={setup(o){const n=e.useStore(),{addTag:i,deleteTag:a,addRecommendation:r}=function(e){return{VideoOptimizationTestingOpened:e=>{track("Video Optimization Testing Opened",e)},VideoOptimizationTestingClosed:e=>{track("Video Optimization Testing Closed",e)},addTag:(t,o,n)=>{if(!(t=DOMPurify.sanitize(t.replace(/\s+/g," ").trim()))||t.length<2)return;const i=[];e.getters.getVariationTags.forEach((e=>{i.push(e)})),t.indexOf("<")>-1||t.indexOf(">")>-1?TBUtilities.Alert("Sorry, <b> < </b> and <b> > </b> are invalid characters for tags."):!o&&i&&i.length>0&&i.indexOf(t)>-1?n&&TBUtilities.Alert(`"${t}" has already been added.`,null):(o?i.length>0&&i.indexOf(t)>-1&&i.splice(i.indexOf(t),1):i.indexOf(t)<0&&i.push(t),e.commit("setVariationTags",i))},deleteTag:t=>{const o=e.getters.getVariationTags.filter((e=>e!=t));e.commit("setVariationTags",o);const n=e.getters.getRecommendationsAdded.filter((e=>e!==t));e.commit("setRecommendationsAdded",n),(e=>{let t=0;return e&&(e.forEach((e=>{t+=e.trim().replace(/\s/,"---").length+1})),t>0&&t--),t})(e.getters.getVariationTags)>500||/[<>]|(&lt;)|(&gt;)/.test(e.getters.getVariationTags.join(""))?e.commit("setError","Tags"):e.commit("clearError","Tags")},addRecommendation:(t,o)=>{if(o.includes(t))return;const n=o||[];n.push(t),e.commit("setRecommendationsAdded",n)}}}(n),{ABTestMetadataUsedSuggestedTags:l}=Eg(),s=t.computed((()=>"No title"!==n.getters.getMetaTitle?n.getters.getMetaTitle:"")),c=t.computed((()=>n.getters.getMetaTags)),d=t.computed((()=>n.getters.getVariationTags||[])),u=t.computed((()=>Am(c.value))),p=t.computed((()=>Am(d.value))),m=t.computed((()=>N(u.value)));t.computed((()=>N(p.value)));const b=t.computed((()=>n.getters.getErrors||{})),g=t.ref(0),h=t.ref([]),f=t.ref(!0),v=t.computed((()=>n.getters.getRecommendationsAdded)),y=t.ref(!1),x=t.ref(-1),T=t.ref(null),w=t.ref(null);let k=null,E=null;const S=/[<>]|(&lt;)|(&gt;)/,B=e=>TBUtilities.Truncate(e,30,!0),C=e=>d.value.indexOf(e.replace(/\s+/g," ").trim())>-1,V=e=>x.value===e,N=e=>e>500;function I(e){const{target:t}=e,o=Ut.getCurrentCursorPosition(t);e.target.innerHTML=DOMPurify.sanitize(e.target.innerText),Ut.setCurrentCursorPosition(o,t),t.focus(),p.value>500||S.test(d.value.join(""))?n.commit("setError","Tags"):n.commit("clearError","Tags")}function D(e,t,o=-1){t&&t.length>0&&(g.value=t.length);const a=void 0!==e.key?e.key.toLowerCase():"",r=void 0!==e.type?e.type.toLowerCase():"";if("keydown"==r&&("tab"==a||"enter"==a||","==a)||"blur"==r&&""==a){e.preventDefault();const a=t.split(",").filter((e=>e.length>0));if(a&&a.length>0)if(-1==o)a.forEach((e=>{i(e),z(e)})),e.target.innerText="",e.target.focus();else{const t=Array.from(n.getters.getVariationTags),i=a[0].replaceAll(/\n/g,"");t[o]!==i&&(t[o]=i,n.commit("setVariationTags",Array.from(new Set(t))),E=i),L(e)}}else"keydown"!=r||"<"!=a&&">"!=a||(e.preventDefault(),TBUtilities.Alert("Angled brackets are not allowed"));p.value>500||S.test(d.value.join(""))?n.commit("setError","Tags"):n.commit("clearError","Tags")}function L(e){y.value=!1,x.value=-1,void 0!==e&&(e.target.innerText=""),z(E,k)}function z(e,t){const o=[];v.value.forEach((e=>{o.push(e)}));const i=[];if(h.value.forEach((e=>{i.push(e.tag)})),v.value.includes(t)&&t!==e){const e=o.indexOf(t);e>-1&&o.splice(e,1),n.commit("setRecommendationsAdded",o)}else if(!v.value.includes(t)&&i.includes(e)){if(o.includes(e))return;o.push(e),n.commit("setRecommendationsAdded",o)}k=null,E=null}function M(){L(),w.value.focus()}return t.onBeforeMount((async()=>{const e=await TBUtilities.GetKeywordRecommendedTags(s.value),t=void 0!==s.value?s.value.toLowerCase():"";e.forEach((e=>e.tag.replace(/\s+/g," ").trim()));const o=[...new Set(e.map((e=>JSON.stringify(e))))].map((e=>JSON.parse(e))).filter((e=>!C(e.tag)&&e.tag.toLowerCase()!=t));o&&0!==o.length?(h.value=o.sort(((e,t)=>e.priority-t.priority)),f.value=!1):f.value=!1})),(e,o)=>(t.openBlock(),t.createElementBlock("div",qg,[Jg,Zg,t.createElementVNode("div",Xg,[t.unref(c)?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(t.unref(c),(e=>(t.openBlock(),t.createBlock(t.unref(eo),null,{"tag-content":t.withCtx((()=>[t.createElementVNode("p",{innerHTML:B(e)},null,8,eh)])),_:2},1024)))),256)):t.createCommentVNode("",!0)]),t.createElementVNode("p",th,[t.createElementVNode("span",{class:t.normalizeClass(["tb-character-count-counter",t.unref(m)?"tb-tag-count-limit-exceeded":""])},t.toDisplayString(t.unref(u))+"/500",3)]),t.createElementVNode("h4",{class:t.normalizeClass(["tb-tags-title",t.unref(b).Tags?"tb-label-error":""])}," Tags to test ",2),t.createElementVNode("div",{id:"tb-tags-to-test",class:"tb-tags-container tb-tags-to-test",onClick:M},[t.unref(d)?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(t.unref(d),((e,n)=>(t.openBlock(),t.createBlock(t.unref(eo),null,{"tag-content":t.withCtx((()=>[y.value&&x.value===n?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("p",{key:0,class:"tb-tags-input",title:e,onClick:o=>function(e,o,n){e.stopPropagation(),k=o,y.value=!0,x.value=n,t.watch((()=>T.value),((e,t)=>{if(e===t||null===e)return;const o=T.value;Ut.setCurrentCursorPosition(o.innerText.length,o),o.focus()}))}(o,e,n),innerHTML:B(e)},null,8,oh)),y.value&&x.value===n?(t.openBlock(),t.createElementBlock("p",{key:1,id:"tb-tag-edit-input",ref_for:!0,ref_key:"tagEditInput",ref:T,contenteditable:"true",spellcheck:"false",class:"tb-tags-edit-input",onInput:I,onKeydown:t.withModifiers((e=>D(e,e.target.innerText,n)),["stop"]),onBlur:e=>D(e,e.target.innerText,n),onClick:o[0]||(o[0]=t.withModifiers((()=>{}),["stop"])),innerHTML:e},null,40,nh)):t.createCommentVNode("",!0)])),"tag-right":t.withCtx((()=>[V(n)?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("i",{key:0,class:"tb-tag-icon material-icons tb-cursor-pointer",onClick:t.withModifiers((o=>t.unref(a)(e)),["stop"])},"cancel",8,ih))])),_:2},1024)))),256)):t.createCommentVNode("",!0),t.createElementVNode("div",ah,[t.createElementVNode("p",{ref_key:"newTagInput",ref:w,contenteditable:"true",spellcheck:"false",class:"tb-tags-input",onInput:I,onKeyup:o[1]||(o[1]=e=>D(e,e.target.innerText)),onKeydown:o[2]||(o[2]=t.withModifiers((e=>D(e,e.target.innerText)),["stop"]))},null,544)])]),t.createElementVNode("p",rh,[t.createElementVNode("span",{class:t.normalizeClass(["tb-character-count-counter",t.unref(b).Tags?"tb-tag-count-limit-exceeded":""])},t.toDisplayString(t.unref(p))+"/500",3)]),lh,t.createElementVNode("div",sh,[f.value?(t.openBlock(),t.createElementBlock("div",ch,dh)):(t.openBlock(),t.createElementBlock("div",uh,[h.value.length>0?(t.openBlock(),t.createElementBlock("div",ph,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(h.value,(e=>{return t.openBlock(),t.createBlock(t.unref(eo),{key:e.tag,class:t.normalizeClass(["tb-m-1 tb-studio-tag",(o=e.tag,v.value.includes(o)?"tb-tag-selected":"")])},{"tag-content":t.withCtx((()=>[t.createElementVNode("span",{class:"tb-mx-2",innerHTML:e.tag},null,8,mh)])),"tag-right":t.withCtx((()=>[t.createElementVNode("i",{class:"tb-tag-icon material-icons tb-text-green-600 tb-cursor-pointer",onClick:t=>function(e,t,o){i(e,t,o),r(e,v.value),l({timestamp:(new Date).toISOString(),video_id:Mm(),used_suggestion:e,tool:"videoabtests"}),p.value>500||S.test(d.value.join(""))?n.commit("setError","Tags"):n.commit("clearError","Tags")}(e.tag,!1,!0)},t.toDisplayString(C(e.tag)?"check_circle":"add_circle"),9,bh)])),_:2},1032,["class"]);var o})),128))])):(t.openBlock(),t.createElementBlock("div",gh,hh))]))])]))}},vh={key:0},yh={props:{label:{type:String,default:""},charLimit:{type:Number,default:0},canEdit:{type:Boolean,default:!0},fieldValue:{type:String,default:""},warningMessage:{type:String,default:""},isError:{type:Boolean,default:!1}},emits:["update-field"],setup(e,{expose:o,emit:n}){const i=e,a=t.ref(0);o({childTextBox:a});const r=t.computed((()=>i.label)),l=t.computed((()=>i.charLimit)),s=t.computed((()=>i.canEdit)),c=t.computed((()=>i.fieldValue));t.computed((()=>i.warningMessage));const d=t.computed((()=>i.isError));return t.computed((()=>c.value.length>l.value)),t.computed((()=>d.value?"tb-desc-border-error":"")),(e,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createElementVNode("div",null,[t.createElementVNode("span",{class:t.normalizeClass(["tb-desc-field-label",t.unref(d)?"tb-text-red-500":"tb-text-gray-400"])},t.toDisplayString(t.unref(r)),3)]),t.createElementVNode("div",null,[o[0]||(t.setBlockTracking(-1),o[0]=t.createElementVNode("div",{ref_key:"childTextBox",ref:a,contenteditable:t.unref(s),spellcheck:"false",class:t.normalizeClass(["tb-input-title-textfield",[t.unref(s)?"":"tb-text-gray-400",t.unref(d)?"tb-desc-border-error":""]]),onKeydown:t.withModifiers((()=>{}),["stop"]),onInput:e=>n("update-field",e)},[t.createTextVNode(t.toDisplayString(t.unref(c)),1)],42,["contenteditable","onKeydown","onInput"]),t.setBlockTracking(1),o[0])]),t.unref(s)?(t.openBlock(),t.createElementBlock("div",vh,[t.createElementVNode("div",null,[t.createElementVNode("span",{class:t.normalizeClass(["tb-character-count",t.unref(d)?"tb-text-red-500":"tb-text-gray-400"])},t.toDisplayString(t.unref(c).length)+"/"+t.toDisplayString(t.unref(l)),3)])])):t.createCommentVNode("",!0)],64))}},xh=t.createElementVNode("div",{class:""},[t.createElementVNode("div",{class:"tb-title-modal-header"}," Description ")],-1),Th={class:"tb-p-5 tb-mr-6 tb-flex tb-flex-col"},wh={class:"tb-input-title-textfield-container"},kh={class:"tb-input-title-textfield-container"},Eh={setup(o){const n=e.useStore(),i=t.computed((()=>n.getters.getMetaDescription||"")),a=t.computed((()=>n.getters.getVariationDescription||"")),r=t.computed((()=>n.getters.getErrors||{})),l=t.ref(null),s=/[<>]/;t.onMounted((()=>{const e=document.createRange(),t=window.getSelection();l.value.childTextBox.focus(),e.setStart(l.value.childTextBox.childNodes[0],l.value.childTextBox.childNodes[0].length),e.collapse(!0),t.removeAllRanges(),t.addRange(e)}));const c=e=>{const{target:t}=e,o=e.target.innerText.replace(/\n$/g,"");o.length>5e3||s.test(o)?n.commit("setError","Description"):n.commit("clearError","Description"),n.commit("setVariationDescription",o),t.focus()};return(e,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[xh,t.createElementVNode("div",Th,[t.createElementVNode("div",wh,[t.createVNode(yh,{"char-limit":5e3,"can-edit":!1,"field-value":t.unref(i),label:"Original Description"},null,8,["field-value"])]),t.createElementVNode("div",kh,[t.createVNode(yh,{ref_key:"descBox",ref:l,"char-limit":5e3,label:"Alternate Description","field-value":t.unref(a),"is-error":t.unref(r).Description,onUpdateField:c},null,8,["field-value","is-error"])])])],64))}};const Sh={class:"tb-time-selector-list"},Bh={class:"tb-time-selector-form"},Ch=t.createElementVNode("div",{class:"tb-time-selector-header"},"How long would you like to run your test?",-1),Vh={class:"tb-time-selector-section"},Nh=t.createElementVNode("div",{class:"tb-time-selector-input-label"},[t.createTextVNode("Until it Reaches Statistical Significance "),t.createElementVNode("div",{class:"tb-time-selector-input-label-note"},"This will give you more accurate results, but it requires over 1000 views")],-1),Ih={class:"tb-time-selector-input-label"},Dh=["disabled"],Lh=t.createTextVNode(" Days "),zh={class:"tb-time-selector-label-warning"},Mh=t.createElementVNode("div",{class:"tb-time-selector-header"},"When would you like to start your test?",-1),Ah={class:"tb-time-selector-section"},Uh=t.createElementVNode("div",{class:"tb-time-selector-input-label tb-valign-baseline"},[t.createTextVNode("Start as soon as possible "),t.createElementVNode("div",{class:"tb-time-selector -label-warning"}),t.createElementVNode("div",{class:"tb-time-selector-input-label-note"},"Midnight Pacific Time")],-1),Oh=t.createElementVNode("div",{class:"tb-time-selector-input-label"},"Start on ",-1),_h=["disabled"],Ph={setup(o){const{calculateEndDate:n,getNextMidnight:i}={calculateEndDate:(e,t=null)=>{let o=parseInt(e)||0,n=t||new Date;return n.setDate(n.getDate()+o),moment(n).format("dddd, MMMM D, YYYY")},getNextMidnight:e=>e?e.setDate(1).setHours(24,0,0,0):(new Date).setHours(24,0,0,0)},a=e.useStore(),r=t.reactive({durationType:"",startDateType:""}),l=t.computed({get:()=>a.getters.getTestSettings.NumberOfDays,set(e){switch(r.durationType){case"duration":a.commit("setNumberOfDays",e);break;case"statisticalSignificance":a.commit("setRunUntilSignificant",!0)}}}),s=t.computed({get:()=>a.getters.getTestSettings.StartDate,set(e){switch(r.startDateType){case"asap":a.commit("setStartDate",null);break;case"selection":a.commit("setStartDate",e)}}}),c=t.computed((()=>{if("asap"===r.startDateType)return n(l.value);if("selection"===r.startDateType){let e=new Date(s.value);return n(l.value,e)}})),d=t.computed((()=>"duration"===r.durationType&&(l.value%2!=0||l.value>30))),u=(e,t="",o="")=>{""!==t&&(r.durationType=t),""!==o&&(r.startDateType=o)};return t.onUpdated((()=>{"statisticalSignificance"===r.durationType?a.commit("setRunUntilSignificant",!0):"duration"===r.durationType&&99===l.value&&a.commit("setNumberOfDays",14),"asap"===r.startDateType&&a.commit("setStartDate",null)})),t.onMounted((()=>{let e=a.getters.getTestSettings;r.durationType=e.RunUntilSignificant?"statisticalSignificance":"duration",r.startDateType=e.StartDate!==i()&&e.StartDate?"selection":"asap"})),(e,o)=>(t.openBlock(),t.createElementBlock("div",Sh,[t.createElementVNode("form",Bh,[Ch,t.createElementVNode("div",Vh,[t.createElementVNode("div",{class:t.normalizeClass(["tb-time-selector-list-item","statisticalSignificance"===t.unref(r).durationType?"selected":""]),onClick:o[1]||(o[1]=e=>u(0,"statisticalSignificance"))},[t.withDirectives(t.createElementVNode("input",{type:"radio",id:"tb-time-duration-input-statistical-significance",class:"tb-input-time-selector",name:"duration","onUpdate:modelValue":o[0]||(o[0]=e=>t.unref(r).durationType=e),value:"statisticalSignificance"},null,512),[[t.vModelRadio,t.unref(r).durationType]]),Nh],2),t.createElementVNode("div",{class:t.normalizeClass(["tb-time-selector-list-item","duration"===t.unref(r).durationType?"selected":""]),onClick:o[4]||(o[4]=e=>u(0,"duration"))},[t.withDirectives(t.createElementVNode("input",{type:"radio",id:"tb-time-duration-input-duration",class:"tb-input-time-selector",name:"duration","onUpdate:modelValue":o[2]||(o[2]=e=>t.unref(r).durationType=e),value:"duration"},null,512),[[t.vModelRadio,t.unref(r).durationType]]),t.createElementVNode("div",Ih,[t.withDirectives(t.createElementVNode("input",{class:"tb-time-selector-input-number",type:"number","onUpdate:modelValue":o[3]||(o[3]=e=>t.isRef(l)?l.value=e:null),disabled:"duration"!==t.unref(r).durationType},null,8,Dh),[[t.vModelText,t.unref(l)]]),Lh,t.withDirectives(t.createElementVNode("div",zh,"Select an even number between 2 and 30",512),[[t.vShow,t.unref(d)]]),t.withDirectives(t.createElementVNode("div",{id:"estimatedEndDate",class:"tb-time-selector-input-label-note"},"Final results will be available on "+t.toDisplayString(t.unref(c)),513),[[t.vShow,"duration"===t.unref(r).durationType]])])],2)]),Mh,t.createElementVNode("div",Ah,[t.createElementVNode("div",{class:t.normalizeClass(["tb-time-selector-list-item","asap"===t.unref(r).startDateType?"selected":""]),onClick:o[6]||(o[6]=e=>u(0,"","asap"))},[t.withDirectives(t.createElementVNode("input",{type:"radio",id:"tb-time-startdate-input-asap",class:"tb-input-time-selector-input",name:"startDateAsap","onUpdate:modelValue":o[5]||(o[5]=e=>t.unref(r).startDateType=e),value:"asap"},null,512),[[t.vModelRadio,t.unref(r).startDateType]]),Uh],2),t.createElementVNode("div",{class:t.normalizeClass(["tb-time-selector-list-item","selection"===t.unref(r).startDateType?"selected":""]),onClick:o[9]||(o[9]=e=>u(0,"","selection"))},[t.withDirectives(t.createElementVNode("input",{type:"radio",id:"tb-time-startdate-input-selection",class:"tb-input-time-selector",name:"startDateSelect","onUpdate:modelValue":o[7]||(o[7]=e=>t.unref(r).startDateType=e),value:"selection"},null,512),[[t.vModelRadio,t.unref(r).startDateType]]),Oh,t.withDirectives(t.createElementVNode("input",{type:"date","onUpdate:modelValue":o[8]||(o[8]=e=>t.isRef(s)?s.value=e:null),disabled:"selection"!==t.unref(r).startDateType},null,8,_h),[[t.vModelText,t.unref(s)]])],2)])])]))}};const jh={id:"tb-thumbnail-upload",class:"tb-thumbnail-upload-container"},Gh=t.createElementVNode("div",{class:"tb-header"}," Alternate Thumbnail ",-1),Rh={class:"tb-panel-body"},Fh={key:0,id:"",class:"tb-flex tb-flex-col tb-upload-area"},$h=["onDrop"],Hh=[t.createElementVNode("svg",{viewBox:"0 0 22 20",xmlns:"http://www.w3.org/2000/svg"},[t.createElementVNode("path",{d:"M3.27209 18.7279L9.86863 12.1314C10.2646 11.7354 10.4627 11.5373 10.691 11.4632C10.8918 11.3979 11.1082 11.3979 11.309 11.4632C11.5373 11.5373 11.7354 11.7354 12.1314 12.1314L18.6839 18.6839M13 13L15.8686 10.1314C16.2646 9.73535 16.4627 9.53735 16.691 9.46316C16.8918 9.3979 17.1082 9.3979 17.309 9.46316C17.5373 9.53735 17.7354 9.73535 18.1314 10.1314L21 13M9 7C9 8.10457 8.10457 9 7 9C5.89543 9 5 8.10457 5 7C5 5.89543 5.89543 5 7 5C8.10457 5 9 5.89543 9 7ZM5.8 19H16.2C17.8802 19 18.7202 19 19.362 18.673C19.9265 18.3854 20.3854 17.9265 20.673 17.362C21 16.7202 21 15.8802 21 14.2V5.8C21 4.11984 21 3.27976 20.673 2.63803C20.3854 2.07354 19.9265 1.6146 19.362 1.32698C18.7202 1 17.8802 1 16.2 1H5.8C4.11984 1 3.27976 1 2.63803 1.32698C2.07354 1.6146 1.6146 2.07354 1.32698 2.63803C1 3.27976 1 4.11984 1 5.8V14.2C1 15.8802 1 16.7202 1.32698 17.362C1.6146 17.9265 2.07354 18.3854 2.63803 18.673C3.27976 19 4.11984 19 5.8 19Z",stroke:"#BAD2F7","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),t.createElementVNode("p",null,[t.createTextVNode("Drag and drop your file here"),t.createElementVNode("br"),t.createTextVNode("or")],-1),t.createElementVNode("label",{for:"drop-zone",class:"tb-thumbnail-upload-button tb-cursor-pointer tb-w-32"}," Browse Files ",-1),t.createElementVNode("input",{id:"drop-zone",class:"tb-hidden",type:"file"},null,-1),t.createElementVNode("span",null,"Max file size: 2mb",-1)],Qh={key:1,class:"tb-bottom-text tb-pb-3"},Kh=[t.createTextVNode(" Don't have a thumbnail to test?"),t.createElementVNode("br",null,null,-1),t.createTextVNode(" Create one using our "),t.createElementVNode("a",{href:"#",class:"tb-ab-test-thumbnail-generator-link"},"Thumbnail Generator",-1)],Yh={key:2,id:"loading-screen",class:"tb-thumbnail-upload-processing"},Wh=t.createElementVNode("svg",{viewBox:"0 0 18 22",xmlns:"http://www.w3.org/2000/svg"},[t.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 1C0 0.447715 0.447715 0 1 0H17C17.5523 0 18 0.447715 18 1C18 1.55228 17.5523 2 17 2H16.0001L16.0001 3.8671C16.0005 4.58144 16.0008 5.12093 15.8627 5.63408C15.741 6.08643 15.5408 6.51388 15.2712 6.89696C14.9654 7.33153 14.5508 7.67669 14.0017 8.13371L10.5621 11L14.0018 13.8663C14.5508 14.3233 14.9654 14.6685 15.2712 15.103C15.5408 15.4861 15.741 15.9136 15.8627 16.3659C16.0008 16.8791 16.0005 17.4186 16.0001 18.1329L16.0001 20H17C17.5523 20 18 20.4477 18 21C18 21.5523 17.5523 22 17 22H1C0.447715 22 0 21.5523 0 21C0 20.4477 0.447715 20 1 20H2.00008L2.00004 18.1329C1.99966 17.4186 1.99937 16.8791 2.13743 16.3659C2.25913 15.9136 2.45934 15.4861 2.72893 15.103C3.03477 14.6685 3.4494 14.3233 3.99842 13.8663L7.43803 11L3.99841 8.13371C3.4494 7.67669 3.03476 7.33153 2.72893 6.89696C2.45934 6.51388 2.25913 6.08643 2.13743 5.63408C1.99937 5.12093 1.99966 4.58144 2.00004 3.86709L2.00008 2H1C0.447715 2 0 1.55228 0 1ZM4.00008 3.7518V2H14.0001V3.7518C14.0001 4.63231 13.992 4.88909 13.9314 5.11448C13.8706 5.34065 13.7704 5.55438 13.6357 5.74592C13.5013 5.93679 13.3092 6.10735 12.6328 6.67104L9.00008 9.69829L5.36738 6.67104C4.69095 6.10735 4.49883 5.93679 4.3645 5.74592C4.22971 5.55438 4.12961 5.34065 4.06876 5.11448C4.00812 4.88909 4.00008 4.63231 4.00008 3.7518Z",fill:"#BAD2F7"})],-1),qh=t.createElementVNode("p",null,"Uploading file...",-1),Jh=t.createElementVNode("div",{class:"tb-uploading-bar"},[t.createElementVNode("div",{id:"tb-progress"})],-1),Zh={key:1,id:"tb-uploaded-thumbnail"},Xh=[t.createElementVNode("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t.createElementVNode("path",{d:"M10.0002 5.99992L6.00016 9.99992M6.00016 5.99992L10.0002 9.99992M14.6668 7.99992C14.6668 11.6818 11.6821 14.6666 8.00016 14.6666C4.31826 14.6666 1.3335 11.6818 1.3335 7.99992C1.3335 4.31802 4.31826 1.33325 8.00016 1.33325C11.6821 1.33325 14.6668 4.31802 14.6668 7.99992Z",stroke:"#9B9B9B","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)],ef=["src"],tf={setup(o){const n=e.useStore();t.computed((()=>Mm()));const i=t.computed((()=>n.getters.getVariationThumbnailImage)),a=t.ref(!0),r=t.computed((()=>!u())),l=t.ref(!0),s=t.computed((()=>u())),c=t.ref(!1),d=t.ref(!1),u=()=>{const e=null!==n.getters.getTestSettings.VariationViewModel.ThumbnailId,t=null!==n.getters.getVariationThumbnailImage;return e&&t},p=()=>{s.value=!1,r.value=!0,l.value=!0,a.value=!0,n.commit("resetVariationThumbnailImage"),n.commit("setVariationThumbnail",null),n.commit("setError","Thumbnail")},m=e=>{const t=document.getElementById("drop-zone"),o=e.name.match(/\.([^\.]+)$/)[1];switch(o.toLowerCase()){case"png":case"jpg":case"jpeg":break;default:return void alert("Only .JPG or .PNG formats are allowed.")}const d=e.size;if(d>2048e3)return TBUtilities.Alert("The maximum image file size is 2MB. Please select a smaller image."),void(t.value=null);if(d<5e4)return TBUtilities.Alert("The minimum image file size is 50KB. Please select a larger image."),void(t.value=null);const u=new FileReader;u.readAsDataURL(e),a.value=!1,l.value=!1,c.value=!0,u.onloadend=function(e){const a=e.target.result;let l="";switch(o){case"png":l=a.replace("data:image/png;base64,","");break;case"bmp":l=a.replace("data:image/bmp;base64,","");break;case"gif":l=a.replace("data:image/gif;base64,","");break;case"jpg":l=a.replace("data:image/jpeg;base64,","");break;default:return alert("Only .JPG, .GIF, .BMP, or .PNG formats are allowed."),void(t.value=null)}const d={ImageData:l,ImageExt:o},u=`${TBGlobal.host}/api/abtests/addthumbnail`;(()=>{let e=0;if(0===e){e=1;const t=document.getElementById("tb-progress");let o=1;const n=setInterval((()=>{o>=100?(clearInterval(n),e=0,c.value=!1):(o++,t.style.width=`${o}%`)}),10)}})(),TBExtension.Post(u,JSON.stringify(d),((e,o,l)=>{try{e?(s.value=!0,r.value=!1,i.value=a,n.commit("setVariationThumbnailImage",a),n.commit("setVariationThumbnail",JSON.parse(l)),n.commit("clearError","Thumbnail")):(c.value=!1,p(),t.value=null,n.commit("setError","Thumbnail"),TBUtilities.Alert("There was an error uploading your image.  Please make sure the image is either 1280x720 or 1920x1080 and that the file type is .png/.jpg."))}catch(d){TBUtilities.LogError({Exception:d,Location:"[TubeBuddyVideoOptimization] upload thumbnail"})}}),null,{contentType:"application/json",headers:{currentChannelToken:TBGlobal.GetToken()}})}},b=e=>{m(e.dataTransfer.files[0])},g=()=>{m(document.querySelector("#drop-zone").files[0])};return(e,o)=>(t.openBlock(),t.createElementBlock("div",jh,[Gh,t.createElementVNode("div",Rh,[t.unref(r)?(t.openBlock(),t.createElementBlock("div",Fh,[l.value?(t.openBlock(),t.createElementBlock("div",{key:0,id:"tb-upload-area-content",class:"tb-upload-area-content tb-flex-grow",onDrop:t.withModifiers(b,["stop","prevent"]),onChange:g},Hh,40,$h)):t.createCommentVNode("",!0),a.value&&d.value?(t.openBlock(),t.createElementBlock("p",Qh,Kh)):t.createCommentVNode("",!0),c.value?(t.openBlock(),t.createElementBlock("div",Yh,[Wh,qh,Jh,t.createElementVNode("button",{id:"tb-cancel",class:"tb-thumbnail-upload-button",onClick:p}," Cancel ")])):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),t.unref(s)?(t.openBlock(),t.createElementBlock("div",Zh,[t.createElementVNode("div",{id:"tb-change-thumbnail",onClick:p},Xh),t.createElementVNode("img",{id:"tb-thumbnail",src:t.unref(i)},null,8,ef)])):t.createCommentVNode("",!0)])]))}},of=["src"],nf={class:"tb-optimization-copy"},af={key:0,id:"tb-optimization-arrow",width:"6",height:"3"},rf=[t.createElementVNode("polygon",{points:"0,0 6,0 3,3"},null,-1)],lf={key:0,id:"tb-optimization-completed-list"},sf=["href"],cf=[t.createElementVNode("li",null," View results ",-1)],df=[t.createElementVNode("li",null," Run another test ",-1)],uf={key:0,class:"tb-optimization-confidence-level"},pf={key:0,id:"video-modal-backdrop"},mf=[t.createElementVNode("span",{class:"tb-text-3xl"},"Test Alternate Details",-1)],bf={class:"tb-body"},gf={class:"tb-component"},hf={props:{videoId:String},setup(o){const{updateAbTestStatus:n}=Md(),{ABTestLaunched:i,ABTestStartTest:a,ABTestTestTypeSelected:r,ABTestRunSettingsEdited:l,ABTestUploadImageContinue:s,ABTestUpdateTagsContinue:c,ABTestMetadataUpdateTitlesContinue:d,ABTestMetadataUpdateDescriptionsContinue:u,VideoOptimizationTestingTestAlternatesClicked:p,ABTestAIAlternateTitleEdited:m}=Eg(),b=e.useStore(),g=t.computed((()=>TBGlobal.CanAccessLevel1Tools())),h=t.ref(!1),[v,y]=zl(!1),x=`${TBGlobal.host}/channel/abteststatus/`,T=t.ref("/images/branding/tb-icon-transparent.svg"),w=t.computed((()=>browser.runtime.getURL(T.value))),k=t.ref(""),E=t.ref(null),S=t.ref(""),B=t.ref(!1),C={scheduled:[0],inProgress:[1,7],completed:[2,4,6,8]},V=t.computed((()=>b.getters.getSavedSteps||{})),N=t.computed((()=>b.getters.getCurrentStep||1)),I=t.computed((()=>b.getters.getErrors||{}));t.computed((()=>`${TBGlobal.host}/channel/abtestcreate/${TBGlobal.CurrentChannelId()}?videoId=${Mm()}&videotitle=${b.getters.getMetaTitle}&videothumbnail=${b.getters.getMetaThumbnail}`));const D=t.computed((()=>!!E.value&&C.completed.includes(E.value.status))),L=t.computed((()=>!!E.value&&C.inProgress.includes(E.value.status))),z=t.computed((()=>!!E.value&&C.scheduled.includes(E.value.status))),M=t.ref(null),A=t.computed((()=>b.getters.getUserAddedSuggestedTitle)),U=t.computed((()=>b.getters.getMetaTitle)),O=t.computed((()=>b.getters.getVariationTitle)),_=t.computed((()=>b.getters.getTestSettings.VariationViewModel.ThumbnailId)),P=t.computed((()=>b.getters.getTestSettings.VariationViewModel.Description)),j=t.computed((()=>b.getters.getMetaDescription)),G=t.computed((()=>b.getters.getVariationTags.toString())),R=t.computed((()=>b.getters.getMetaTags.toString())),F=t.computed((()=>O.value.toString().trim()===U.value.toString().trim()&&null===_.value&&P.value.toString().trim()===j.value.toString().trim()&&G.value.toString().trim()===R.value.toString().trim())),$=t.computed((()=>b.getters.getKickstartABTest.kickstartMode));t.watch($,((e,t)=>{if(!0===e&&(ae(!0,b.getters.getKickstartABTest.launchedFrom),"Thumbnail"===b.getters.getKickstartABTest.testType)){b.commit("setTestTypesSelected",{0:"Thumbnail"}),b.commit("setIsMultipleTest",!1),b.commit("setIsThumbnailOnly",!0);let e=b.getters.getTestTypes;e.forEach((e=>{"Thumbnail"===e.copy&&(e.isSelected=!0)})),b.commit("setTestTypes",e)}}));let H=null,Q=null,K=null,Y=!1;const W=t.computed((()=>b.getters.getComponentsToRender)),q=t.computed((()=>b.getters.getTestTypesSelected)),J=t.computed((()=>b.getters.getStepInfo)),Z=t.computed((()=>D.value?x+E.value.id:"")),X=t.computed((()=>{const e=J.value.reduce(((e,t)=>(e[t.stepIndex]=t.stepName,e)),{});return I.value[e[N.value]]})),ee=[{copy:"Thumbnail",imagePath:"../../../../images/icons/thumbnail-gray.svg",imagePathSelected:"../../../../images/icons/thumbnail-blue.svg",isSelected:!1,isDisabled:!1},{copy:"Title",imagePath:"../../../../images/icons/title-gray.svg",imagePathSelected:"../../../../images/icons/title-blue.svg",isSelected:!1,isDisabled:!1},{copy:"Description",imagePath:"../../../../images/icons/description-gray.svg",imagePathSelected:"../../../../images/icons/description-blue.svg",isSelected:!1,isDisabled:!1},{copy:"Tags",imagePath:"../../../../images/icons/tag-gray.svg",imagePathSelected:"../../../../images/icons/tag-blue.svg",isSelected:!1,isDisabled:!1}],te={1:kg,2:Ph,3:tf,4:Wg,5:Eh,6:fh},oe=[{stepIndex:1,stepName:"Test Type"},{stepIndex:2,stepName:"Time"},{stepIndex:3,stepName:"Thumbnail"},{stepIndex:4,stepName:"Title"},{stepIndex:5,stepName:"Description"},{stepIndex:6,stepName:"Tags"}],ne={Thumbnail:tf,Title:Wg,Description:Eh,Tags:fh},ie=()=>{B.value=!!D.value&&!B.value},ae=(e,t)=>{TBGlobal.CanAccessLevel3Tools()?(re(e),y(!0),i({timestamp:(new Date).toISOString(),page_location:t,tool:"videoabtests"})):TBGlobal.ShowUpgradePage("Video AB Test","videoabtests")},re=(e=!1)=>{ee.forEach((e=>e.isDisabled=!1)),b.commit("setCurrentStep",1),b.commit("resetSteps"),b.commit("saveStep",{1:"is-completed-step"}),b.commit("resetIsMultipleTest"),b.commit("resetTestTypes"),b.commit("resetTestTypesSelected"),b.commit("clearAllErrors"),e||(b.commit("resetTestSettings"),b.commit("resetKickstartMode"),b.commit("resetVariationThumbnailImage")),b.commit("setVariationTitle",b.getters.getMetaTitle),b.commit("setVariationDescription",b.getters.getMetaDescription),b.commit("setVariationTags",b.getters.getMetaTags);const t=[];ee.forEach(((e,o)=>{t.push(e),t[o].isSelected=!1})),b.commit("setTestTypes",t),b.commit("setComponentsToRender",te),b.commit("setStepInfo",oe)},le=()=>{y(!1),re()},se=()=>{if(1===N.value&&Object.keys(q.value).length<1)return;if(X.value)return void console.log("currentStepError.value"+X.value);1===N.value&&((()=>{const e=[{stepIndex:1,stepName:"Test Type"},{stepIndex:2,stepName:"Time"}],t=[];e.forEach((e=>t.push(e)));let{length:o}=e;Object.entries(q.value).forEach((([e,n])=>{o++,t.push({stepIndex:o,stepName:n})})),b.commit("setStepInfo",t)})(),pe());const e=Mm();let t=null;switch(b.getters.getStepInfo[N.value-1].stepName){case"Test Type":H=1==b.getters.getTestSettings.IsThumbnailTest?"VideoThumbnailABTest":"VideoABTest",r({timestamp:(new Date).toISOString(),video_id:e,test_type:H,tool:"videoabtests"});break;case"Time":t=b.getters.getTestSettings;const o=t.RunUntilSignificant,n=t.StartDate;K=!0===o||"true"===o?"Run Until Statistically Significant":"Set Number of Days",l({timestamp:(new Date).toISOString(),video_id:e,test_type:H,run_type:K,time_to_run:t.NumberOfDays.toString(),time_to_start:new Date(n).toISOString(),tool:"videoabtests"});break;case"Thumbnail":let i=!1;b.getters.getTestSettings.VariationViewModel.ThumbnailId&&(i=!0),s({timestamp:(new Date).toISOString(),video_id:e,uploaded_image:i,tool:"videoabtests"});break;case"Title":d({timestamp:(new Date).toISOString(),video_id:e,updated_title:b.getters.getTestSettings.VariationViewModel.Title,tool:"videoabtests"});break;case"Description":u({timestamp:(new Date).toISOString(),video_id:e,updated_desc:b.getters.getTestSettings.VariationViewModel.Description,tool:"videoabtests"});break;case"Tags":const a=(new Date).toISOString(),p=b.getters.getVariationTags;c({timestamp:a,video_id:e,updated_tags:p.toString(),tool:"videoabtests"})}!1===Y&&(b.commit("setCurrentStep",N.value+1),b.commit("saveStep",{[N.value]:"is-completed-step"}))},ce=()=>{b.commit("saveStep",{[N.value]:""}),b.commit("setCurrentStep",N.value-1)},de=()=>{if(X.value)return;Y=!0,se();const e=Mm(),t=b.getters.getTestSettings,o=`${TBGlobal.host}/api/abtests/add/`,i=e=>`Your test has ${e?"":"NOT"} been successfully scheduled.`;t.VariationViewModel.SelectedKeywords.toString(),null===Q&&(Q=""),F&&b.commit("setError",N.value),TBExtension.Post(o,JSON.stringify(t),((o,r,l)=>{try{o?(a({timestamp:(new Date).toISOString(),video_id:e,test_type:H,run_type:K,time_to_run:t.NumberOfDays.toString(),time_to_start:new Date(t.StartDate).toISOString(),uploaded_image:null!==t.VariationViewModel.ThumbnailId,updated_tags:t.VariationViewModel.SelectedKeywords.toString(),used_suggestion:Q.toString(),updated_title:t.VariationViewModel.Title,updated_desc:t.VariationViewModel.Description,source:"extension",tool:"videoabtests"}),ue(),null!==A.value&&A.value!==O.value&&m({video_id:Mm(),timestamp:(new Date).toISOString(),updated_title:O.value,tool:"videoabtests"}),n(Mm()).then((()=>{if(TBUtilities.Alert(i(!0),void 0,{onclose:()=>{}}),"Thumbnail"===b.getters.getKickstartABTest.testType){const e=new Event("ABTestCreated");document.dispatchEvent(e)}le()}))):(Y=!1,TBUtilities.Alert(l.toString().replace('"',"")))}catch(s){TBUtilities.Alert(i(!1)),TBUtilities.Log(s)}}),null,{dataType:"json",contentType:"application/json"})},ue=()=>{const e=`${TBGlobal.host+TBGlobal.apiUrls.getABTestVideoOptimizationStatus}?videoId=${Mm()}`,t=Mm();TBExtension.Post(e,t,((e,t,o)=>{try{e&&"00000000-0000-0000-0000-000000000000"!==o.id&&(E.value=o),M.value=(()=>{let e="Test Alternates";return D.value?e="Test Completed":L.value||z.value&&E.value.daysRun>0?e="Test in Progress":z.value&&(e="Test Scheduled"),e})()}catch(n){TBUtilities.Log(n),reject(`Exception fetching current AB Testing Video Optimization Status. Ex: ${n}`)}}),null,{dataType:"JSON",contentType:!0})},pe=()=>{const e={1:kg,2:Ph};let t=Object.keys(e).length;Object.entries(q.value).forEach((([o,n])=>{t++,e[t]=ne[n]})),b.commit("setComponentsToRender",e)},me={beforeMount:(e,t)=>{e.clickOutsideEvent=o=>{e==o.target||e.contains(o.target)||t.value()},document.addEventListener("click",e.clickOutsideEvent)},unmounted:e=>{document.removeEventListener("click",e.clickOutsideEvent)}},be=e=>{B.value=!1};return t.onBeforeMount((()=>{b.commit("setTestTypes",ee),b.commit("setChannel",TBGlobal.CurrentChannelId()),ue();const e=Mm();if(null!==e)try{(async e=>{const t=await TubeBuddyYouTubeActions.GetCreatorVideosStudio(e,{thumbnailDetails:{all:!0},description:!0,tags:{all:!0},title:!0,videoId:!0,privacy:!0});h.value="VIDEO_PRIVACY_PUBLIC"===t.privacy;const o=t.tags?t.tags.map((e=>e.value)):[];b.commit("setVideoId",e),b.commit("setMetaTitle",t.title),b.commit("setMetaDescription",t.description),b.commit("setMetaTags",o),b.commit("setVariationTitle",t.title),b.commit("setVariationDescription",t.description),b.commit("setVariationTags",o);const n=[1,4,0,2,3],i=t.thumbnailDetails.thumbnails;for(let a=0;a<n.length;a++){const e=n[a];if(i[e].url&&""!==i[e].url){k.value=i[e].url,b.commit("setMetaThumbnail",i[e].url);break}}})(e)}catch(t){TBUtilities.LogError(t)}})),(e,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.unref(g)&&h.value?t.withDirectives((t.openBlock(),t.createElementBlock("div",{key:0,id:"tb-video-optimization-testing",class:t.normalizeClass(S.value)},[t.createElementVNode("button",{id:"tb-optimization-button",class:t.normalizeClass(B.value?"open":""),onClick:o[1]||(o[1]=e=>(e=>{const t=0!=e.clientX&&0!=e.clientY;let o="";E.value&&(o=`${TBGlobal.host}/channel/abteststatus/${E.value.id}`);const n=()=>{window.open(o,"_blank","noopener, noreferrer")},i=t?ie:n;D.value?i():L.value||z.value?n():ae(!1,"extension")})(e))},[t.createElementVNode("img",{class:"tb-optimization-logo",src:t.unref(w),alt:"TubeBuddy logo"},null,8,of),t.createElementVNode("p",nf,[t.createTextVNode(t.toDisplayString(M.value)+" ",1),t.unref(D)?(t.openBlock(),t.createElementBlock("svg",af,rf)):t.createCommentVNode("",!0)]),t.unref(D)?(t.openBlock(),t.createElementBlock("ul",lf,[t.createElementVNode("a",{target:"_blank",href:t.unref(Z)},cf,8,sf),t.createElementVNode("a",{onClick:o[0]||(o[0]=e=>ae(!1,"extension"))},df)])):t.createCommentVNode("",!0)],2),t.unref(L)?(t.openBlock(),t.createElementBlock("p",uf,t.toDisplayString(E.value.confidenceLevel)+"% confidence ",1)):t.createCommentVNode("",!0)],2)),[[me,be]]):t.createCommentVNode("",!0),(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.unref(v)?(t.openBlock(),t.createElementBlock("div",pf,[t.createVNode(f,{id:"video-optimization-testing-modal",width:"900",height:"600",link:"videoabtests",onModalClosing:t.withModifiers(le,["stop","prevent"])},{header:t.withCtx((()=>[t.createElementVNode("div",{onMousedown:o[2]||(o[2]=t=>{e.dragModalEnabled=!0})},mf,32)])),content:t.withCtx((()=>[t.createVNode(lg,{steps:t.unref(J),"completed-steps":t.unref(V)},null,8,["steps","completed-steps"]),t.createElementVNode("div",bf,[t.createVNode(bg,{"video-thumbnail":k.value},null,8,["video-thumbnail"]),t.createElementVNode("div",gf,[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(W)[t.unref(N)])))])])])),footer:t.withCtx((()=>[t.createVNode(dg,{"current-step":t.unref(N),"number-of-steps":Object.keys(t.unref(W)).length,"final-step":"Start Test","next-styling":1===N.value&&Object.keys(q.value).length<1?"tb-next-button-dim":"","is-error":t.unref(X),testEmpty:t.unref(F),onGoToNextStep:se,onGoToPreviousStep:ce,onFinalStep:de},null,8,["current-step","number-of-steps","next-styling","is-error","testEmpty"])])),_:1},8,["onModalClosing"])])):t.createCommentVNode("",!0)]))],64))}},ff=e.createStore({modules:{isMultipleTest:hb,steps:mb,meta:bb,testSettings:gb,recommendationsAdded:fb,testTypesSelected:vb,testTypes:yb,componentsToRender:xb,stepInfo:Tb,variationThumbnailImage:kb,errors:wb,userAddedSuggestedTitle:Eb,generatedTitles:Sb,videoABTest:Bb,kickstartABTest:Cb}}),{addVariationThumbnail:vf}={addVariationThumbnail:(e,t)=>{const o={ImageData:e,ImageExt:t},n=`${TBGlobal.host}/api/abtests/addthumbnail`;return new Promise(((i,a)=>{e&&t||a("invalid image data"),TBExtension.Post(n,JSON.stringify(o),((e,t,o)=>{try{e?i(JSON.parse(o)):a(`error: ${o.toString()}`)}catch(n){a(`error exception: ${n}`)}}),null,{contentType:"application/json",headers:{currentChannelToken:TBGlobal.GetToken()}})}))}};function yf(){const e=`tb-HealthCheck-last-run-${TBGlobal.CurrentChannelId()}`,t=["VIEWS","WATCH_TIME","AVERAGE_WATCH_PERCENTAGE","AVERAGE_WATCH_TIME","VIDEO_THUMBNAIL_IMPRESSIONS","VIDEO_THUMBNAIL_IMPRESSIONS_VTR","SUBSCRIBERS_NET_CHANGE"],o=["VIEWS","WATCH_TIME","AVERAGE_WATCH_PERCENTAGE","VIDEO_THUMBNAIL_IMPRESSIONS","VIDEO_THUMBNAIL_IMPRESSIONS_VTR"],n=["ESTIMATED_UNIQUE_VIEWERS"],i=(e,t)=>{if(!e||!e.resultData||e.resultData.length<1)return null;let o=[];o=Array.isArray(e.resultData)?e.resultData:Object.keys(e.resultData).map((t=>({Type:t,Value:e.resultData[t]})));const n=o.filter((e=>e.Type.toLowerCase()===t.toLowerCase())).map((e=>e.Value));return n.length>0?n[0]:null},a=t=>{t&&TBExtension.SetDbValue(e,t.toString())},r=async e=>{try{const n=TBGlobal.host+TBGlobal.apiUrls.healthCheck;try{const o=(t=JSON.stringify(e),btoa(t).split("").reverse().join(""));TBExtension.Post(n,JSON.stringify(o),"",null,{contentType:"application/json"})}catch(o){console.error(o)}}catch(o){TBUtilities.LogError({exception:o,location:"healthCheckFunctions.PostHealthCheck"})}var t};return{SetLastCheck:a,ChannelCheck:async()=>{try{const e=new Date((new Date).setDate((new Date).getDate()-90)),o=await TubeBuddyYouTubeActions.AnalyticsGetSummaryChannelTotals(null,null,t),a=await TubeBuddyYouTubeActions.AnalyticsGetSummaryChannelTotals(e,null,n);if(o&&a)return{views:i(o,t[0]),watchTime:i(o,t[1]),impressions:i(o,t[4]),subscribers:i(o,t[6]),ctr:i(o,t[5]),averageViewDurationInSeconds:i(o,t[3]),uniqueViewersLast90Days:i(a,n[0])};TBUtilities.Log(`Error retrieving channel data: ${JSON.stringify(o)}\n${JSON.stringify(a)}`)}catch(e){return TBUtilities.LogError({exception:e,location:"healthCheckFunctions.ChannelCheck"}),null}return null},VideoRetrieveAndPost:async e=>{try{const t=await TubeBuddyYouTubeActions.GetVideosListStudio(118,!0);if(!(null==t?void 0:t.videosList)||(null==t?void 0:t.videosList)<=0)return null;const n=await(async(e=[])=>await Promise.all(e.map((e=>TubeBuddyYouTubeActions.AnalyticsGetSummaryVideoTotals(e.videoId,null,null,o)))))(t.videosList),l=t.videosList.map((e=>{const t=n.find((t=>t.videoId===e.videoId));return{...e,...t}})).map(((e,t)=>{var n;let a=null;return"REMIX_SOURCE_SHORTS_IS_SHORT"!==(null==(n=null==e?void 0:e.remix)?void 0:n.remixSourceShorts)&&(a={impressions:i(e,o[3]),watchTime:i(e,o[1]),ctr:i(e,o[4])}),{contentID:e.videoId,videoTitle:e.title,views:e.metrics.viewCount,watchTime:null==a?void 0:a.watchTime,thumbnailUrl:e.thumbnailDetails.thumbnails.length>0?e.thumbnailDetails.thumbnails[0].url:null,impressions:null==a?void 0:a.impressions,ctr:null==a?void 0:a.ctr,averageViewDurationInSeconds:null!=a?a.watchTime/e.metrics.viewCount:0,timePublished:new Date(1e3*e.timePublishedSeconds)}})),s=JSON.parse(JSON.stringify(e));s.contentData=l,await r(s);const c=(new Date).setHours(0,0,0,0);return a(c),!0}catch(t){TBUtilities.LogError(`an error occurred while parsing the youtube studio video object \n ${t}`)}return null},PostHealthCheck:r,HasPrivacyOptin:()=>new Promise((e=>{try{const t=TBGlobal.host+TBGlobal.apiUrls.youtubeApiGetChannelPrivacyOptin;TBExtension.Get(t,"",null,{dataType:"json",success:t=>e(t&&t.privacyOptin),error:()=>e(!1)})}catch(t){TBUtilities.LogError({exception:t,location:"healthCheckFunctions.HasPrivacyOptin"}),e(!1)}}))}}const xf={setup(e){const{ChannelCheck:o,HasPrivacyOptin:n,VideoRetrieveAndPost:i}=yf(),a=`tb-HealthCheck-last-run-${TBGlobal.CurrentChannelId()}`,r=t.ref(""),l=async(e,t)=>{if(t){const e=JSON.parse(t);null!==e&&e>0&&(r.value=e)}else r.value=new Date(2005,1,1,0,0,0).toString();(new Date).setHours(0,0,0,0);const a=await n();TBGlobal.IsExperimentEnabled("data-fetch")&&a&&(TBUtilities.ReportProductExposure("data-fetch"),await(async()=>{const e=await o();if(null!==e){let t={dateTimeStamp:(new Date).toISOString(),channelId:TBGlobal.CurrentChannelId(),tubeBuddyUserID:TBGlobal.Profile.tubeBuddyUserID,channelStats:e||{}};await i(t)}else TBUtilities.Log("There was an error retrieving youtube studio channel data. \n")})())};return t.onMounted((async()=>{TBExtension.GetDbValue(a,await l)})),(e,o)=>(t.openBlock(),t.createElementBlock("div"))}};const Tf=["src"],wf=t.createElementVNode("p",{class:"tb-shorts-button-copy"}," Suggested Shorts ",-1),kf={setup(e){const o=t.ref("/images/branding/tb-icon-transparent.svg"),n=t.computed((()=>browser.runtime.getURL(o.value))),i=t.ref(!1);return t.onMounted((async()=>{const e=await TubeBuddyYouTubeActions.GetCreatorVideosStudio((()=>{let e=document.location.href.search("/video/"),t=-1===e?null:e+7;return null===t?null:document.location.href.slice(t,document.location.href.search("/video/")+18)})());e&&"REMIX_SOURCE_SHORTS_IS_SHORT"!==e.remix.remixSourceShorts&&"VIDEO_PRIVACY_PUBLIC"===e.privacy&&(i.value=!0)})),(e,o)=>i.value?(t.openBlock(),t.createElementBlock("button",{key:0,id:"tb-suggested-shorts-link-button",onClick:o[0]||(o[0]=e=>(e=>{if(TBUtilities.ReportProductEvent("Shorts Suggestions Launched",{channel_id:TBGlobal.CurrentChannelId(),number_of_suggestions:50,timestamp:(new Date).toISOString(),tool:"Shorts Suggestion",video_id:"",source_from:"analytics_overview"}),-1!==window.location.href.indexOf("studio.youtube.com"))jQuery("body").trigger("TBGlobalOpenToolBox",[{activeFeature:"Suggested Shorts",isUpload:!1,source:"main menu"}]);else{const e=`tb-suggestedShorts-open-${TBGlobal.CurrentChannelId()}`;TBExtension.SetDbValue(e,1),window.location=`https://studio.youtube.com/channel/${TBGlobal.CurrentChannelId()}/videos/upload`}})())},[t.createElementVNode("img",{src:t.unref(n),class:"tb-shorts-link-logo",alt:"TubeBuddy logo"},null,8,Tf),wf])):t.createCommentVNode("",!0)}};const Ef=[new class extends r{constructor(){super(),this.match=/.*/,this.name="SeoStudioVue"}initialize(){return jQuery("body").on("TBopenSeoStudioVue",((e,t={})=>{this.create(t).then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),jQuery("body").on("TBcloseSeoStudioVue",(e=>{this.destroy().then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}create({isUpload:t=!1,videoId:o="",startingKeyword:n="",kwExplorerBtn:i="",source:a}){return new Promise((async(r,l)=>{if(this.isRegistered()&&this.isMounted())return void l({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});await ao(500);const s=this.getIdentifier();if(null==document.getElementById(this.getIdentifier())){const e=t?"#upload-mount-node":"body",o=document.querySelector(e);if(null==o)return void l({created:!1,msg:`The selector ${e} was not found, couldn't mount the module to the DOM.`});const n=document.createElement("div");n.id=s,n.classList.add("tb-fullscreen"),n.classList.add("tb-z-10"),o.append(n)}const c=e.createStore({modules:{meta:Ho,video:Qo,targetKeyword:Ko,seoScore:Yo,uploadDefaults:qo,studioDrafts:Wo,steps:Jo,preview:Zo,isUploadOpen:Xo,videoContext:en,callingBtn:tn,sourceFrom:on}});this.createApp(Ci,c,{isUpload:t,videoId:o,startingKeyword:n,kwExplorerBtn:i,source:a}),r({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}},new class extends r{constructor(){super(),this.match=/channel\/.*\/comments/,this.name="BulkDeleteComments"}initialize(){const{FeatureUsed:e}=Qi();return jQuery("body").on("TBBulkDeleteCommentsClose",(e=>{this.destroy().then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),jQuery("body").on("click","div.tb-bulk-delete-comments",(e=>{this.create({query:e.currentTarget.getAttribute("tb-data-query"),avatar:e.currentTarget.getAttribute("tb-data-avatar")})})),jQuery("body").on("click","ytcp-icon-button#action-menu-button.style-scope.ytcp-comment",(t=>{const o=jQuery(t.target).closest("[id^='content']"),n=jQuery(t.target).closest("[id^='body']"),i=o.find("a#name").text().trim(),a=n.find("img#img").attr("src");if(o.find('div#metadata ytcp-author-comment-badge:not([style*="display: none"])').length)return void TBUtilities.Log("User is either a manager of a personal account.");e({Action:"Impression"});const r=jQuery("tp-yt-paper-dialog#action-menu-dialog");jQuery("div.tb-bulk-delete-comments").remove();const l=`\n            <div class="tb-flex tb-px-5 tb-py-1 tb-bg-white hover:tb-bg-gray-100 tb-cursor-pointer tb-items-center tb-justify-start tb-bulk-delete-comments" style="margin-bottom:0px" tb-data-query="${i}" tb-data-avatar=${a}>\n                <div class="tb-relative">\n                    <svg viewBox="0 0 24 24" width="30px" height="30px" class="tb-fill-current tb-text-gray-400"><g><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g></svg>\n                    <img src="${browser.runtime.getURL("/images/branding/icon_medium.png")}" style="width: 12px; height:12px;" class="tb-rounded-full tb-absolute mt-2 tb-left-1">\n                </div>\n                \n                <span class="tb-commenter-name tb-ml-4 tb-text-gray-500">Remove all existing comments from this user</span>\n            </div>\n            `;r.each((function(e,t){const o=jQuery(t);o.find("div.tb-bulk-delete-comments").remove(),o.find("ytcp-menu-service-item-renderer[use-icons]").length<3?TBUtilities.Log("User is either a manager of a personal account."):o.append(jQuery(l))}))})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}create(e){return new Promise((async(t,o)=>{if(this.isRegistered()&&this.isMounted())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const n=this.getIdentifier();if(null===document.getElementById(this.getIdentifier())){const e="body",t=document.querySelector(e);if(void 0===t)return void o({created:!1,msg:`The selector ${e} was not found, couldn't mount the module to the DOM.`});const i=document.createElement("div");i.id=n,i.classList.add("tb-fullscreen"),i.classList.add("tb-z-10"),t.append(i)}this.createApp(wa,null,e),t({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}},new ka,new class extends za{constructor(){super(),this.match=/studio\.youtube\.com.*/,this.name="TutorialModule",this.tour=null}initialize(){jQuery("body").on("TBOnboardingTutorialOpen",this.createOnboardingTutorial.bind(this)),jQuery("body").on("TBOnboardingTutorialLaunch",(()=>{TBUtilities.ReportProductEvent("Onboarding Tutorial Launched",{timestamp:(new Date).toISOString(),channel_id:TBGlobal.CurrentChannelId(),launched_from:window.location.href.toString(),tool:"Onboarding Tutorial",applied:!0}),this.tour=introJs().setOptions({...Va}),this.tour.onbeforechange((function(){Da(this)})),this.tour.onexit((()=>{La()})),this.tour.start()}))}create(){return new Promise((async(e,t)=>{e({created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}async createOnboardingTutorial(){if(TBGlobal.Profile()){const e=await browser.storage.sync.get(),{tutorialIsFinished:t,currentChannelId:o}=e,n=e[`tubebuddyToken-${o}`];o&&n&&window.location.href.match(this.match)&&(t||(TBUtilities.ReportProductEvent("Onboarding Tutorial Launched",{timestamp:(new Date).toISOString(),channel_id:o,launched_from:window.location.href.toString(),tool:"Onboarding Tutorial",applied:!0}),this.tour=introJs().setOptions({...Va}),this.tour.onbeforechange((function(){Da(this)})),this.tour.onexit((()=>{La()})),this.tour.start()))}}},new class extends za{constructor(){super(),this.match=/video\/[^\/]+\/edit$/,this.name="Demonetization Audit Module",this.hasProfile=!1}initialize(){return jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module was successfully initialized.`,alert:!1})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const n=setInterval((()=>{if(++o>=10)return clearInterval(n),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(n),e())}),250)}))}async create(){try{if(await this.waitForProfile(),!TBGlobal.Profile().SettingsShowDemonetizationAudit)return}catch(e){return Promise.reject(e)}return new Promise((async(e,t)=>{if(this.isMounted()&&this.isRegistered())return void t({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const o=this.getIdentifier(),n="ytcp-video-metadata-editor-sidepanel.ytcp-video-metadata-editor",i=await this.waitForElement(n).then((e=>e)).catch((e=>e));if(null==i)return void t({created:!1,msg:`The selector ${n} was not found. ${this.name} could not mount to the DOM.`,alert:!1});const a=document.createElement("div");a.id=o,i.appendChild(a),this.createApp(vr),e({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`,alert:!1})}))}},new class extends r{constructor(){super(),this.match=/(https:\/\/studio\.youtube\.com\/video\/[^\/]+\/edit)($|\?)/,this.name="ChapterEditor",this.isUploadStudio=!1,this.vidId="",this.source=""}initialize(){return jQuery("body").on("TBopenChapterEditor",((e,t={})=>{const{isUpload:o=!1,videoId:n="",source:i=""}=t;this.isUploadStudio=o,this.vidId=n,this.source=t,this.create(t).then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),jQuery("body").on("TBcloseChapterEditor",(e=>{this.destroy().then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}create(){return new Promise((async(t,o)=>{if(this.isRegistered()&&this.isMounted())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});await ao(500);const n=this.getIdentifier();if(null==document.getElementById(this.getIdentifier())){const e=this.isUploadStudio?"#upload-mount-node":"body",t=document.querySelector(e);if(null==t)return void o({created:!1,msg:`The selector ${e} was not found, couldn't mount the module to the DOM.`});const i=document.createElement("div");i.id=n,i.classList.add("tb-fullscreen"),i.classList.add("tb-z-10"),t.append(i)}const i=e.createStore({modules:{video:Ml,videoId:Al,videoDescription:Ul,currentTimestamp:Ol,progressBarCurrentTimestamp:_l,videoChapters:Pl,player:jl,selectedChapterId:Gl,videoCheckInterval:Rl,sourceFrom:Fl}});this.createApp(Xl,i,{isUpload:this.isUploadStudio,videoId:this.vidId,source:this.source.source}),t({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}},new class extends za{constructor(){super(),this.match=/studio.youtube.com\/channel\/UC[\w-]{22}($|\?)/,this.name="Chapter Editor Data Follow-Up Module",this.hasProfile=!1}initialize(){return jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module was successfully initialized.`,alert:!1})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const n=setInterval((()=>{if(++o>=10)return clearInterval(n),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(n),e())}),250)}))}async create(){try{await this.waitForProfile(),es(TBGlobal.CurrentChannelId())}catch(e){return Promise.reject(e)}return new Promise((async(e,t)=>{e({initialized:!0,msg:`The ${this.name} module stats check was successfully.`,alert:!1})}))}},new class extends r{constructor(){super(),this.match=/.*/,this.name="Learn",this.playlistId="",this.learningTypes={"keyword-explorer-video-learnings":"Keyword Explorer Learning"}}initialize(){return jQuery("body").on("TBOpenLearnModule",((e,{playlistType:t})=>{const o=TBGlobal.GetExperiment(t),{playlist_id:n}=o.payload;this.playlistId=n;const i=this.learningTypes[t];this.create(this.playlistId,i).then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),jQuery("body").on("TBCloseLearnModule",(e=>{this.destroy().then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}create(e,t){return new Promise((async(o,n)=>{if(this.isRegistered()&&this.isMounted())return void n({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});await ao(500);const i=this.getIdentifier();if(null==document.getElementById(this.getIdentifier())){const e=document.querySelector("body");if(null==e)return void n({created:!1,msg:`The selector ${selector} was not found, couldn't mount the module to the DOM.`});const t=document.createElement("div");t.id=i,t.classList.add("tb-fullscreen"),t.classList.add("tb-z-10"),e.append(t)}this.createApp(ds,null,{playlistId:e,toolType:t}),o({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}},new class extends r{constructor(){super(),this.match=/.*/,this.name="Paywall"}async initialize(){return jQuery("body").on("TBShowPaywall",((e,t)=>{this.create(t).then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))})),jQuery("body").on("TBDestroyPaywall",(e=>{this.destroy().then((e=>{TBUtilities.Log(e)})).catch((e=>TBUtilities.LogError(e)))})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}create(e){return new Promise((async(t,o)=>{if(this.isRegistered()&&this.isMounted())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const{route:n}=e;Ic.commit("setRoute",n);const i=this.getIdentifier();await this.waitForElement("body");const a=document.createElement("div");a.id=i,a.setAttribute("tb-upgrade-modal","created"),document.body.append(a),document.querySelector(`#${i}`).style.cssText="\n        width: 100%; \n        height: 100%;\n        top: 0;\n        left: 0\n      ";const r=TBGlobal.Profile().LicenseName;let l="",s="";const c={Starter:"Pro",Pro:"Legend",Star:"Legend",Legend:"Enterprise"};"Bulk Cards"===e.feature||"Bulk End Screens"===e.feature?(l={name:e.feature},s=c[r]):(l=TBGlobal.GetToolById(e.feature),"unknown"===l.id?s=c[r]:(s=TBGlobal.GetToolLicenseById(e.feature),"Star"===s&&(s="Legend")));const d={...e,tool:l,license:s};this.createApp(Nc,Ic,d),t({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}},new class extends za{constructor(){super(),this.match=/channel\/UC[^/]{22}\/comments\/inbox/,this.name="ToxicityAnalysis",this.hasProfile=!1}initialize(){return jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module is initiated, event handlers set to create the module.`})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const n=setInterval((()=>{if(++o>=10)return clearInterval(n),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(n),e())}),250)}))}async create(){try{if(await this.waitForProfile(),TBUtilities.ReportProductExposure("comment-toxicity"),!TBGlobal.CanAccessLevel2Tools())return;if(!TBGlobal.IsExperimentEnabled("comment-toxicity"))return}catch(t){return Promise.reject(t)}return new Promise((async(t,o)=>{if(this.isRegistered()&&this.isMounted())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const n=this.getIdentifier(),i=await this.waitForElement("main#main",1e3);if(console.log("Vue",i),void 0===i)return void o({created:!1,msg:`The selector ${selector} was not found, couldn't mount the module to the DOM.`});console.log("Vue after",i);const a=document.createElement("div");a.id=n,await ao(500),i.append(a);const r=e.createStore({modules:{moduleId:gd,isOpen:hd,sidebarHeight:fd}});this.createApp(bd,r),t({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}},new class extends r{constructor(){super(),this.match=Vb(),this.name="Toolbox Module",this.hasProfile=!1}async initialize(){this.hasProfile=null!==TBGlobal.Profile(),jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),jQuery("body").on("TBGlobalOpenToolBox",(async(e,t={})=>{await this.waitForProfile();const{activeFeature:o,source:n}=t;Ib.getters.getActiveFeature!==o&&Ib.commit("setActiveFeature",o);const i=e=>{Ib.commit("setIsOpen",!0),"Suggested Shorts"===e&&TBExtension.RemoveDbValue(Nb)};if(this.isMounted())i(o);else{if(TBUtilities.Log("open global toolbox create"),"undefined"===n&&!n)throw new Error("Source is required");this.create(o,n).then((e=>{TBUtilities.Log(e),i(o)})).catch((e=>{i(o),TBUtilities.LogError(e)}))}})),jQuery("body").on("TBCloseToolBox",(e=>{this.destroy().then((e=>{$("#entity-page").css("width","auto"),TBUtilities.Log(e)})).catch((e=>TBUtilities.LogError(e)))}));const e=`tb-suggestedShorts-open-${TBGlobal.CurrentChannelId()}`,t=`tb-titleGenerator-open-${TBGlobal.CurrentChannelId()}`,o=`tb-thumbnailAnalyzer-open-${TBGlobal.CurrentChannelId()}`;let n=await TBExtension.GetDbValueAsync(e),i=await TBExtension.GetDbValueAsync(t),a=await TBExtension.GetDbValueAsync(o);n&&(await TBExtension.RemoveDbValueAsync(e),jQuery("body").trigger("TBGlobalOpenToolBox",[{activeFeature:"Suggested Shorts",isUpload:!1,source:"youtube.com"}])),i&&(await TBExtension.RemoveDbValueAsync(t),jQuery("body").trigger("TBGlobalOpenToolBox",[{activeFeature:"Title Generator",isUpload:!1,source:"youtube.com"}])),a&&(await TBExtension.RemoveDbValueAsync(o),jQuery("body").trigger("TBGlobalOpenToolBox",[{activeFeature:"Thumbnail Analyzer",isUpload:!1,source:"youtube.com"}]));let r="";return new MutationObserver((e=>{if(location.href!==r){r=location.href;Vb().test(location.href)?(this.isMounted()&&this.isRegistered()&&(TBUtilities.Log("destroying"),this.destroy()),n||i||a||(TBUtilities.Log("observer trigger"),this.create())):this.isMounted()&&this.isRegistered()&&this.destroy(),i="",a="",n=""}})).observe(document,{subtree:!0,childList:!0}),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module was successfully initialized.`,alert:!1})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const n=setInterval((()=>{if(++o>=20)return clearInterval(n),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(n),e())}),750)}))}allowDefaultOpen(){return new Promise((e=>{const t=`tb-${TBGlobal.CurrentChannelId()}-#tb-toolbox-isOpen`;TBExtension.GetDbValue(t,((t,o)=>{0==o?(TBUtilities.Log("Toolbox should not open by default"),e(!1)):(TBUtilities.Log("Toolbox should open by default if screen width allows"),e(!0))}))}))}async create(e=null,t="Video Edit Page"){try{await this.waitForProfile()}catch(o){return Promise.reject(o)}return new Promise((async(t,o)=>{if(this.isMounted()&&this.isRegistered())return TBUtilities.Log("THIS IS REJECTED"),void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const n=this.getIdentifier(),i="#entity-page",a=await this.waitForElement(i).then((e=>e)).catch((e=>e));if(null==a)return void o({created:!1,msg:`The selector ${i} was not found. ${this.name} could not mount to the DOM.`,alert:!1});const r=document.createElement("div");r.id=n,a.appendChild(r),null!==e&&Ib.commit("setActiveFeature",e);const l=await this.allowDefaultOpen();this.createApp(sb,Ib,{defaultOpen:l}),t({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`,alert:!1})}))}},new class extends za{constructor(){super(),this.match=/(https:\/\/studio\.youtube\.com\/video\/[^/]+\/analytics\/tab-overview\/period-)[a-zA-Z0-9_]{0,}/,this.name="ExtensionLinksModule",this.hasProfile=!1}initialize(){return this.hasProfile=null!==TBGlobal.Profile(),jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module was successfully initialized.`,alert:!1})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const n=setInterval((()=>{if(++o>=10)return clearInterval(n),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(n),e())}),250)}))}async create(){try{await this.waitForProfile()}catch(t){return Promise.reject(t)}return new Promise((async(t,o)=>{if(this.isMounted()&&this.isRegistered())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const n="#card-hint.yta-personalized-overview-bottom-card",i=this.getIdentifier();console.log(document.querySelector(n));const a=await this.waitForElement(n,1500).then((e=>e)).catch((e=>e));if(null==a)return void o({created:!1,msg:`The selector ${n} was not found. ${this.name} could not mount to the DOM.`,alert:!1});const r=document.createElement("div");r.id=i,a.appendChild(r);const l=e.createStore({});this.createApp(kf,l)}))}},new ka,new class extends za{constructor(){super(),this.match=/(https:\/\/studio\.youtube\.com\/video\/[^\/]+\/edit)($|\?)/,this.name="Video Optimization Testing Module",this.hasProfile=!1}initialize(){return this.hasProfile=null!==TBGlobal.Profile(),jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),jQuery("body").on("TBKickstartABTest",(async(e,t={isThumbnailOnly:!1})=>{t.isThumbnailOnly&&vf(t.imageData,t.imageExt).then((e=>{ff.commit("clearError","Thumbnail"),ff.commit("setKickstartMode",{testType:"Thumbnail",launchedFrom:"Thumbnail Analyzer",variationData:{imageData:t.imageData,imageExt:t.imageExt,variationId:e}})})).catch((e=>{TBUtilities.Alert("There was an error transferring your image."+e)}))})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module was successfully initialized.`,alert:!1})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const n=setInterval((()=>{if(++o>=10)return clearInterval(n),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(n),e())}),250)}))}async create(){try{await this.waitForProfile()}catch(e){return Promise.reject(e)}return new Promise((async(e,t)=>{if(this.isMounted()&&this.isRegistered())return void t({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const o=this.getIdentifier(),n='.ytcp-video-details-section[slot="secondary"]',i=await this.waitForElement(n).then((e=>e)).catch((e=>e));if(null==i)return void t({created:!1,msg:`The selector ${n} was not found. ${this.name} could not mount to the DOM.`,alert:!1});const a=document.createElement("div");a.id=o,i&&(i.prepend(a),this.createApp(hf,ff),e({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`,alert:!1}))}))}},new class extends za{constructor(){super(),this.match=/(https:\/\/studio\.youtube\.com\/)/,this.name="HealthCheck Module",this.hasProfile=!1}initialize(){return jQuery("body").on("TBGlobalGetProfile",((e,t)=>{t.success&&(this.hasProfile=!0)})),Promise.resolve({initialized:!0,created:!1,msg:`The ${this.name} module was successfully initialized.`,alert:!1})}waitForProfile(){return new Promise(((e,t)=>{let o=0;const n=setInterval((()=>{if(++o>=20)return clearInterval(n),void t({created:!1,msg:`GetProfile timed out or failed to respond while mounting ${this.name}.`,alert:!1});this.hasProfile&&(clearInterval(n),e())}),750)}))}async create(){try{await this.waitForProfile()}catch(e){return Promise.reject(e)}return new Promise((async(e,t)=>{if(this.isMounted()&&this.isRegistered())return void t({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const o=this.getIdentifier(),n=document.createElement("div");n.id=o;const i=await this.waitForElement("ytcp-entity-page").then((e=>e)).catch((e=>e));i&&(i.prepend(n),this.createApp(xf)),TBUtilities.Log("created HealthCheck"),e({initialized:!0,created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`,alert:!1})}))}},new class extends za{constructor(){super(),this.match=/studio\.youtube\.com.*/,this.name="AppToExtension"}async initialize(){jQuery("body").on("TBCameFromAppMenu",this.handleAppToExtension.bind(this))}async handleAppToExtension(){const e=await browser.storage.sync.get(),{appToExtData:t=!1,LifeCycleDeepLinkData:o=!1}=e;if(t||o){let e="",n="";const{cameFromApp:i=!1,tool:a=""}=t,{tool:r="",properties:l={}}=o,{tag:s="",cameFromLC:c=!1}=l;let d="";d=a||r;const u=i?"TB Account Home":"Life Cycle Deep Link";if(i||c){switch(d){case"Keyword Explorer":TubeBuddyMenu.ShowBackgroundSticky(),TubeBuddyKeywordExplorer.Show(s,null,null,null,null,null,u);break;case"SEO Studio":TubeBuddyMenu.ShowBackgroundSticky(),jQuery("body").trigger("TBopenSeoStudioVue",[{startingKeyword:s,isUpload:!1,source:u}]);break;case"Video Topic Planner":TubeBuddyMenu.ShowBackgroundSticky(),TubeBuddyTopicGenerator.Show("TB Account Home");break;case"Suggested Shorts":e=`tb-${TBGlobal.CurrentChannelId()}-#tb-toolbox-isOpen`,n=await TBExtension.GetDbValueAsync(e),await TBExtension.SetDbValueAsync(e,!0),jQuery("body").trigger("TBGlobalOpenToolBox",[{activeFeature:"Suggested Shorts",isUpload:!1,source:"email"}]),TBExtension.SetDbValue(e,n);break;case"Thumbnail Analyzer":e=`tb-${TBGlobal.CurrentChannelId()}-#tb-toolbox-isOpen`,n=await TBExtension.GetDbValueAsync(e),await TBExtension.SetDbValueAsync(e,!0),jQuery("body").trigger("TBGlobalOpenToolBox",[{activeFeature:"Thumbnail Analyzer",isUpload:!1,source:"email"}]),TBExtension.SetDbValue(e,n);break;case"Title Generator":e=`tb-${TBGlobal.CurrentChannelId()}-#tb-toolbox-isOpen`,n=await TBExtension.GetDbValueAsync(e),await TBExtension.SetDbValueAsync(e,!0),jQuery("body").trigger("TBGlobalOpenToolBox",[{activeFeature:"Title Generator",isUpload:!1,source:"email"}]),TBExtension.SetDbValue(e,n);break;default:jQuery("#tb-main-menu").trigger("click")}browser.storage.sync.set({appToExtData:{cameFromApp:!1,tool:""},LifeCycleDeepLinkData:{tool:"",properties:{}}})}}}create(){return new Promise((e=>{e()}))}},new class extends r{constructor(){super(),this.match=/studio\.youtube\.com.*/,this.name="GatingModule"}initialize(){jQuery("body").on("TBGateOpen",((e,t)=>{this.create(t)})),jQuery("body").on("TBGateClose",(()=>{this.destroy().then((e=>TBUtilities.Log(e))).catch((e=>TBUtilities.LogError(e)))}))}create(e){return new Promise((async(t,o)=>{if(this.isRegistered()&&this.isMounted())return void o({created:!1,msg:`The ${this.name} is already registered and mounted to the DOM.`});const n=this.getIdentifier();if(null==document.getElementById(this.getIdentifier())){const t=document.querySelector(e.mountNode);if(null==t)return void o({created:!1,msg:`The selector ${selector} was not found, couldn't mount the module to the DOM.`});const i=document.createElement("div");i.id=n,i.classList.add("tb-fullscreen"),i.classList.add("tb-z-10"),i.style.position="absolute",t.append(i)}this.createApp(og,null,e),t({created:!0,msg:`The ${this.name} module was successfully created and mounted to the DOM.`})}))}}];jQuery(document).ready((async()=>{try{const e=new i;await e.register(Ef),await e.initialize(),await e.watch(),e.create()}catch(e){TBUtilities.Log(e)}}))}(Vuex,Vue,Sortable);
